webpackJsonp([1], { 0: function (t, e, n) { t.exports = n("x35b") }, "2zkT": function (t, e, n) { "use strict"; var l = n("WFWZ"), s = n("s+UU"), i = n("dMus"), r = n("73T8"); class o extends s.a { constructor(t, e, n) { switch (super(), this.syncErrorValue = null, this.syncErrorThrown = !1, this.syncErrorThrowable = !1, this.isStopped = !1, arguments.length) { case 0: this.destination = i.a; break; case 1: if (!t) { this.destination = i.a; break } if ("object" == typeof t) { if (t instanceof o || "syncErrorThrowable" in t && t[r.a]) { const e = t[r.a](); this.syncErrorThrowable = e.syncErrorThrowable, this.destination = e, e.add(this) } else this.syncErrorThrowable = !0, this.destination = new a(this, t); break } default: this.syncErrorThrowable = !0, this.destination = new a(this, t, e, n) } } [r.a]() { return this } static create(t, e, n) { const l = new o(t, e, n); return l.syncErrorThrowable = !1, l } next(t) { this.isStopped || this._next(t) } error(t) { this.isStopped || (this.isStopped = !0, this._error(t)) } complete() { this.isStopped || (this.isStopped = !0, this._complete()) } unsubscribe() { this.closed || (this.isStopped = !0, super.unsubscribe()) } _next(t) { this.destination.next(t) } _error(t) { this.destination.error(t), this.unsubscribe() } _complete() { this.destination.complete(), this.unsubscribe() } _unsubscribeAndRecycle() { const { _parent: t, _parents: e } = this; return this._parent = null, this._parents = null, this.unsubscribe(), this.closed = !1, this.isStopped = !1, this._parent = t, this._parents = e, this } } e.a = o; class a extends o { constructor(t, e, n, s) { let r; super(), this._parentSubscriber = t; let o = this; Object(l.a)(e) ? r = e : e && (r = e.next, n = e.error, s = e.complete, e !== i.a && (o = Object.create(e), Object(l.a)(o.unsubscribe) && this.add(o.unsubscribe.bind(o)), o.unsubscribe = this.unsubscribe.bind(this))), this._context = o, this._next = r, this._error = n, this._complete = s } next(t) { if (!this.isStopped && this._next) { const { _parentSubscriber: e } = this; e.syncErrorThrowable ? this.__tryOrSetError(e, this._next, t) && this.unsubscribe() : this.__tryOrUnsub(this._next, t) } } error(t) { if (!this.isStopped) { const { _parentSubscriber: e } = this; if (this._error) e.syncErrorThrowable ? (this.__tryOrSetError(e, this._error, t), this.unsubscribe()) : (this.__tryOrUnsub(this._error, t), this.unsubscribe()); else { if (!e.syncErrorThrowable) throw this.unsubscribe(), t; e.syncErrorValue = t, e.syncErrorThrown = !0, this.unsubscribe() } } } complete() { if (!this.isStopped) { const { _parentSubscriber: t } = this; if (this._complete) { const e = () => this._complete.call(this._context); t.syncErrorThrowable ? (this.__tryOrSetError(t, e), this.unsubscribe()) : (this.__tryOrUnsub(e), this.unsubscribe()) } else this.unsubscribe() } } __tryOrUnsub(t, e) { try { t.call(this._context, e) } catch (t) { throw this.unsubscribe(), t } } __tryOrSetError(t, e, n) { try { e.call(this._context, n) } catch (e) { return t.syncErrorValue = e, t.syncErrorThrown = !0, !0 } return !1 } _unsubscribe() { const { _parentSubscriber: t } = this; this._context = null, this._parentSubscriber = null, t.unsubscribe() } } }, "3dPJ": function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("7oRV"); e.Solver = class { constructor(t = .999, e = 1e-8) { this.decayRate = t, this.smoothEps = e, this.stepCache = {} } reset() { this.stepNumberOfClippings = 0, this.stepTotalNumber = 0 } step(t, e, n, l) { this.reset(); const s = { ratioClipped: 0 }; for (const i in t) t.hasOwnProperty(i) && this.iterateModelLayer(t, i, l, n, e); return s.ratioClipped = 1 * this.stepNumberOfClippings / this.stepTotalNumber, s } iterateModelLayer(t, e, n, s, i) { const r = t[e]; this.stepCache.hasOwnProperty(e) || (this.stepCache[e] = new l.Mat(r.n, r.d)); const o = this.stepCache[e]; for (let l = 0; l < r.w.length; l++) { let t = this.RMSprop(r, l, o); t = this.gradientClipping(t, n), this.update(r, l, i, t, o, s), this.resetGradients(r, l) } } RMSprop(t, e, n) { const l = t.dw[e]; return n.w[e] = n.w[e] * this.decayRate + (1 - this.decayRate) * l * l, l } gradientClipping(t, e) { return t > e ? (t = e, this.stepNumberOfClippings++) : t < -e && (t = -e, this.stepNumberOfClippings++), this.stepTotalNumber++ , t } update(t, e, n, l, s, i) { t.w[e] += -n * l / Math.sqrt(s.w[e] + this.smoothEps) - i * t.w[e] } resetGradients(t, e) { t.dw[e] = 0 } } }, "48oy": function (t, e, n) { "use strict"; (function (t) { n.d(e, "g", function () { return Re }), n.d(e, "Q", function () { return Ee }), n.d(e, "T", function () { return ke }), n.d(e, "P", function () { return Oe }), n.d(e, "w", function () { return Te }), n.d(e, "c", function () { return Lt }), n.d(e, "A", function () { return Ut }), n.d(e, "z", function () { return Bt }), n.d(e, "b", function () { return $t }), n.d(e, "d", function () { return jt }), n.d(e, "e", function () { return Ft }), n.d(e, "S", function () { return Xe }), n.d(e, "K", function () { return _e }), n.d(e, "V", function () { return be }), n.d(e, "s", function () { return yn }), n.d(e, "f", function () { return xn }), n.d(e, "m", function () { return ue }), n.d(e, "l", function () { return at }), n.d(e, "E", function () { return Sn }), n.d(e, "F", function () { return Cn }), n.d(e, "a", function () { return f }), n.d(e, "N", function () { return b }), n.d(e, "L", function () { return w }), n.d(e, "R", function () { return D }), n.d(e, "p", function () { return z }), n.d(e, "o", function () { return a }), n.d(e, "n", function () { return x }), n.d(e, "y", function () { return C }), n.d(e, "G", function () { return E }), n.d(e, "x", function () { return ce }), n.d(e, "B", function () { return Ve }), n.d(e, "C", function () { return Ne }), n.d(e, "D", function () { return De }), n.d(e, "i", function () { return qt }), n.d(e, "j", function () { return Xt }), n.d(e, "k", function () { return je }), n.d(e, "t", function () { return le }), n.d(e, "v", function () { return ne }), n.d(e, "u", function () { return Fe }), n.d(e, "H", function () { return $e }), n.d(e, "I", function () { return Ue }), n.d(e, "J", function () { return Ge }), n.d(e, "M", function () { return qe }), n.d(e, "h", function () { return Qe }), n.d(e, "q", function () { return hn }), n.d(e, "r", function () { return dn }), n.d(e, "O", function () { return nn }), n.d(e, "U", function () { return _n }), n.d(e, "_7", function () { return sn }), n.d(e, "X", function () { return Wt }), n.d(e, "W", function () { return te }), n.d(e, "_4", function () { return O }), n.d(e, "_10", function () { return P }), n.d(e, "_23", function () { return N }), n.d(e, "_8", function () { return Vt }), n.d(e, "_9", function () { return Dt }), n.d(e, "Y", function () { return yl }), n.d(e, "Z", function () { return jl }), n.d(e, "_0", function () { return Bi }), n.d(e, "_1", function () { return Un }), n.d(e, "_2", function () { return rs }), n.d(e, "_3", function () { return bl }), n.d(e, "_6", function () { return fl }), n.d(e, "_11", function () { return Ol }), n.d(e, "_12", function () { return Tl }), n.d(e, "_14", function () { return Os }), n.d(e, "_15", function () { return Ql }), n.d(e, "_17", function () { return os }), n.d(e, "_20", function () { return as }), n.d(e, "_18", function () { return Ms }), n.d(e, "_19", function () { return Is }), n.d(e, "_22", function () { return Cs }), n.d(e, "_24", function () { return Ps }), n.d(e, "_25", function () { return Ln }), n.d(e, "_26", function () { return Vs }), n.d(e, "_13", function () { return bn }), n.d(e, "_16", function () { return wn }), n.d(e, "_21", function () { return vn }), n.d(e, "_5", function () { return zt }); var l = n("ves3"), s = n("Qi5R"), i = n("LiEr"), r = n("W/Sc"), o = n("s+UU"); class a { constructor(t) { this._desc = t, this.ngMetadataName = "InjectionToken" } toString() { return `InjectionToken ${this._desc}` } } const u = "__annotations__", c = "__paramaters__", h = "__prop__metadata__"; function d(t, e, n, l) { const s = p(e); function i(t) { if (this instanceof i) return s.call(this, t), this; const e = new i(t), n = function (t) { return (t.hasOwnProperty(u) ? t[u] : Object.defineProperty(t, u, { value: [] })[u]).push(e), t }; return l && l(n), n } return n && (i.prototype = Object.create(n.prototype)), i.prototype.ngMetadataName = t, i.annotationCls = i, i } function p(t) { return function (...e) { if (t) { const n = t(...e); for (const t in n) this[t] = n[t] } } } function m(t, e, n) { const l = p(e); function s(...t) { if (this instanceof s) return l.apply(this, t), this; const e = new s(...t); return n.annotation = e, n; function n(t, n, l) { const s = t.hasOwnProperty(c) ? t[c] : Object.defineProperty(t, c, { value: [] })[c]; for (; s.length <= l;)s.push(null); return (s[l] = s[l] || []).push(e), t } } return n && (s.prototype = Object.create(n.prototype)), s.prototype.ngMetadataName = t, s.annotationCls = s, s } function g(t, e, n) { const l = p(e); function s(...t) { if (this instanceof s) return l.apply(this, t), this; const e = new s(...t); return function (t, n) { const l = t.constructor, s = l.hasOwnProperty(h) ? l[h] : Object.defineProperty(l, h, { value: {} })[h]; s[n] = s.hasOwnProperty(n) && s[n] || [], s[n].unshift(e) } } return n && (s.prototype = Object.create(n.prototype)), s.prototype.ngMetadataName = t, s.annotationCls = s, s } const f = new a("AnalyzeForEntryComponents"); m("Attribute", t => ({ attributeName: t })); class _ { } g("ContentChildren", (t, e = {}) => Object.assign({ selector: t, first: !1, isViewQuery: !1, descendants: !1 }, e), _), g("ContentChild", (t, e = {}) => Object.assign({ selector: t, first: !0, isViewQuery: !1, descendants: !0 }, e), _), g("ViewChildren", (t, e = {}) => Object.assign({ selector: t, first: !1, isViewQuery: !0, descendants: !0 }, e), _), g("ViewChild", (t, e) => Object.assign({ selector: t, first: !0, isViewQuery: !0, descendants: !0 }, e), _); const y = function () { var t = { OnPush: 0, Default: 1 }; return t[t.OnPush] = "OnPush", t[t.Default] = "Default", t }(); d("Component", (t = {}) => Object.assign({ changeDetection: y.Default }, t), d("Directive", (t = {}) => t)), d("Pipe", t => Object.assign({ pure: !0 }, t)), g("Input", t => ({ bindingPropertyName: t })), g("Output", t => ({ bindingPropertyName: t })), g("HostBinding", t => ({ hostPropertyName: t })), g("HostListener", (t, e) => ({ eventName: t, args: e })), d("NgModule", t => t); const b = function () { var t = { Emulated: 0, Native: 1, None: 2 }; return t[t.Emulated] = "Emulated", t[t.Native] = "Native", t[t.None] = "None", t }(); class w { constructor(t) { this.full = t, this.major = t.split(".")[0], this.minor = t.split(".")[1], this.patch = t.split(".").slice(2).join(".") } } const v = new w("5.2.9"), x = m("Inject", t => ({ token: t })), C = m("Optional"), S = (d("Injectable"), m("Self")), E = m("SkipSelf"), k = (m("Host"), "undefined" != typeof window && window), T = "undefined" != typeof self && "undefined" != typeof WorkerGlobalScope && self instanceof WorkerGlobalScope && self, O = k || "undefined" != typeof t && t || T, A = Promise.resolve(0); let I = null; function M() { if (!I) { const t = O.Symbol; if (t && t.iterator) I = t.iterator; else { const t = Object.getOwnPropertyNames(Map.prototype); for (let e = 0; e < t.length; ++e) { const n = t[e]; "entries" !== n && "size" !== n && Map.prototype[n] === Map.prototype.entries && (I = n) } } } return I } function R(t) { "undefined" == typeof Zone ? A.then(() => { t && t.apply(null, null) }) : Zone.current.scheduleMicroTask("scheduleMicrotask", t) } function P(t, e) { return t === e || "number" == typeof t && "number" == typeof e && isNaN(t) && isNaN(e) } function N(t) { if ("string" == typeof t) return t; if (t instanceof Array) return "[" + t.map(N).join(", ") + "]"; if (null == t) return "" + t; if (t.overriddenName) return `${t.overriddenName}`; if (t.name) return `${t.name}`; const e = t.toString(); if (null == e) return "" + e; const n = e.indexOf("\n"); return -1 === n ? e : e.substring(0, n) } function D(t) { return t.__forward_ref__ = D, t.toString = function () { return N(this()) }, t } function V(t) { return "function" == typeof t && t.hasOwnProperty("__forward_ref__") && t.__forward_ref__ === D ? t() : t } const j = "__source", F = new Object, L = F; class z { static create(t, e) { return Array.isArray(t) ? new Y(t, e) : new Y(t.providers, t.parent, t.name || null) } } z.THROW_IF_NOT_FOUND = F, z.NULL = new class { get(t, e = F) { if (e === F) throw new Error(`NullInjectorError: No provider for ${N(t)}!`); return e } }; const H = function (t) { return t }, U = [], B = H, $ = function () { return Array.prototype.slice.call(arguments) }, W = {}, G = function (t) { for (let e in t) if (t[e] === W) return e; throw Error("!prop") }({ provide: String, useValue: W }), q = "ngTokenPath", Q = "ngTempTokenPath", K = z.NULL, J = /\n/gm, Z = "\u0275"; class Y { constructor(t, e = K, n = null) { this.parent = e, this.source = n; const l = this._records = new Map; l.set(z, { token: z, fn: H, deps: U, value: this, useNew: !1 }), function t(e, n) { if (n) if ((n = V(n)) instanceof Array) for (let l = 0; l < n.length; l++)t(e, n[l]); else { if ("function" == typeof n) throw et("Function/Class not supported", n); if (!n || "object" != typeof n || !n.provide) throw et("Unexpected provider", n); { let t = V(n.provide); const l = function (t) { const e = function (t) { let e = U; const n = t.deps; if (n && n.length) { e = []; for (let t = 0; t < n.length; t++) { let l = 6, s = V(n[t]); if (s instanceof Array) for (let t = 0, e = s; t < e.length; t++) { const n = e[t]; n instanceof C || n == C ? l |= 1 : n instanceof E || n == E ? l &= -3 : n instanceof S || n == S ? l &= -5 : s = n instanceof x ? n.token : V(n) } e.push({ token: s, options: l }) } } else if (t.useExisting) e = [{ token: V(t.useExisting), options: 6 }]; else if (!(n || G in t)) throw et("'deps' required", t); return e }(t); let n = H, l = U, s = !1, i = V(t.provide); if (G in t) l = t.useValue; else if (t.useFactory) n = t.useFactory; else if (t.useExisting); else if (t.useClass) s = !0, n = V(t.useClass); else { if ("function" != typeof i) throw et("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable", t); s = !0, n = i } return { deps: e, fn: n, useNew: s, value: l } }(n); if (!0 === n.multi) { let l = e.get(t); if (l) { if (l.fn !== $) throw X(t) } else e.set(t, l = { token: n.provide, deps: [], useNew: !1, fn: $, value: U }); l.deps.push({ token: t = n, options: 6 }) } const s = e.get(t); if (s && s.fn == $) throw X(t); e.set(t, l) } } }(l, t) } get(t, e) { const n = this._records.get(t); try { return function t(e, n, l, s, i) { try { return function (e, n, l, s, i) { let r; if (n) { if ((r = n.value) == B) throw Error(Z + "Circular dependency"); if (r === U) { n.value = B; let e = void 0, i = n.useNew, o = n.fn, a = n.deps, u = U; if (a.length) { u = []; for (let e = 0; e < a.length; e++) { const n = a[e], i = n.options, r = 2 & i ? l.get(n.token) : void 0; u.push(t(n.token, r, l, r || 4 & i ? s : K, 1 & i ? null : z.THROW_IF_NOT_FOUND)) } } n.value = r = i ? new o(...u) : o.apply(e, u) } } else r = s.get(e, i); return r }(e, n, l, s, i) } catch (t) { throw t instanceof Error || (t = new Error(t)), (t[Q] = t[Q] || []).unshift(e), n && n.value == B && (n.value = U), t } }(t, n, this._records, this.parent, e) } catch (e) { const n = e[Q]; throw t[j] && n.unshift(t[j]), e.message = tt("\n" + e.message, n, this.source), e[q] = n, e[Q] = null, e } } toString() { const t = []; return this._records.forEach((e, n) => t.push(N(n))), `StaticInjector[${t.join(", ")}]` } } function X(t) { return et("Cannot mix multi providers and regular providers", t) } function tt(t, e, n = null) { t = t && "\n" === t.charAt(0) && t.charAt(1) == Z ? t.substr(2) : t; let l = N(e); if (e instanceof Array) l = e.map(N).join(" -> "); else if ("object" == typeof e) { let t = []; for (let n in e) if (e.hasOwnProperty(n)) { let l = e[n]; t.push(n + ":" + ("string" == typeof l ? JSON.stringify(l) : N(l))) } l = `{${t.join(", ")}}` } return `StaticInjectorError${n ? "(" + n + ")" : ""}[${l}]: ${t.replace(J, "\n  ")}` } function et(t, e) { return new Error(tt(t, e)) } const nt = "ngDebugContext", lt = "ngOriginalError", st = "ngErrorLogger"; function it(t) { return t[nt] } function rt(t) { return t[lt] } function ot(t, ...e) { t.error(...e) } class at { constructor() { this._console = console } handleError(t) { const e = this._findOriginalError(t), n = this._findContext(t), l = function (t) { return t[st] || ot }(t); l(this._console, "ERROR", t), e && l(this._console, "ORIGINAL ERROR", e), n && l(this._console, "ERROR CONTEXT", n) } _findContext(t) { return t ? it(t) ? it(t) : this._findContext(rt(t)) : null } _findOriginalError(t) { let e = rt(t); for (; e && rt(e);)e = rt(e); return e } } function ut(t) { return t.length > 1 ? " (" + function (t) { const e = []; for (let n = 0; n < t.length; ++n) { if (e.indexOf(t[n]) > -1) return e.push(t[n]), e; e.push(t[n]) } return e }(t.slice().reverse()).map(t => N(t.token)).join(" -> ") + ")" : "" } function ct(t, e, n, l) { const s = [e], i = n(s), r = l ? function (t, e) { const n = `${i} caused by: ${e instanceof Error ? e.message : e}`, l = Error(n); return l[lt] = e, l }(0, l) : Error(i); return r.addKey = ht, r.keys = s, r.injectors = [t], r.constructResolvingMessage = n, r[lt] = l, r } function ht(t, e) { this.injectors.push(t), this.keys.push(e), this.message = this.constructResolvingMessage(this.keys) } function dt(t, e) { const n = []; for (let l = 0, s = e.length; l < s; l++) { const t = e[l]; n.push(t && 0 != t.length ? t.map(N).join(" ") : "?") } return Error("Cannot resolve all parameters for '" + N(t) + "'(" + n.join(", ") + "). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '" + N(t) + "' is decorated with Injectable.") } function pt(t, e) { return Error(`Cannot mix multi providers and regular providers, got: ${t} ${e}`) } class mt { constructor(t, e) { if (this.token = t, this.id = e, !t) throw new Error("Token must be defined!"); this.displayName = N(this.token) } static get(t) { return gt.get(V(t)) } static get numberOfKeys() { return gt.numberOfKeys } } const gt = new class { constructor() { this._allKeys = new Map } get(t) { if (t instanceof mt) return t; if (this._allKeys.has(t)) return this._allKeys.get(t); const e = new mt(t, mt.numberOfKeys); return this._allKeys.set(t, e), e } get numberOfKeys() { return this._allKeys.size } }, ft = Function; function _t(t) { return "function" == typeof t } const yt = /^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/, bt = /^class\s+[A-Za-z\d$_]*\s*extends\s+[A-Za-z\d$_]+\s*{/, wt = /^class\s+[A-Za-z\d$_]*\s*extends\s+[A-Za-z\d$_]+\s*{[\s\S]*constructor\s*\(/; function vt(t) { return t ? t.map(t => new (0, t.type.annotationCls)(...t.args ? t.args : [])) : [] } function xt(t) { const e = t.prototype ? Object.getPrototypeOf(t.prototype) : null; return (e ? e.constructor : null) || Object } const Ct = new class { constructor(t) { this.reflectionCapabilities = t } updateCapabilities(t) { this.reflectionCapabilities = t } factory(t) { return this.reflectionCapabilities.factory(t) } parameters(t) { return this.reflectionCapabilities.parameters(t) } annotations(t) { return this.reflectionCapabilities.annotations(t) } propMetadata(t) { return this.reflectionCapabilities.propMetadata(t) } hasLifecycleHook(t, e) { return this.reflectionCapabilities.hasLifecycleHook(t, e) } getter(t) { return this.reflectionCapabilities.getter(t) } setter(t) { return this.reflectionCapabilities.setter(t) } method(t) { return this.reflectionCapabilities.method(t) } importUri(t) { return this.reflectionCapabilities.importUri(t) } resourceUri(t) { return this.reflectionCapabilities.resourceUri(t) } resolveIdentifier(t, e, n, l) { return this.reflectionCapabilities.resolveIdentifier(t, e, n, l) } resolveEnum(t, e) { return this.reflectionCapabilities.resolveEnum(t, e) } }(new class { constructor(t) { this._reflect = t || O.Reflect } isReflectionEnabled() { return !0 } factory(t) { return (...e) => new t(...e) } _zipTypesAndAnnotations(t, e) { let n; n = "undefined" == typeof t ? new Array(e.length) : new Array(t.length); for (let l = 0; l < n.length; l++)n[l] = "undefined" == typeof t ? [] : t[l] != Object ? [t[l]] : [], e && null != e[l] && (n[l] = n[l].concat(e[l])); return n } _ownParameters(t, e) { const n = t.toString(); if (yt.exec(n) || bt.exec(n) && !wt.exec(n)) return null; if (t.parameters && t.parameters !== e.parameters) return t.parameters; const l = t.ctorParameters; if (l && l !== e.ctorParameters) { const t = "function" == typeof l ? l() : l, e = t.map(t => t && t.type), n = t.map(t => t && vt(t.decorators)); return this._zipTypesAndAnnotations(e, n) } const s = t.hasOwnProperty(c) && t[c], i = this._reflect && this._reflect.getOwnMetadata && this._reflect.getOwnMetadata("design:paramtypes", t); return i || s ? this._zipTypesAndAnnotations(i, s) : new Array(t.length).fill(void 0) } parameters(t) { if (!_t(t)) return []; const e = xt(t); let n = this._ownParameters(t, e); return n || e === Object || (n = this.parameters(e)), n || [] } _ownAnnotations(t, e) { if (t.annotations && t.annotations !== e.annotations) { let e = t.annotations; return "function" == typeof e && e.annotations && (e = e.annotations), e } return t.decorators && t.decorators !== e.decorators ? vt(t.decorators) : t.hasOwnProperty(u) ? t[u] : null } annotations(t) { if (!_t(t)) return []; const e = xt(t), n = this._ownAnnotations(t, e) || []; return (e !== Object ? this.annotations(e) : []).concat(n) } _ownPropMetadata(t, e) { if (t.propMetadata && t.propMetadata !== e.propMetadata) { let e = t.propMetadata; return "function" == typeof e && e.propMetadata && (e = e.propMetadata), e } if (t.propDecorators && t.propDecorators !== e.propDecorators) { const e = t.propDecorators, n = {}; return Object.keys(e).forEach(t => { n[t] = vt(e[t]) }), n } return t.hasOwnProperty(h) ? t[h] : null } propMetadata(t) { if (!_t(t)) return {}; const e = xt(t), n = {}; if (e !== Object) { const t = this.propMetadata(e); Object.keys(t).forEach(e => { n[e] = t[e] }) } const l = this._ownPropMetadata(t, e); return l && Object.keys(l).forEach(t => { const e = []; n.hasOwnProperty(t) && e.push(...n[t]), e.push(...l[t]), n[t] = e }), n } hasLifecycleHook(t, e) { return t instanceof ft && e in t.prototype } guards(t) { return {} } getter(t) { return new Function("o", "return o." + t + ";") } setter(t) { return new Function("o", "v", "return o." + t + " = v;") } method(t) { const e = `if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`; return new Function("o", "args", e) } importUri(t) { return "object" == typeof t && t.filePath ? t.filePath : `./${N(t)}` } resourceUri(t) { return `./${N(t)}` } resolveIdentifier(t, e, n, l) { return l } resolveEnum(t, e) { return t[e] } }); class St { constructor(t, e, n) { this.key = t, this.optional = e, this.visibility = n } static fromKey(t) { return new St(t, !1, null) } } const Et = []; class kt { constructor(t, e, n) { this.key = t, this.resolvedFactories = e, this.multiProvider = n, this.resolvedFactory = this.resolvedFactories[0] } } class Tt { constructor(t, e) { this.factory = t, this.dependencies = e } } function Ot(t) { return new kt(mt.get(t.provide), [function (t) { let e, n; if (t.useClass) { const l = V(t.useClass); e = Ct.factory(l), n = At(l) } else t.useExisting ? (e = (t => t), n = [St.fromKey(mt.get(t.useExisting))]) : t.useFactory ? (e = t.useFactory, n = function (t, e) { if (e) { const n = e.map(t => [t]); return e.map(e => It(t, e, n)) } return At(t) }(t.useFactory, t.deps)) : (e = (() => t.useValue), n = Et); return new Tt(e, n) }(t)], t.multi || !1) } function At(t) { const e = Ct.parameters(t); if (!e) return []; if (e.some(t => null == t)) throw dt(t, e); return e.map(n => It(t, n, e)) } function It(t, e, n) { let l = null, s = !1; if (!Array.isArray(e)) return Mt(e instanceof x ? e.token : e, s, null); let i = null; for (let r = 0; r < e.length; ++r) { const t = e[r]; t instanceof ft ? l = t : t instanceof x ? l = t.token : t instanceof C ? s = !0 : t instanceof S || t instanceof E ? i = t : t instanceof a && (l = t) } if (null != (l = V(l))) return Mt(l, s, i); throw dt(t, n) } function Mt(t, e, n) { return new St(mt.get(t), e, n) } const Rt = new Object; class Pt { static resolve(t) { return function (t) { const e = function (t, e) { for (let n = 0; n < t.length; n++) { const l = t[n], s = e.get(l.key.id); if (s) { if (l.multiProvider !== s.multiProvider) throw pt(s, l); if (l.multiProvider) for (let t = 0; t < l.resolvedFactories.length; t++)s.resolvedFactories.push(l.resolvedFactories[t]); else e.set(l.key.id, l) } else { let t; t = l.multiProvider ? new kt(l.key, l.resolvedFactories.slice(), l.multiProvider) : l, e.set(l.key.id, t) } } return e }(function t(e, n) { return e.forEach(e => { if (e instanceof ft) n.push({ provide: e, useClass: e }); else if (e && "object" == typeof e && void 0 !== e.provide) n.push(e); else { if (!(e instanceof Array)) throw Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`); t(e, n) } }), n }(t, []).map(Ot), new Map); return Array.from(e.values()) }(t) } static resolveAndCreate(t, e) { const n = Pt.resolve(t); return Pt.fromResolvedProviders(n, e) } static fromResolvedProviders(t, e) { return new Nt(t, e) } } class Nt { constructor(t, e) { this._constructionCounter = 0, this._providers = t, this.parent = e || null; const n = t.length; this.keyIds = new Array(n), this.objs = new Array(n); for (let l = 0; l < n; l++)this.keyIds[l] = t[l].key.id, this.objs[l] = Rt } get(t, e = L) { return this._getByKey(mt.get(t), null, e) } resolveAndCreateChild(t) { const e = Pt.resolve(t); return this.createChildFromResolved(e) } createChildFromResolved(t) { const e = new Nt(t); return e.parent = this, e } resolveAndInstantiate(t) { return this.instantiateResolved(Pt.resolve([t])[0]) } instantiateResolved(t) { return this._instantiateProvider(t) } getProviderAtIndex(t) { if (t < 0 || t >= this._providers.length) throw function (t) { return Error(`Index ${t} is out-of-bounds.`) }(t); return this._providers[t] } _new(t) { if (this._constructionCounter++ > this._getMaxNumberOfObjects()) throw function (e, n) { return ct(e, t.key, function (t) { return `Cannot instantiate cyclic dependency!${ut(t)}` }) }(this); return this._instantiateProvider(t) } _getMaxNumberOfObjects() { return this.objs.length } _instantiateProvider(t) { if (t.multiProvider) { const e = new Array(t.resolvedFactories.length); for (let n = 0; n < t.resolvedFactories.length; ++n)e[n] = this._instantiate(t, t.resolvedFactories[n]); return e } return this._instantiate(t, t.resolvedFactories[0]) } _instantiate(t, e) { const n = e.factory; let l, s; try { l = e.dependencies.map(t => this._getByReflectiveDependency(t)) } catch (e) { throw e.addKey && e.addKey(this, t.key), e } try { s = n(...l) } catch (e) { throw function (e, n, l, s) { return ct(e, t.key, function (t) { const e = N(t[0].token); return `${n.message}: Error during instantiation of ${e}!${ut(t)}.` }, n) }(this, e) } return s } _getByReflectiveDependency(t) { return this._getByKey(t.key, t.visibility, t.optional ? null : L) } _getByKey(t, e, n) { return t === Nt.INJECTOR_KEY ? this : e instanceof S ? this._getByKeySelf(t, n) : this._getByKeyDefault(t, n, e) } _getObjByKeyId(t) { for (let e = 0; e < this.keyIds.length; e++)if (this.keyIds[e] === t) return this.objs[e] === Rt && (this.objs[e] = this._new(this._providers[e])), this.objs[e]; return Rt } _throwOrNull(t, e) { if (e !== L) return e; throw function (t, e) { return ct(t, e, function (t) { return `No provider for ${N(t[0].token)}!${ut(t)}` }) }(this, t) } _getByKeySelf(t, e) { const n = this._getObjByKeyId(t.id); return n !== Rt ? n : this._throwOrNull(t, e) } _getByKeyDefault(t, e, n) { let l; for (l = n instanceof E ? this.parent : this; l instanceof Nt;) { const e = l, n = e._getObjByKeyId(t.id); if (n !== Rt) return n; l = e.parent } return null !== l ? l.get(t.token, e) : this._throwOrNull(t, e) } get displayName() { return `ReflectiveInjector(providers: [${function (t, e) { const n = new Array(t._providers.length); for (let l = 0; l < t._providers.length; ++l)n[l] = e(t.getProviderAtIndex(l)); return n }(this, t => ' "' + t.key.displayName + '" ').join(", ")}])` } toString() { return this.displayName } } function Dt(t) { return !!t && "function" == typeof t.then } function Vt(t) { return !!t && "function" == typeof t.subscribe } Nt.INJECTOR_KEY = mt.get(z); const jt = new a("Application Initializer"); class Ft { constructor(t) { this.appInits = t, this.initialized = !1, this.done = !1, this.donePromise = new Promise((t, e) => { this.resolve = t, this.reject = e }) } runInitializers() { if (this.initialized) return; const t = [], e = () => { this.done = !0, this.resolve() }; if (this.appInits) for (let n = 0; n < this.appInits.length; n++) { const e = this.appInits[n](); Dt(e) && t.push(e) } Promise.all(t).then(() => { e() }).catch(t => { this.reject(t) }), 0 === t.length && e(), this.initialized = !0 } } const Lt = new a("AppId"); function zt() { return `${Ht()}${Ht()}${Ht()}` } function Ht() { return String.fromCharCode(97 + Math.floor(25 * Math.random())) } const Ut = new a("Platform Initializer"), Bt = new a("Platform ID"), $t = new a("appBootstrapListener"); new a("Application Packages Root URL"); class Wt { log(t) { console.log(t) } warn(t) { console.warn(t) } } function Gt() { throw new Error("Runtime compiler is not loaded") } Wt.ctorParameters = (() => []); class qt { compileModuleSync(t) { throw Gt() } compileModuleAsync(t) { throw Gt() } compileModuleAndAllComponentsSync(t) { throw Gt() } compileModuleAndAllComponentsAsync(t) { throw Gt() } clearCache() { } clearCacheFor(t) { } } new a("compilerOptions"); class Qt { } class Kt { } class Jt { } function Zt(t) { const e = Error(`No component factory found for ${N(t)}. Did you add it to @NgModule.entryComponents?`); return e[Yt] = t, e } const Yt = "ngComponent"; class Xt { } Xt.NULL = new class { resolveComponentFactory(t) { throw Zt(t) } }; class te { constructor(t, e, n) { this._parent = e, this._ngModule = n, this._factories = new Map; for (let l = 0; l < t.length; l++) { const e = t[l]; this._factories.set(e.componentType, e) } } resolveComponentFactory(t) { let e = this._factories.get(t); if (!e && this._parent && (e = this._parent.resolveComponentFactory(t)), !e) throw Zt(t); return new ee(e, this._ngModule) } } class ee extends Jt { constructor(t, e) { super(), this.factory = t, this.ngModule = e, this.selector = t.selector, this.componentType = t.componentType, this.ngContentSelectors = t.ngContentSelectors, this.inputs = t.inputs, this.outputs = t.outputs } create(t, e, n, l) { return this.factory.create(t, e, n, l || this.ngModule) } } class ne { } class le { } let se, ie; const re = function () { const t = O.wtf; return !(!t || !(se = t.trace) || (ie = se.events, 0)) }(), oe = re ? function (t, e = null) { return ie.createScope(t, e) } : (t, e) => (function (t, e) { return null }), ae = re ? function (t, e) { return se.leaveScope(t, e), e } : (t, e) => e; class ue extends r.a { constructor(t = !1) { super(), this.__isAsync = t } emit(t) { super.next(t) } subscribe(t, e, n) { let l, s = t => null, i = () => null; t && "object" == typeof t ? (l = this.__isAsync ? e => { setTimeout(() => t.next(e)) } : e => { t.next(e) }, t.error && (s = this.__isAsync ? e => { setTimeout(() => t.error(e)) } : e => { t.error(e) }), t.complete && (i = this.__isAsync ? () => { setTimeout(() => t.complete()) } : () => { t.complete() })) : (l = this.__isAsync ? e => { setTimeout(() => t(e)) } : e => { t(e) }, e && (s = this.__isAsync ? t => { setTimeout(() => e(t)) } : t => { e(t) }), n && (i = this.__isAsync ? () => { setTimeout(() => n()) } : () => { n() })); const r = super.subscribe(l, s, i); return t instanceof o.a && t.add(r), r } } class ce { constructor({ enableLongStackTrace: t = !1 }) { if (this.hasPendingMicrotasks = !1, this.hasPendingMacrotasks = !1, this.isStable = !0, this.onUnstable = new ue(!1), this.onMicrotaskEmpty = new ue(!1), this.onStable = new ue(!1), this.onError = new ue(!1), "undefined" == typeof Zone) throw new Error("In this configuration Angular requires Zone.js"); Zone.assertZonePatched(), this._nesting = 0, this._outer = this._inner = Zone.current, Zone.wtfZoneSpec && (this._inner = this._inner.fork(Zone.wtfZoneSpec)), t && Zone.longStackTraceZoneSpec && (this._inner = this._inner.fork(Zone.longStackTraceZoneSpec)), function (t) { t._inner = t._inner.fork({ name: "angular", properties: { isAngularZone: !0 }, onInvokeTask: (e, n, l, s, i, r) => { try { return me(t), e.invokeTask(l, s, i, r) } finally { ge(t) } }, onInvoke: (e, n, l, s, i, r, o) => { try { return me(t), e.invoke(l, s, i, r, o) } finally { ge(t) } }, onHasTask: (e, n, l, s) => { e.hasTask(l, s), n === l && ("microTask" == s.change ? (t.hasPendingMicrotasks = s.microTask, pe(t)) : "macroTask" == s.change && (t.hasPendingMacrotasks = s.macroTask)) }, onHandleError: (e, n, l, s) => (e.handleError(l, s), t.runOutsideAngular(() => t.onError.emit(s)), !1) }) }(this) } static isInAngularZone() { return !0 === Zone.current.get("isAngularZone") } static assertInAngularZone() { if (!ce.isInAngularZone()) throw new Error("Expected to be in Angular Zone, but it is not!") } static assertNotInAngularZone() { if (ce.isInAngularZone()) throw new Error("Expected to not be in Angular Zone, but it is!") } run(t, e, n) { return this._inner.run(t, e, n) } runTask(t, e, n, l) { const s = this._inner, i = s.scheduleEventTask("NgZoneEvent: " + l, t, de, he, he); try { return s.runTask(i, e, n) } finally { s.cancelTask(i) } } runGuarded(t, e, n) { return this._inner.runGuarded(t, e, n) } runOutsideAngular(t) { return this._outer.run(t) } } function he() { } const de = {}; function pe(t) { if (0 == t._nesting && !t.hasPendingMicrotasks && !t.isStable) try { t._nesting++ , t.onMicrotaskEmpty.emit(null) } finally { if (t._nesting-- , !t.hasPendingMicrotasks) try { t.runOutsideAngular(() => t.onStable.emit(null)) } finally { t.isStable = !0 } } } function me(t) { t._nesting++ , t.isStable && (t.isStable = !1, t.onUnstable.emit(null)) } function ge(t) { t._nesting-- , pe(t) } class fe { constructor() { this.hasPendingMicrotasks = !1, this.hasPendingMacrotasks = !1, this.isStable = !0, this.onUnstable = new ue, this.onMicrotaskEmpty = new ue, this.onStable = new ue, this.onError = new ue } run(t) { return t() } runGuarded(t) { return t() } runOutsideAngular(t) { return t() } runTask(t) { return t() } } class _e { constructor(t) { this._ngZone = t, this._pendingCount = 0, this._isZoneStable = !0, this._didWork = !1, this._callbacks = [], this._watchAngularEvents() } _watchAngularEvents() { this._ngZone.onUnstable.subscribe({ next: () => { this._didWork = !0, this._isZoneStable = !1 } }), this._ngZone.runOutsideAngular(() => { this._ngZone.onStable.subscribe({ next: () => { ce.assertNotInAngularZone(), R(() => { this._isZoneStable = !0, this._runCallbacksIfReady() }) } }) }) } increasePendingRequestCount() { return this._pendingCount += 1, this._didWork = !0, this._pendingCount } decreasePendingRequestCount() { if (this._pendingCount -= 1, this._pendingCount < 0) throw new Error("pending async requests below zero"); return this._runCallbacksIfReady(), this._pendingCount } isStable() { return this._isZoneStable && 0 == this._pendingCount && !this._ngZone.hasPendingMacrotasks } _runCallbacksIfReady() { this.isStable() ? R(() => { for (; 0 !== this._callbacks.length;)this._callbacks.pop()(this._didWork); this._didWork = !1 }) : this._didWork = !0 } whenStable(t) { this._callbacks.push(t), this._runCallbacksIfReady() } getPendingRequestCount() { return this._pendingCount } findProviders(t, e, n) { return [] } } class ye { constructor() { this._applications = new Map, ve.addToWindow(this) } registerApplication(t, e) { this._applications.set(t, e) } unregisterApplication(t) { this._applications.delete(t) } unregisterAllApplications() { this._applications.clear() } getTestability(t) { return this._applications.get(t) || null } getAllTestabilities() { return Array.from(this._applications.values()) } getAllRootElements() { return Array.from(this._applications.keys()) } findTestabilityInTree(t, e = !0) { return ve.findTestabilityInTree(this, t, e) } } function be(t) { ve = t } ye.ctorParameters = (() => []); let we, ve = new class { addToWindow(t) { } findTestabilityInTree(t, e, n) { return null } }, xe = !0, Ce = !1; const Se = new a("AllowMultipleToken"); function Ee() { if (Ce) throw new Error("Cannot enable prod mode after platform setup."); xe = !1 } function ke() { return Ce = !0, xe } class Te { constructor(t, e) { this.name = t, this.token = e } } function Oe(t, e, n = []) { const l = `Platform: ${e}`, s = new a(l); return (e = []) => { let i = Ae(); if (!i || i.injector.get(Se, !1)) if (t) t(n.concat(e).concat({ provide: s, useValue: !0 })); else { const t = n.concat(e).concat({ provide: s, useValue: !0 }); !function (t) { if (we && !we.destroyed && !we.injector.get(Se, !1)) throw new Error("There can be only one platform. Destroy the previous one to create a new one."); we = t.get(Ie); const e = t.get(Ut, null); e && e.forEach(t => t()) }(z.create({ providers: t, name: l })) } return function (t) { const e = Ae(); if (!e) throw new Error("No platform exists!"); if (!e.injector.get(t, null)) throw new Error("A platform with a different configuration has been created. Please destroy it first."); return e }(s) } } function Ae() { return we && !we.destroyed ? we : null } class Ie { constructor(t) { this._injector = t, this._modules = [], this._destroyListeners = [], this._destroyed = !1 } bootstrapModuleFactory(t, e) { const n = function (t) { return "noop" === t ? new fe : ("zone.js" === t ? void 0 : t) || new ce({ enableLongStackTrace: ke() }) }(e ? e.ngZone : void 0), l = [{ provide: ce, useValue: n }]; return n.run(() => { const e = z.create({ providers: l, parent: this.injector, name: t.moduleType.name }), s = t.create(e), i = s.injector.get(at, null); if (!i) throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?"); return s.onDestroy(() => Pe(this._modules, s)), n.runOutsideAngular(() => n.onError.subscribe({ next: t => { i.handleError(t) } })), function (t, e, n) { try { const l = n(); return Dt(l) ? l.catch(n => { throw e.runOutsideAngular(() => t.handleError(n)), n }) : l } catch (n) { throw e.runOutsideAngular(() => t.handleError(n)), n } }(i, n, () => { const t = s.injector.get(Ft); return t.runInitializers(), t.donePromise.then(() => (this._moduleDoBootstrap(s), s)) }) }) } bootstrapModule(t, e = []) { const n = this.injector.get(Qt), l = Me({}, e); return n.createCompiler([l]).compileModuleAsync(t).then(t => this.bootstrapModuleFactory(t, l)) } _moduleDoBootstrap(t) { const e = t.injector.get(Re); if (t._bootstrapComponents.length > 0) t._bootstrapComponents.forEach(t => e.bootstrap(t)); else { if (!t.instance.ngDoBootstrap) throw new Error(`The module ${N(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ` + "Please define one of these."); t.instance.ngDoBootstrap(e) } this._modules.push(t) } onDestroy(t) { this._destroyListeners.push(t) } get injector() { return this._injector } destroy() { if (this._destroyed) throw new Error("The platform has already been destroyed!"); this._modules.slice().forEach(t => t.destroy()), this._destroyListeners.forEach(t => t()), this._destroyed = !0 } get destroyed() { return this._destroyed } } function Me(t, e) { return Array.isArray(e) ? e.reduce(Me, t) : Object.assign({}, t, e) } class Re { constructor(t, e, n, r, o, a) { this._zone = t, this._console = e, this._injector = n, this._exceptionHandler = r, this._componentFactoryResolver = o, this._initStatus = a, this._bootstrapListeners = [], this._views = [], this._runningTick = !1, this._enforceNoNewChanges = !1, this._stable = !0, this.componentTypes = [], this.components = [], this._enforceNoNewChanges = ke(), this._zone.onMicrotaskEmpty.subscribe({ next: () => { this._zone.run(() => { this.tick() }) } }); const u = new l.a(t => { this._stable = this._zone.isStable && !this._zone.hasPendingMacrotasks && !this._zone.hasPendingMicrotasks, this._zone.runOutsideAngular(() => { t.next(this._stable), t.complete() }) }), c = new l.a(t => { let e; this._zone.runOutsideAngular(() => { e = this._zone.onStable.subscribe(() => { ce.assertNotInAngularZone(), R(() => { this._stable || this._zone.hasPendingMacrotasks || this._zone.hasPendingMicrotasks || (this._stable = !0, t.next(!0)) }) }) }); const n = this._zone.onUnstable.subscribe(() => { ce.assertInAngularZone(), this._stable && (this._stable = !1, this._zone.runOutsideAngular(() => { t.next(!1) })) }); return () => { e.unsubscribe(), n.unsubscribe() } }); this.isStable = Object(s.a)(u, i.a.call(c)) } bootstrap(t, e) { if (!this._initStatus.done) throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module."); let n; n = t instanceof Jt ? t : this._componentFactoryResolver.resolveComponentFactory(t), this.componentTypes.push(n.componentType); const l = n instanceof ee ? null : this._injector.get(ne), s = n.create(z.NULL, [], e || n.selector, l); s.onDestroy(() => { this._unloadComponent(s) }); const i = s.injector.get(_e, null); return i && s.injector.get(ye).registerApplication(s.location.nativeElement, i), this._loadComponent(s), ke() && this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."), s } tick() { if (this._runningTick) throw new Error("ApplicationRef.tick is called recursively"); const t = Re._tickScope(); try { this._runningTick = !0, this._views.forEach(t => t.detectChanges()), this._enforceNoNewChanges && this._views.forEach(t => t.checkNoChanges()) } catch (t) { this._zone.runOutsideAngular(() => this._exceptionHandler.handleError(t)) } finally { this._runningTick = !1, ae(t) } } attachView(t) { const e = t; this._views.push(e), e.attachToAppRef(this) } detachView(t) { const e = t; Pe(this._views, e), e.detachFromAppRef() } _loadComponent(t) { this.attachView(t.hostView), this.tick(), this.components.push(t), this._injector.get($t, []).concat(this._bootstrapListeners).forEach(e => e(t)) } _unloadComponent(t) { this.detachView(t.hostView), Pe(this.components, t) } ngOnDestroy() { this._views.slice().forEach(t => t.destroy()) } get viewCount() { return this._views.length } } function Pe(t, e) { const n = t.indexOf(e); n > -1 && t.splice(n, 1) } Re._tickScope = oe("ApplicationRef#tick()"), new a("Renderer2Interceptor"); class Ne { } const De = function () { var t = { Important: 1, DashCase: 2 }; return t[t.Important] = "Important", t[t.DashCase] = "DashCase", t }(); class Ve { } class je { constructor(t) { this.nativeElement = t } } class Fe { } new Map; class Le { constructor() { this.dirty = !0, this._results = [], this.changes = new ue, this.length = 0 } map(t) { return this._results.map(t) } filter(t) { return this._results.filter(t) } find(t) { return this._results.find(t) } reduce(t, e) { return this._results.reduce(t, e) } forEach(t) { this._results.forEach(t) } some(t) { return this._results.some(t) } toArray() { return this._results.slice() } [M()]() { return this._results[M()]() } toString() { return this._results.toString() } reset(t) { this._results = function t(e) { return e.reduce((e, n) => { const l = Array.isArray(n) ? t(n) : n; return e.concat(l) }, []) }(t), this.dirty = !1, this.length = this._results.length, this.last = this._results[this.length - 1], this.first = this._results[0] } notifyOnChanges() { this.changes.emit(this) } setDirty() { this.dirty = !0 } destroy() { this.changes.complete(), this.changes.unsubscribe() } } const ze = "#", He = "NgFactory"; class Ue { } const Be = { factoryPathPrefix: "", factoryPathSuffix: ".ngfactory" }; class $e { constructor(t, e) { this._compiler = t, this._config = e || Be } load(t) { return this._compiler instanceof qt ? this.loadFactory(t) : this.loadAndCompile(t) } loadAndCompile(t) { let [e, l] = t.split(ze); return void 0 === l && (l = "default"), n("Jnfr")(e).then(t => t[l]).then(t => We(t, e, l)).then(t => this._compiler.compileModuleAsync(t)) } loadFactory(t) { let [e, l] = t.split(ze), s = He; return void 0 === l && (l = "default", s = ""), n("Jnfr")(this._config.factoryPathPrefix + e + this._config.factoryPathSuffix).then(t => t[l + s]).then(t => We(t, e, l)) } } function We(t, e, n) { if (!t) throw new Error(`Cannot find '${n}' in '${e}'`); return t } class Ge { } class qe { } class Qe { } class Ke { constructor(t, e) { this.name = t, this.callback = e } } class Je { constructor(t, e, n) { this._debugContext = n, this.nativeNode = t, e && e instanceof Ze ? e.addChild(this) : this.parent = null, this.listeners = [] } get injector() { return this._debugContext.injector } get componentInstance() { return this._debugContext.component } get context() { return this._debugContext.context } get references() { return this._debugContext.references } get providerTokens() { return this._debugContext.providerTokens } } class Ze extends Je { constructor(t, e, n) { super(t, e, n), this.properties = {}, this.attributes = {}, this.classes = {}, this.styles = {}, this.childNodes = [], this.nativeElement = t } addChild(t) { t && (this.childNodes.push(t), t.parent = this) } removeChild(t) { const e = this.childNodes.indexOf(t); -1 !== e && (t.parent = null, this.childNodes.splice(e, 1)) } insertChildrenAfter(t, e) { const n = this.childNodes.indexOf(t); -1 !== n && (this.childNodes.splice(n + 1, 0, ...e), e.forEach(t => { t.parent && t.parent.removeChild(t), t.parent = this })) } insertBefore(t, e) { const n = this.childNodes.indexOf(t); -1 === n ? this.addChild(e) : (e.parent && e.parent.removeChild(e), e.parent = this, this.childNodes.splice(n, 0, e)) } query(t) { return this.queryAll(t)[0] || null } queryAll(t) { const e = []; return function t(e, n, l) { e.childNodes.forEach(e => { e instanceof Ze && (n(e) && l.push(e), t(e, n, l)) }) }(this, t, e), e } queryAllNodes(t) { const e = []; return function t(e, n, l) { e instanceof Ze && e.childNodes.forEach(e => { n(e) && l.push(e), e instanceof Ze && t(e, n, l) }) }(this, t, e), e } get children() { return this.childNodes.filter(t => t instanceof Ze) } triggerEventHandler(t, e) { this.listeners.forEach(n => { n.name == t && n.callback(e) }) } } const Ye = new Map; function Xe(t) { return Ye.get(t) || null } function tn(t) { Ye.set(t.nativeNode, t) } function en(t, e) { const n = sn(t), l = sn(e); return n && l ? function (t, e, n) { const l = t[M()](), s = e[M()](); for (; ;) { const t = l.next(), e = s.next(); if (t.done && e.done) return !0; if (t.done || e.done) return !1; if (!n(t.value, e.value)) return !1 } }(t, e, en) : !(n || !t || "object" != typeof t && "function" != typeof t || l || !e || "object" != typeof e && "function" != typeof e) || P(t, e) } class nn { constructor(t) { this.wrapped = t } static wrap(t) { return new nn(t) } static unwrap(t) { return nn.isWrapped(t) ? t.wrapped : t } static isWrapped(t) { return t instanceof nn } } class ln { constructor(t, e, n) { this.previousValue = t, this.currentValue = e, this.firstChange = n } isFirstChange() { return this.firstChange } } function sn(t) { return !!rn(t) && (Array.isArray(t) || !(t instanceof Map) && M() in t) } function rn(t) { return null !== t && ("function" == typeof t || "object" == typeof t) } const on = (t, e) => e; class an { constructor() { this._head = null, this._tail = null } add(t) { null === this._head ? (this._head = this._tail = t, t._nextDup = null, t._prevDup = null) : (this._tail._nextDup = t, t._prevDup = this._tail, t._nextDup = null, this._tail = t) } get(t, e) { let n; for (n = this._head; null !== n; n = n._nextDup)if ((null === e || e <= n.currentIndex) && P(n.trackById, t)) return n; return null } remove(t) { const e = t._prevDup, n = t._nextDup; return null === e ? this._head = n : e._nextDup = n, null === n ? this._tail = e : n._prevDup = e, null === this._head } } class un { constructor() { this.map = new Map } put(t) { const e = t.trackById; let n = this.map.get(e); n || (n = new an, this.map.set(e, n)), n.add(t) } get(t, e) { const n = this.map.get(t); return n ? n.get(t, e) : null } remove(t) { const e = t.trackById; return this.map.get(e).remove(t) && this.map.delete(e), t } get isEmpty() { return 0 === this.map.size } clear() { this.map.clear() } } function cn(t, e, n) { const l = t.previousIndex; if (null === l) return l; let s = 0; return n && l < n.length && (s = n[l]), l + e + s } class hn { constructor(t) { this.factories = t } static create(t, e) { if (null != e) { const n = e.factories.slice(); return t = t.concat(n), new hn(t) } return new hn(t) } static extend(t) { return { provide: hn, useFactory: e => { if (!e) throw new Error("Cannot extend IterableDiffers without a parent injector"); return hn.create(t, e) }, deps: [[hn, new E, new C]] } } find(t) { const e = this.factories.find(e => e.supports(t)); if (null != e) return e; throw new Error(`Cannot find a differ supporting object '${t}' of type '${t.name || typeof t}'`) } } class dn { constructor(t) { this.factories = t } static create(t, e) { if (e) { const n = e.factories.slice(); t = t.concat(n) } return new dn(t) } static extend(t) { return { provide: dn, useFactory: e => { if (!e) throw new Error("Cannot extend KeyValueDiffers without a parent injector"); return dn.create(t, e) }, deps: [[dn, new E, new C]] } } find(t) { const e = this.factories.find(e => e.supports(t)); if (e) return e; throw new Error(`Cannot find a differ supporting object '${t}'`) } } const pn = [new class { constructor() { } supports(t) { return t instanceof Map || rn(t) } create() { return new class { constructor() { this._records = new Map, this._mapHead = null, this._appendAfter = null, this._previousMapHead = null, this._changesHead = null, this._changesTail = null, this._additionsHead = null, this._additionsTail = null, this._removalsHead = null, this._removalsTail = null } get isDirty() { return null !== this._additionsHead || null !== this._changesHead || null !== this._removalsHead } forEachItem(t) { let e; for (e = this._mapHead; null !== e; e = e._next)t(e) } forEachPreviousItem(t) { let e; for (e = this._previousMapHead; null !== e; e = e._nextPrevious)t(e) } forEachChangedItem(t) { let e; for (e = this._changesHead; null !== e; e = e._nextChanged)t(e) } forEachAddedItem(t) { let e; for (e = this._additionsHead; null !== e; e = e._nextAdded)t(e) } forEachRemovedItem(t) { let e; for (e = this._removalsHead; null !== e; e = e._nextRemoved)t(e) } diff(t) { if (t) { if (!(t instanceof Map || rn(t))) throw new Error(`Error trying to diff '${N(t)}'. Only maps and objects are allowed`) } else t = new Map; return this.check(t) ? this : null } onDestroy() { } check(t) { this._reset(); let e = this._mapHead; if (this._appendAfter = null, this._forEach(t, (t, n) => { if (e && e.key === n) this._maybeAddToChanges(e, t), this._appendAfter = e, e = e._next; else { const l = this._getOrCreateRecordForKey(n, t); e = this._insertBeforeOrAppend(e, l) } }), e) { e._prev && (e._prev._next = null), this._removalsHead = e; for (let t = e; null !== t; t = t._nextRemoved)t === this._mapHead && (this._mapHead = null), this._records.delete(t.key), t._nextRemoved = t._next, t.previousValue = t.currentValue, t.currentValue = null, t._prev = null, t._next = null } return this._changesTail && (this._changesTail._nextChanged = null), this._additionsTail && (this._additionsTail._nextAdded = null), this.isDirty } _insertBeforeOrAppend(t, e) { if (t) { const n = t._prev; return e._next = t, e._prev = n, t._prev = e, n && (n._next = e), t === this._mapHead && (this._mapHead = e), this._appendAfter = t, t } return this._appendAfter ? (this._appendAfter._next = e, e._prev = this._appendAfter) : this._mapHead = e, this._appendAfter = e, null } _getOrCreateRecordForKey(t, e) { if (this._records.has(t)) { const n = this._records.get(t); this._maybeAddToChanges(n, e); const l = n._prev, s = n._next; return l && (l._next = s), s && (s._prev = l), n._next = null, n._prev = null, n } const n = new class { constructor(t) { this.key = t, this.previousValue = null, this.currentValue = null, this._nextPrevious = null, this._next = null, this._prev = null, this._nextAdded = null, this._nextRemoved = null, this._nextChanged = null } }(t); return this._records.set(t, n), n.currentValue = e, this._addToAdditions(n), n } _reset() { if (this.isDirty) { let t; for (this._previousMapHead = this._mapHead, t = this._previousMapHead; null !== t; t = t._next)t._nextPrevious = t._next; for (t = this._changesHead; null !== t; t = t._nextChanged)t.previousValue = t.currentValue; for (t = this._additionsHead; null != t; t = t._nextAdded)t.previousValue = t.currentValue; this._changesHead = this._changesTail = null, this._additionsHead = this._additionsTail = null, this._removalsHead = null } } _maybeAddToChanges(t, e) { P(e, t.currentValue) || (t.previousValue = t.currentValue, t.currentValue = e, this._addToChanges(t)) } _addToAdditions(t) { null === this._additionsHead ? this._additionsHead = this._additionsTail = t : (this._additionsTail._nextAdded = t, this._additionsTail = t) } _addToChanges(t) { null === this._changesHead ? this._changesHead = this._changesTail = t : (this._changesTail._nextChanged = t, this._changesTail = t) } _forEach(t, e) { t instanceof Map ? t.forEach(e) : Object.keys(t).forEach(n => e(t[n], n)) } } } }], mn = [new class { constructor() { } supports(t) { return sn(t) } create(t) { return new class { constructor(t) { this.length = 0, this._linkedRecords = null, this._unlinkedRecords = null, this._previousItHead = null, this._itHead = null, this._itTail = null, this._additionsHead = null, this._additionsTail = null, this._movesHead = null, this._movesTail = null, this._removalsHead = null, this._removalsTail = null, this._identityChangesHead = null, this._identityChangesTail = null, this._trackByFn = t || on } forEachItem(t) { let e; for (e = this._itHead; null !== e; e = e._next)t(e) } forEachOperation(t) { let e = this._itHead, n = this._removalsHead, l = 0, s = null; for (; e || n;) { const i = !n || e && e.currentIndex < cn(n, l, s) ? e : n, r = cn(i, l, s), o = i.currentIndex; if (i === n) l-- , n = n._nextRemoved; else if (e = e._next, null == i.previousIndex) l++; else { s || (s = []); const t = r - l, e = o - l; if (t != e) { for (let n = 0; n < t; n++) { const l = n < s.length ? s[n] : s[n] = 0, i = l + n; e <= i && i < t && (s[n] = l + 1) } s[i.previousIndex] = e - t } } r !== o && t(i, r, o) } } forEachPreviousItem(t) { let e; for (e = this._previousItHead; null !== e; e = e._nextPrevious)t(e) } forEachAddedItem(t) { let e; for (e = this._additionsHead; null !== e; e = e._nextAdded)t(e) } forEachMovedItem(t) { let e; for (e = this._movesHead; null !== e; e = e._nextMoved)t(e) } forEachRemovedItem(t) { let e; for (e = this._removalsHead; null !== e; e = e._nextRemoved)t(e) } forEachIdentityChange(t) { let e; for (e = this._identityChangesHead; null !== e; e = e._nextIdentityChange)t(e) } diff(t) { if (null == t && (t = []), !sn(t)) throw new Error(`Error trying to diff '${N(t)}'. Only arrays and iterables are allowed`); return this.check(t) ? this : null } onDestroy() { } check(t) { this._reset(); let e, n, l, s = this._itHead, i = !1; if (Array.isArray(t)) { this.length = t.length; for (let e = 0; e < this.length; e++)l = this._trackByFn(e, n = t[e]), null !== s && P(s.trackById, l) ? (i && (s = this._verifyReinsertion(s, n, l, e)), P(s.item, n) || this._addIdentityChange(s, n)) : (s = this._mismatch(s, n, l, e), i = !0), s = s._next } else e = 0, function (t, e) { if (Array.isArray(t)) for (let n = 0; n < t.length; n++)e(t[n]); else { const n = t[M()](); let l; for (; !(l = n.next()).done;)e(l.value) } }(t, t => { l = this._trackByFn(e, t), null !== s && P(s.trackById, l) ? (i && (s = this._verifyReinsertion(s, t, l, e)), P(s.item, t) || this._addIdentityChange(s, t)) : (s = this._mismatch(s, t, l, e), i = !0), s = s._next, e++ }), this.length = e; return this._truncate(s), this.collection = t, this.isDirty } get isDirty() { return null !== this._additionsHead || null !== this._movesHead || null !== this._removalsHead || null !== this._identityChangesHead } _reset() { if (this.isDirty) { let t, e; for (t = this._previousItHead = this._itHead; null !== t; t = t._next)t._nextPrevious = t._next; for (t = this._additionsHead; null !== t; t = t._nextAdded)t.previousIndex = t.currentIndex; for (this._additionsHead = this._additionsTail = null, t = this._movesHead; null !== t; t = e)t.previousIndex = t.currentIndex, e = t._nextMoved; this._movesHead = this._movesTail = null, this._removalsHead = this._removalsTail = null, this._identityChangesHead = this._identityChangesTail = null } } _mismatch(t, e, n, l) { let s; return null === t ? s = this._itTail : (s = t._prev, this._remove(t)), null !== (t = null === this._linkedRecords ? null : this._linkedRecords.get(n, l)) ? (P(t.item, e) || this._addIdentityChange(t, e), this._moveAfter(t, s, l)) : null !== (t = null === this._unlinkedRecords ? null : this._unlinkedRecords.get(n, null)) ? (P(t.item, e) || this._addIdentityChange(t, e), this._reinsertAfter(t, s, l)) : t = this._addAfter(new class { constructor(t, e) { this.item = t, this.trackById = e, this.currentIndex = null, this.previousIndex = null, this._nextPrevious = null, this._prev = null, this._next = null, this._prevDup = null, this._nextDup = null, this._prevRemoved = null, this._nextRemoved = null, this._nextAdded = null, this._nextMoved = null, this._nextIdentityChange = null } }(e, n), s, l), t } _verifyReinsertion(t, e, n, l) { let s = null === this._unlinkedRecords ? null : this._unlinkedRecords.get(n, null); return null !== s ? t = this._reinsertAfter(s, t._prev, l) : t.currentIndex != l && (t.currentIndex = l, this._addToMoves(t, l)), t } _truncate(t) { for (; null !== t;) { const e = t._next; this._addToRemovals(this._unlink(t)), t = e } null !== this._unlinkedRecords && this._unlinkedRecords.clear(), null !== this._additionsTail && (this._additionsTail._nextAdded = null), null !== this._movesTail && (this._movesTail._nextMoved = null), null !== this._itTail && (this._itTail._next = null), null !== this._removalsTail && (this._removalsTail._nextRemoved = null), null !== this._identityChangesTail && (this._identityChangesTail._nextIdentityChange = null) } _reinsertAfter(t, e, n) { null !== this._unlinkedRecords && this._unlinkedRecords.remove(t); const l = t._prevRemoved, s = t._nextRemoved; return null === l ? this._removalsHead = s : l._nextRemoved = s, null === s ? this._removalsTail = l : s._prevRemoved = l, this._insertAfter(t, e, n), this._addToMoves(t, n), t } _moveAfter(t, e, n) { return this._unlink(t), this._insertAfter(t, e, n), this._addToMoves(t, n), t } _addAfter(t, e, n) { return this._insertAfter(t, e, n), this._additionsTail = null === this._additionsTail ? this._additionsHead = t : this._additionsTail._nextAdded = t, t } _insertAfter(t, e, n) { const l = null === e ? this._itHead : e._next; return t._next = l, t._prev = e, null === l ? this._itTail = t : l._prev = t, null === e ? this._itHead = t : e._next = t, null === this._linkedRecords && (this._linkedRecords = new un), this._linkedRecords.put(t), t.currentIndex = n, t } _remove(t) { return this._addToRemovals(this._unlink(t)) } _unlink(t) { null !== this._linkedRecords && this._linkedRecords.remove(t); const e = t._prev, n = t._next; return null === e ? this._itHead = n : e._next = n, null === n ? this._itTail = e : n._prev = e, t } _addToMoves(t, e) { return t.previousIndex === e ? t : (this._movesTail = null === this._movesTail ? this._movesHead = t : this._movesTail._nextMoved = t, t) } _addToRemovals(t) { return null === this._unlinkedRecords && (this._unlinkedRecords = new un), this._unlinkedRecords.put(t), t.currentIndex = null, t._nextRemoved = null, null === this._removalsTail ? (this._removalsTail = this._removalsHead = t, t._prevRemoved = null) : (t._prevRemoved = this._removalsTail, this._removalsTail = this._removalsTail._nextRemoved = t), t } _addIdentityChange(t, e) { return t.item = e, this._identityChangesTail = null === this._identityChangesTail ? this._identityChangesHead = t : this._identityChangesTail._nextIdentityChange = t, t } }(t) } }], gn = new hn(mn), fn = new dn(pn), _n = Oe(null, "core", [{ provide: Bt, useValue: "unknown" }, { provide: Ie, deps: [z] }, { provide: ye, deps: [] }, { provide: Wt, deps: [] }]), yn = new a("LocaleId"); function bn() { return gn } function wn() { return fn } function vn(t) { return t || "en-US" } new a("Translations"), new a("TranslationsFormat"); class xn { constructor(t) { } } const Cn = function () { var t = { NONE: 0, HTML: 1, STYLE: 2, SCRIPT: 3, URL: 4, RESOURCE_URL: 5 }; return t[t.NONE] = "NONE", t[t.HTML] = "HTML", t[t.STYLE] = "STYLE", t[t.SCRIPT] = "SCRIPT", t[t.URL] = "URL", t[t.RESOURCE_URL] = "RESOURCE_URL", t }(); class Sn { } function En(t, e, n) { const l = t.state, s = 1792 & l; return s === e ? (t.state = -1793 & l | n, t.initIndex = -1, !0) : s === n } function kn(t, e, n) { return (1792 & t.state) === e && t.initIndex <= n && (t.initIndex = n + 1, !0) } function Tn(t, e) { return t.nodes[e] } function On(t, e) { return t.nodes[e] } function An(t, e) { return t.nodes[e] } function In(t, e) { return t.nodes[e] } function Mn(t, e) { return t.nodes[e] } const Rn = { setCurrentNode: void 0, createRootView: void 0, createEmbeddedView: void 0, createComponentView: void 0, createNgModuleRef: void 0, overrideProvider: void 0, overrideComponentView: void 0, clearOverrides: void 0, checkAndUpdateView: void 0, checkNoChangesView: void 0, destroyView: void 0, resolveDep: void 0, createDebugContext: void 0, handleEvent: void 0, updateDirectives: void 0, updateRenderer: void 0, dirtyParentQueries: void 0 }; function Pn(t, e, n, l) { let s = `ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`; return l && (s += " It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"), function (t, e) { const n = new Error(t); return Nn(n, e), n }(s, t) } function Nn(t, e) { t[nt] = e, t[st] = e.logError.bind(e) } function Dn(t) { return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`) } const Vn = () => { }, jn = new Map; function Fn(t) { let e = jn.get(t); return e || (e = N(t) + "_" + jn.size, jn.set(t, e)), e } function Ln(t, e, n, l) { if (nn.isWrapped(l)) { l = nn.unwrap(l); const s = t.def.nodes[e].bindingIndex + n, i = nn.unwrap(t.oldValues[s]); t.oldValues[s] = new nn(i) } return l } const zn = "$$undefined", Hn = "$$empty"; function Un(t) { return { id: zn, styles: t.styles, encapsulation: t.encapsulation, data: t.data } } let Bn = 0; function $n(t, e, n, l) { return !(!(2 & t.state) && P(t.oldValues[e.bindingIndex + n], l)) } function Wn(t, e, n, l) { return !!$n(t, e, n, l) && (t.oldValues[e.bindingIndex + n] = l, !0) } function Gn(t, e, n, l) { const s = t.oldValues[e.bindingIndex + n]; if (1 & t.state || !en(s, l)) { const i = e.bindings[n].name; throw Pn(Rn.createDebugContext(t, e.nodeIndex), `${i}: ${s}`, `${i}: ${l}`, 0 != (1 & t.state)) } } function qn(t) { let e = t; for (; e;)2 & e.def.flags && (e.state |= 8), e = e.viewContainerParent || e.parent } function Qn(t, e) { let n = t; for (; n && n !== e;)n.state |= 64, n = n.viewContainerParent || n.parent } function Kn(t, e, n, l) { try { return qn(33554432 & t.def.nodes[e].flags ? On(t, e).componentView : t), Rn.handleEvent(t, e, n, l) } catch (e) { t.root.errorHandler.handleError(e) } } function Jn(t) { return t.parent ? On(t.parent, t.parentNodeDef.nodeIndex) : null } function Zn(t) { return t.parent ? t.parentNodeDef.parent : null } function Yn(t, e) { switch (201347067 & e.flags) { case 1: return On(t, e.nodeIndex).renderElement; case 2: return Tn(t, e.nodeIndex).renderText } } function Xn(t, e) { return t ? `${t}:${e}` : e } function tl(t) { return !!t.parent && !!(32768 & t.parentNodeDef.flags) } function el(t) { return !(!t.parent || 32768 & t.parentNodeDef.flags) } function nl(t) { return 1 << t % 32 } function ll(t) { const e = {}; let n = 0; const l = {}; return t && t.forEach(([t, s]) => { "number" == typeof t ? (e[t] = s, n |= nl(t)) : l[t] = s }), { matchedQueries: e, references: l, matchedQueryIds: n } } function sl(t, e) { return t.map(t => { let n, l; return Array.isArray(t) ? [l, n] = t : (l = 0, n = t), n && ("function" == typeof n || "object" == typeof n) && e && Object.defineProperty(n, j, { value: e, configurable: !0 }), { flags: l, token: n, tokenKey: Fn(n) } }) } function il(t, e, n) { let l = n.renderParent; return l ? 0 == (1 & l.flags) || 0 == (33554432 & l.flags) || l.element.componentRendererType && l.element.componentRendererType.encapsulation === b.Native ? On(t, n.renderParent.nodeIndex).renderElement : void 0 : e } const rl = new WeakMap; function ol(t) { let e = rl.get(t); return e || ((e = t(() => Vn)).factory = t, rl.set(t, e)), e } function al(t, e, n, l, s) { 3 === e && (n = t.renderer.parentNode(Yn(t, t.def.lastRenderRootNode))), ul(t, e, 0, t.def.nodes.length - 1, n, l, s) } function ul(t, e, n, l, s, i, r) { for (let o = n; o <= l; o++) { const n = t.def.nodes[o]; 11 & n.flags && hl(t, n, e, s, i, r), o += n.childCount } } function cl(t, e, n, l, s, i) { let r = t; for (; r && !tl(r);)r = r.parent; const o = r.parent, a = Zn(r), u = a.nodeIndex + a.childCount; for (let c = a.nodeIndex + 1; c <= u; c++) { const t = o.def.nodes[c]; t.ngContentIndex === e && hl(o, t, n, l, s, i), c += t.childCount } if (!o.parent) { const r = t.root.projectableNodes[e]; if (r) for (let e = 0; e < r.length; e++)dl(t, r[e], n, l, s, i) } } function hl(t, e, n, l, s, i) { if (8 & e.flags) cl(t, e.ngContent.index, n, l, s, i); else { const r = Yn(t, e); if (3 === n && 33554432 & e.flags && 48 & e.bindingFlags ? (16 & e.bindingFlags && dl(t, r, n, l, s, i), 32 & e.bindingFlags && dl(On(t, e.nodeIndex).componentView, r, n, l, s, i)) : dl(t, r, n, l, s, i), 16777216 & e.flags) { const r = On(t, e.nodeIndex).viewContainer._embeddedViews; for (let t = 0; t < r.length; t++)al(r[t], n, l, s, i) } 1 & e.flags && !e.element.name && ul(t, n, e.nodeIndex + 1, e.nodeIndex + e.childCount, l, s, i) } } function dl(t, e, n, l, s, i) { const r = t.renderer; switch (n) { case 1: r.appendChild(l, e); break; case 2: r.insertBefore(l, e, s); break; case 3: r.removeChild(l, e); break; case 0: i.push(e) } } const pl = /^:([^:]+):(.+)$/; function ml(t) { if (":" === t[0]) { const e = t.match(pl); return [e[1], e[2]] } return ["", t] } function gl(t) { let e = 0; for (let n = 0; n < t.length; n++)e |= t[n].flags; return e } function fl(t, e, n, l, s, i, r, o, a, u, c, h, d, p, m, g, f, _, y, b) { switch (t) { case 1: return e + _l(n) + l; case 2: return e + _l(n) + l + _l(s) + i; case 3: return e + _l(n) + l + _l(s) + i + _l(r) + o; case 4: return e + _l(n) + l + _l(s) + i + _l(r) + o + _l(a) + u; case 5: return e + _l(n) + l + _l(s) + i + _l(r) + o + _l(a) + u + _l(c) + h; case 6: return e + _l(n) + l + _l(s) + i + _l(r) + o + _l(a) + u + _l(c) + h + _l(d) + p; case 7: return e + _l(n) + l + _l(s) + i + _l(r) + o + _l(a) + u + _l(c) + h + _l(d) + p + _l(m) + g; case 8: return e + _l(n) + l + _l(s) + i + _l(r) + o + _l(a) + u + _l(c) + h + _l(d) + p + _l(m) + g + _l(f) + _; case 9: return e + _l(n) + l + _l(s) + i + _l(r) + o + _l(a) + u + _l(c) + h + _l(d) + p + _l(m) + g + _l(f) + _ + _l(y) + b; default: throw new Error("Does not support more than 9 expressions") } } function _l(t) { return null != t ? t.toString() : "" } function yl(t, e, n, l, s, i) { t |= 1; const { matchedQueries: r, references: o, matchedQueryIds: a } = ll(e); return { nodeIndex: -1, parent: null, renderParent: null, bindingIndex: -1, outputIndex: -1, flags: t, checkIndex: -1, childFlags: 0, directChildFlags: 0, childMatchedQueries: 0, matchedQueries: r, matchedQueryIds: a, references: o, ngContentIndex: n, childCount: l, bindings: [], bindingFlags: 0, outputs: [], element: { ns: null, name: null, attrs: null, template: i ? ol(i) : null, componentProvider: null, componentView: null, componentRendererType: null, publicProviders: null, allProviders: null, handleEvent: s || Vn }, provider: null, text: null, query: null, ngContent: null } } function bl(t, e, n, l, s, i, r = [], o, a, u, c, h) { u || (u = Vn); const { matchedQueries: d, references: p, matchedQueryIds: m } = ll(n); let g = null, f = null; i && ([g, f] = ml(i)), o = o || []; const _ = new Array(o.length); for (let b = 0; b < o.length; b++) { const [t, e, n] = o[b], [l, s] = ml(e); let i = void 0, r = void 0; switch (15 & t) { case 4: r = n; break; case 1: case 8: i = n }_[b] = { flags: t, ns: l, name: s, nonMinifiedName: s, securityContext: i, suffix: r } } a = a || []; const y = new Array(a.length); for (let b = 0; b < a.length; b++) { const [t, e] = a[b]; y[b] = { type: 0, target: t, eventName: e, propName: null } } const w = (r = r || []).map(([t, e]) => { const [n, l] = ml(t); return [n, l, e] }); return h = function (t) { if (t && t.id === zn) { const e = null != t.encapsulation && t.encapsulation !== b.None || t.styles.length || Object.keys(t.data).length; t.id = e ? `c${Bn++}` : Hn } return t && t.id === Hn && (t = null), t || null }(h), c && (e |= 33554432), { nodeIndex: -1, parent: null, renderParent: null, bindingIndex: -1, outputIndex: -1, checkIndex: t, flags: e |= 1, childFlags: 0, directChildFlags: 0, childMatchedQueries: 0, matchedQueries: d, matchedQueryIds: m, references: p, ngContentIndex: l, childCount: s, bindings: _, bindingFlags: gl(_), outputs: y, element: { ns: g, name: f, attrs: w, template: null, componentProvider: null, componentView: c || null, componentRendererType: h, publicProviders: null, allProviders: null, handleEvent: u || Vn }, provider: null, text: null, query: null, ngContent: null } } function wl(t, e, n) { const l = n.element, s = t.root.selectorOrNode, i = t.renderer; let r; if (t.parent || !s) { r = l.name ? i.createElement(l.name, l.ns) : i.createComment(""); const s = il(t, e, n); s && i.appendChild(s, r) } else r = i.selectRootElement(s); if (l.attrs) for (let o = 0; o < l.attrs.length; o++) { const [t, e, n] = l.attrs[o]; i.setAttribute(r, e, n, t) } return r } function vl(t, e, n, l) { for (let s = 0; s < n.outputs.length; s++) { const i = n.outputs[s], r = xl(t, n.nodeIndex, Xn(i.target, i.eventName)); let o = i.target, a = t; "component" === i.target && (o = null, a = e); const u = a.renderer.listen(o || l, i.eventName, r); t.disposables[n.outputIndex + s] = u } } function xl(t, e, n) { return l => Kn(t, e, n, l) } function Cl(t, e, n, l) { if (!Wn(t, e, n, l)) return !1; const s = e.bindings[n], i = On(t, e.nodeIndex), r = i.renderElement, o = s.name; switch (15 & s.flags) { case 1: !function (t, e, n, l, s, i) { const r = e.securityContext; let o = r ? t.root.sanitizer.sanitize(r, i) : i; o = null != o ? o.toString() : null; const a = t.renderer; null != i ? a.setAttribute(n, s, o, l) : a.removeAttribute(n, s, l) }(t, s, r, s.ns, o, l); break; case 2: !function (t, e, n, l) { const s = t.renderer; l ? s.addClass(e, n) : s.removeClass(e, n) }(t, r, o, l); break; case 4: !function (t, e, n, l, s) { let i = t.root.sanitizer.sanitize(Cn.STYLE, s); if (null != i) { i = i.toString(); const t = e.suffix; null != t && (i += t) } else i = null; const r = t.renderer; null != i ? r.setStyle(n, l, i) : r.removeStyle(n, l) }(t, s, r, o, l); break; case 8: !function (t, e, n, l, s) { const i = e.securityContext; let r = i ? t.root.sanitizer.sanitize(i, s) : s; t.renderer.setProperty(n, l, r) }(33554432 & e.flags && 32 & s.flags ? i.componentView : t, s, r, o, l) }return !0 } const Sl = new Object, El = Fn(z), kl = Fn(ne); function Tl(t, e, n, l) { return n = V(n), { index: -1, deps: sl(l, N(e)), flags: t, token: e, value: n } } function Ol(t) { const e = {}; for (let n = 0; n < t.length; n++) { const l = t[n]; l.index = n, e[Fn(l.token)] = l } return { factory: null, providersByKey: e, providers: t } } function Al(t, e, n = z.THROW_IF_NOT_FOUND) { if (8 & e.flags) return e.token; if (2 & e.flags && (n = null), 1 & e.flags) return t._parent.get(e.token, n); const l = e.tokenKey; switch (l) { case El: case kl: return t }const s = t._def.providersByKey[l]; if (s) { let e = t._providers[s.index]; return void 0 === e && (e = t._providers[s.index] = Il(t, s)), e === Sl ? void 0 : e } return t._parent.get(e.token, n) } function Il(t, e) { let n; switch (201347067 & e.flags) { case 512: n = function (t, e, n) { const l = n.length; switch (l) { case 0: return new e; case 1: return new e(Al(t, n[0])); case 2: return new e(Al(t, n[0]), Al(t, n[1])); case 3: return new e(Al(t, n[0]), Al(t, n[1]), Al(t, n[2])); default: const s = new Array(l); for (let e = 0; e < l; e++)s[e] = Al(t, n[e]); return new e(...s) } }(t, e.value, e.deps); break; case 1024: n = function (t, e, n) { const l = n.length; switch (l) { case 0: return e(); case 1: return e(Al(t, n[0])); case 2: return e(Al(t, n[0]), Al(t, n[1])); case 3: return e(Al(t, n[0]), Al(t, n[1]), Al(t, n[2])); default: const s = Array(l); for (let e = 0; e < l; e++)s[e] = Al(t, n[e]); return e(...s) } }(t, e.value, e.deps); break; case 2048: n = Al(t, e.deps[0]); break; case 256: n = e.value }return void 0 === n ? Sl : n } function Ml(t, e) { const n = t.viewContainer._embeddedViews; if ((null == e || e >= n.length) && (e = n.length - 1), e < 0) return null; const l = n[e]; return l.viewContainerParent = null, Dl(n, e), Rn.dirtyParentQueries(l), Pl(l), l } function Rl(t, e, n) { const l = e ? Yn(e, e.def.lastRenderRootNode) : t.renderElement; al(n, 2, n.renderer.parentNode(l), n.renderer.nextSibling(l), void 0) } function Pl(t) { al(t, 3, null, null, void 0) } function Nl(t, e, n) { e >= t.length ? t.push(n) : t.splice(e, 0, n) } function Dl(t, e) { e >= t.length - 1 ? t.pop() : t.splice(e, 1) } const Vl = new Object; function jl(t, e, n, l, s, i) { return new Fl(t, e, n, l, s, i) } class Fl extends Jt { constructor(t, e, n, l, s, i) { super(), this.selector = t, this.componentType = e, this._inputs = l, this._outputs = s, this.ngContentSelectors = i, this.viewDefFactory = n } get inputs() { const t = [], e = this._inputs; for (let n in e) t.push({ propName: n, templateName: e[n] }); return t } get outputs() { const t = []; for (let e in this._outputs) t.push({ propName: e, templateName: this._outputs[e] }); return t } create(t, e, n, l) { if (!l) throw new Error("ngModule should be provided"); const s = ol(this.viewDefFactory), i = s.nodes[0].element.componentProvider.nodeIndex, r = Rn.createRootView(t, e || [], n, s, l, Vl), o = An(r, i).instance; return n && r.renderer.setAttribute(On(r, 0).renderElement, "ng-version", v.full), new Ll(r, new Bl(r), o) } } class Ll extends Kt { constructor(t, e, n) { super(), this._view = t, this._viewRef = e, this._component = n, this._elDef = this._view.def.nodes[0], this.hostView = e, this.changeDetectorRef = e, this.instance = n } get location() { return new je(On(this._view, this._elDef.nodeIndex).renderElement) } get injector() { return new ql(this._view, this._elDef) } get componentType() { return this._component.constructor } destroy() { this._viewRef.destroy() } onDestroy(t) { this._viewRef.onDestroy(t) } } function zl(t, e, n) { return new Hl(t, e, n) } class Hl { constructor(t, e, n) { this._view = t, this._elDef = e, this._data = n, this._embeddedViews = [] } get element() { return new je(this._data.renderElement) } get injector() { return new ql(this._view, this._elDef) } get parentInjector() { let t = this._view, e = this._elDef.parent; for (; !e && t;)e = Zn(t), t = t.parent; return t ? new ql(t, e) : new ql(this._view, null) } clear() { for (let t = this._embeddedViews.length - 1; t >= 0; t--) { const e = Ml(this._data, t); Rn.destroyView(e) } } get(t) { const e = this._embeddedViews[t]; if (e) { const t = new Bl(e); return t.attachToViewContainerRef(this), t } return null } get length() { return this._embeddedViews.length } createEmbeddedView(t, e, n) { const l = t.createEmbeddedView(e || {}); return this.insert(l, n), l } createComponent(t, e, n, l, s) { const i = n || this.parentInjector; s || t instanceof ee || (s = i.get(ne)); const r = t.create(i, l, void 0, s); return this.insert(r.hostView, e), r } insert(t, e) { if (t.destroyed) throw new Error("Cannot insert a destroyed View in a ViewContainer!"); const n = t; return function (t, e, n, l) { let s = e.viewContainer._embeddedViews; null !== n && void 0 !== n || (n = s.length), l.viewContainerParent = t, Nl(s, n, l), function (t, e) { const n = Jn(e); if (!n || n === t || 16 & e.state) return; e.state |= 16; let l = n.template._projectedViews; l || (l = n.template._projectedViews = []), l.push(e), function (t, e) { if (4 & e.flags) return; t.nodeFlags |= 4, e.flags |= 4; let n = e.parent; for (; n;)n.childFlags |= 4, n = n.parent }(e.parent.def, e.parentNodeDef) }(e, l), Rn.dirtyParentQueries(l), Rl(e, n > 0 ? s[n - 1] : null, l) }(this._view, this._data, e, n._view), n.attachToViewContainerRef(this), t } move(t, e) { if (t.destroyed) throw new Error("Cannot move a destroyed View in a ViewContainer!"); const n = this._embeddedViews.indexOf(t._view); return function (t, e, l) { const s = t.viewContainer._embeddedViews, i = s[n]; Dl(s, n), null == l && (l = s.length), Nl(s, l, i), Rn.dirtyParentQueries(i), Pl(i), Rl(t, l > 0 ? s[l - 1] : null, i) }(this._data, 0, e), t } indexOf(t) { return this._embeddedViews.indexOf(t._view) } remove(t) { const e = Ml(this._data, t); e && Rn.destroyView(e) } detach(t) { const e = Ml(this._data, t); return e ? new Bl(e) : null } } function Ul(t) { return new Bl(t) } class Bl { constructor(t) { this._view = t, this._viewContainerRef = null, this._appRef = null } get rootNodes() { return function (t) { const e = []; return al(t, 0, void 0, void 0, e), e }(this._view) } get context() { return this._view.context } get destroyed() { return 0 != (128 & this._view.state) } markForCheck() { qn(this._view) } detach() { this._view.state &= -5 } detectChanges() { const t = this._view.root.rendererFactory; t.begin && t.begin(); try { Rn.checkAndUpdateView(this._view) } finally { t.end && t.end() } } checkNoChanges() { Rn.checkNoChangesView(this._view) } reattach() { this._view.state |= 4 } onDestroy(t) { this._view.disposables || (this._view.disposables = []), this._view.disposables.push(t) } destroy() { this._appRef ? this._appRef.detachView(this) : this._viewContainerRef && this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)), Rn.destroyView(this._view) } detachFromAppRef() { this._appRef = null, Pl(this._view), Rn.dirtyParentQueries(this._view) } attachToAppRef(t) { if (this._viewContainerRef) throw new Error("This view is already attached to a ViewContainer!"); this._appRef = t } attachToViewContainerRef(t) { if (this._appRef) throw new Error("This view is already attached directly to the ApplicationRef!"); this._viewContainerRef = t } } function $l(t, e) { return new Wl(t, e) } class Wl extends Ge { constructor(t, e) { super(), this._parentView = t, this._def = e } createEmbeddedView(t) { return new Bl(Rn.createEmbeddedView(this._parentView, this._def, this._def.element.template, t)) } get elementRef() { return new je(On(this._parentView, this._def.nodeIndex).renderElement) } } function Gl(t, e) { return new ql(t, e) } class ql { constructor(t, e) { this.view = t, this.elDef = e } get(t, e = z.THROW_IF_NOT_FOUND) { return Rn.resolveDep(this.view, this.elDef, !!this.elDef && 0 != (33554432 & this.elDef.flags), { flags: 0, token: t, tokenKey: Fn(t) }, e) } } function Ql(t, e) { const n = t.def.nodes[e]; if (1 & n.flags) { const e = On(t, n.nodeIndex); return n.element.template ? e.template : e.renderElement } if (2 & n.flags) return Tn(t, n.nodeIndex).renderText; if (20240 & n.flags) return An(t, n.nodeIndex).instance; throw new Error(`Illegal state: read nodeValue for node index ${e}`) } function Kl(t) { return new Jl(t.renderer) } class Jl { constructor(t) { this.delegate = t } selectRootElement(t) { return this.delegate.selectRootElement(t) } createElement(t, e) { const [n, l] = ml(e), s = this.delegate.createElement(l, n); return t && this.delegate.appendChild(t, s), s } createViewRoot(t) { return t } createTemplateAnchor(t) { const e = this.delegate.createComment(""); return t && this.delegate.appendChild(t, e), e } createText(t, e) { const n = this.delegate.createText(e); return t && this.delegate.appendChild(t, n), n } projectNodes(t, e) { for (let n = 0; n < e.length; n++)this.delegate.appendChild(t, e[n]) } attachViewAfter(t, e) { const n = this.delegate.parentNode(t), l = this.delegate.nextSibling(t); for (let s = 0; s < e.length; s++)this.delegate.insertBefore(n, e[s], l) } detachView(t) { for (let e = 0; e < t.length; e++) { const n = t[e], l = this.delegate.parentNode(n); this.delegate.removeChild(l, n) } } destroyView(t, e) { for (let n = 0; n < e.length; n++)this.delegate.destroyNode(e[n]) } listen(t, e, n) { return this.delegate.listen(t, e, n) } listenGlobal(t, e, n) { return this.delegate.listen(t, e, n) } setElementProperty(t, e, n) { this.delegate.setProperty(t, e, n) } setElementAttribute(t, e, n) { const [l, s] = ml(e); null != n ? this.delegate.setAttribute(t, s, n, l) : this.delegate.removeAttribute(t, s, l) } setBindingDebugInfo(t, e, n) { } setElementClass(t, e, n) { n ? this.delegate.addClass(t, e) : this.delegate.removeClass(t, e) } setElementStyle(t, e, n) { null != n ? this.delegate.setStyle(t, e, n) : this.delegate.removeStyle(t, e) } invokeElementMethod(t, e, n) { t[e].apply(t, n) } setText(t, e) { this.delegate.setValue(t, e) } animate() { throw new Error("Renderer.animate is no longer supported!") } } function Zl(t, e, n, l) { return new Yl(t, e, n, l) } class Yl { constructor(t, e, n, l) { this._moduleType = t, this._parent = e, this._bootstrapComponents = n, this._def = l, this._destroyListeners = [], this._destroyed = !1, this.injector = this, function (t) { const e = t._def, n = t._providers = new Array(e.providers.length); for (let l = 0; l < e.providers.length; l++) { const s = e.providers[l]; 4096 & s.flags || (n[l] = Il(t, s)) } }(this) } get(t, e = z.THROW_IF_NOT_FOUND) { return Al(this, { token: t, tokenKey: Fn(t), flags: 0 }, e) } get instance() { return this.get(this._moduleType) } get componentFactoryResolver() { return this.get(Xt) } destroy() { if (this._destroyed) throw new Error(`The ng module ${N(this.instance.constructor)} has already been destroyed.`); this._destroyed = !0, function (t, e) { const n = t._def; for (let l = 0; l < n.providers.length; l++)if (131072 & n.providers[l].flags) { const e = t._providers[l]; e && e !== Sl && e.ngOnDestroy() } }(this), this._destroyListeners.forEach(t => t()) } onDestroy(t) { this._destroyListeners.push(t) } } const Xl = Fn(class { }), ts = Fn(Ve), es = Fn(je), ns = Fn(qe), ls = Fn(Ge), ss = Fn(Qe), is = Fn(z); function rs(t, e, n, l, s, i, r, o) { const a = []; if (r) for (let c in r) { const [t, e] = r[c]; a[t] = { flags: 8, name: c, nonMinifiedName: e, ns: null, securityContext: null, suffix: null } } const u = []; if (o) for (let c in o) u.push({ type: 1, propName: c, target: null, eventName: o[c] }); return us(t, e |= 16384, n, l, s, s, i, a, u) } function os(t, e, n) { return us(-1, t |= 16, null, 0, e, e, n) } function as(t, e, n, l, s) { return us(-1, t, e, 0, n, l, s) } function us(t, e, n, l, s, i, r, o, a) { const { matchedQueries: u, references: c, matchedQueryIds: h } = ll(n); a || (a = []), o || (o = []), i = V(i); const d = sl(r, N(s)); return { nodeIndex: -1, parent: null, renderParent: null, bindingIndex: -1, outputIndex: -1, checkIndex: t, flags: e, childFlags: 0, directChildFlags: 0, childMatchedQueries: 0, matchedQueries: u, matchedQueryIds: h, references: c, ngContentIndex: -1, childCount: l, bindings: o, bindingFlags: gl(o), outputs: a, element: null, provider: { token: s, value: i, deps: d }, text: null, query: null, ngContent: null } } function cs(t, e) { return ms(t, e) } function hs(t, e) { let n = t; for (; n.parent && !tl(n);)n = n.parent; return gs(n.parent, Zn(n), !0, e.provider.value, e.provider.deps) } function ds(t, e) { const n = gs(t, e.parent, (32768 & e.flags) > 0, e.provider.value, e.provider.deps); if (e.outputs.length) for (let l = 0; l < e.outputs.length; l++) { const s = e.outputs[l], i = n[s.propName].subscribe(ps(t, e.parent.nodeIndex, s.eventName)); t.disposables[e.outputIndex + l] = i.unsubscribe.bind(i) } return n } function ps(t, e, n) { return l => Kn(t, e, n, l) } function ms(t, e) { const n = (8192 & e.flags) > 0, l = e.provider; switch (201347067 & e.flags) { case 512: return gs(t, e.parent, n, l.value, l.deps); case 1024: return function (t, e, n, l, s) { const i = s.length; switch (i) { case 0: return l(); case 1: return l(_s(t, e, n, s[0])); case 2: return l(_s(t, e, n, s[0]), _s(t, e, n, s[1])); case 3: return l(_s(t, e, n, s[0]), _s(t, e, n, s[1]), _s(t, e, n, s[2])); default: const r = Array(i); for (let l = 0; l < i; l++)r[l] = _s(t, e, n, s[l]); return l(...r) } }(t, e.parent, n, l.value, l.deps); case 2048: return _s(t, e.parent, n, l.deps[0]); case 256: return l.value } } function gs(t, e, n, l, s) { const i = s.length; switch (i) { case 0: return new l; case 1: return new l(_s(t, e, n, s[0])); case 2: return new l(_s(t, e, n, s[0]), _s(t, e, n, s[1])); case 3: return new l(_s(t, e, n, s[0]), _s(t, e, n, s[1]), _s(t, e, n, s[2])); default: const r = new Array(i); for (let l = 0; l < i; l++)r[l] = _s(t, e, n, s[l]); return new l(...r) } } const fs = {}; function _s(t, e, n, l, s = z.THROW_IF_NOT_FOUND) { if (8 & l.flags) return l.token; const i = t; 2 & l.flags && (s = null); const r = l.tokenKey; for (r === ss && (n = !(!e || !e.element.componentView)), e && 1 & l.flags && (n = !1, e = e.parent); t;) { if (e) switch (r) { case Xl: return Kl(ys(t, e, n)); case ts: return ys(t, e, n).renderer; case es: return new je(On(t, e.nodeIndex).renderElement); case ns: return On(t, e.nodeIndex).viewContainer; case ls: if (e.element.template) return On(t, e.nodeIndex).template; break; case ss: return Ul(ys(t, e, n)); case is: return Gl(t, e); default: const l = (n ? e.element.allProviders : e.element.publicProviders)[r]; if (l) { let e = An(t, l.nodeIndex); return e || (e = { instance: ms(t, l) }, t.nodes[l.nodeIndex] = e), e.instance } }n = tl(t), e = Zn(t), t = t.parent } const o = i.root.injector.get(l.token, fs); return o !== fs || s === fs ? o : i.root.ngModule.injector.get(l.token, s) } function ys(t, e, n) { let l; if (n) l = On(t, e.nodeIndex).componentView; else for (l = t; l.parent && !tl(l);)l = l.parent; return l } function bs(t, e, n, l, s, i) { if (32768 & n.flags) { const e = On(t, n.parent.nodeIndex).componentView; 2 & e.def.flags && (e.state |= 8) } if (e.instance[n.bindings[l].name] = s, 524288 & n.flags) { i = i || {}; const e = nn.unwrap(t.oldValues[n.bindingIndex + l]); i[n.bindings[l].nonMinifiedName] = new ln(e, s, 0 != (2 & t.state)) } return t.oldValues[n.bindingIndex + l] = s, i } function ws(t, e) { if (!(t.def.nodeFlags & e)) return; const n = t.def.nodes; let l = 0; for (let s = 0; s < n.length; s++) { const i = n[s]; let r = i.parent; for (!r && i.flags & e && xs(t, s, i.flags & e, l++), 0 == (i.childFlags & e) && (s += i.childCount); r && 1 & r.flags && s === r.nodeIndex + r.childCount;)r.directChildFlags & e && (l = vs(t, r, e, l)), r = r.parent } } function vs(t, e, n, l) { for (let s = e.nodeIndex + 1; s <= e.nodeIndex + e.childCount; s++) { const e = t.def.nodes[s]; e.flags & n && xs(t, s, e.flags & n, l++), s += e.childCount } return l } function xs(t, e, n, l) { const s = An(t, e); if (!s) return; const i = s.instance; i && (Rn.setCurrentNode(t, e), 1048576 & n && kn(t, 512, l) && i.ngAfterContentInit(), 2097152 & n && i.ngAfterContentChecked(), 4194304 & n && kn(t, 768, l) && i.ngAfterViewInit(), 8388608 & n && i.ngAfterViewChecked(), 131072 & n && i.ngOnDestroy()) } function Cs(t, e, n) { let l = []; for (let s in n) l.push({ propName: s, bindingType: n[s] }); return { nodeIndex: -1, parent: null, renderParent: null, bindingIndex: -1, outputIndex: -1, checkIndex: -1, flags: t, childFlags: 0, directChildFlags: 0, childMatchedQueries: 0, ngContentIndex: -1, matchedQueries: {}, matchedQueryIds: 0, references: {}, childCount: 0, bindings: [], bindingFlags: 0, outputs: [], element: null, provider: null, text: null, query: { id: e, filterId: nl(e), bindings: l }, ngContent: null } } function Ss(t) { const e = t.def.nodeMatchedQueries; for (; t.parent && el(t);) { let n = t.parentNodeDef; t = t.parent; const l = n.nodeIndex + n.childCount; for (let s = 0; s <= l; s++) { const l = t.def.nodes[s]; 67108864 & l.flags && 536870912 & l.flags && (l.query.filterId & e) === l.query.filterId && Mn(t, s).setDirty(), !(1 & l.flags && s + l.childCount < n.nodeIndex) && 67108864 & l.childFlags && 536870912 & l.childFlags || (s += l.childCount) } } if (134217728 & t.def.nodeFlags) for (let n = 0; n < t.def.nodes.length; n++) { const e = t.def.nodes[n]; 134217728 & e.flags && 536870912 & e.flags && Mn(t, n).setDirty(), n += e.childCount } } function Es(t, e) { const n = Mn(t, e.nodeIndex); if (!n.dirty) return; let l, s = void 0; if (67108864 & e.flags) { const n = e.parent.parent; s = ks(t, n.nodeIndex, n.nodeIndex + n.childCount, e.query, []), l = An(t, e.parent.nodeIndex).instance } else 134217728 & e.flags && (s = ks(t, 0, t.def.nodes.length - 1, e.query, []), l = t.component); n.reset(s); const i = e.query.bindings; let r = !1; for (let o = 0; o < i.length; o++) { const t = i[o]; let e; switch (t.bindingType) { case 0: e = n.first; break; case 1: e = n, r = !0 }l[t.propName] = e } r && n.notifyOnChanges() } function ks(t, e, n, l, s) { for (let i = e; i <= n; i++) { const e = t.def.nodes[i], n = e.matchedQueries[l.id]; if (null != n && s.push(Ts(t, e, n)), 1 & e.flags && e.element.template && (e.element.template.nodeMatchedQueries & l.filterId) === l.filterId) { const n = On(t, i); if ((e.childMatchedQueries & l.filterId) === l.filterId && (ks(t, i + 1, i + e.childCount, l, s), i += e.childCount), 16777216 & e.flags) { const t = n.viewContainer._embeddedViews; for (let e = 0; e < t.length; e++) { const i = t[e], r = Jn(i); r && r === n && ks(i, 0, i.def.nodes.length - 1, l, s) } } const r = n.template._projectedViews; if (r) for (let t = 0; t < r.length; t++) { const e = r[t]; ks(e, 0, e.def.nodes.length - 1, l, s) } } (e.childMatchedQueries & l.filterId) !== l.filterId && (i += e.childCount) } return s } function Ts(t, e, n) { if (null != n) switch (n) { case 1: return On(t, e.nodeIndex).renderElement; case 0: return new je(On(t, e.nodeIndex).renderElement); case 2: return On(t, e.nodeIndex).template; case 3: return On(t, e.nodeIndex).viewContainer; case 4: return An(t, e.nodeIndex).instance } } function Os(t, e) { return { nodeIndex: -1, parent: null, renderParent: null, bindingIndex: -1, outputIndex: -1, checkIndex: -1, flags: 8, childFlags: 0, directChildFlags: 0, childMatchedQueries: 0, matchedQueries: {}, matchedQueryIds: 0, references: {}, ngContentIndex: t, childCount: 0, bindings: [], bindingFlags: 0, outputs: [], element: null, provider: null, text: null, query: null, ngContent: { index: e } } } function As(t, e, n) { const l = il(t, e, n); l && cl(t, n.ngContent.index, 1, l, null, void 0) } function Is(t, e) { return Rs(128, t, new Array(e + 1)) } function Ms(t, e) { const n = Object.keys(e), l = n.length, s = new Array(l); for (let i = 0; i < l; i++) { const t = n[i]; s[e[t]] = t } return Rs(64, t, s) } function Rs(t, e, n) { const l = new Array(n.length); for (let s = 0; s < n.length; s++) { const t = n[s]; l[s] = { flags: 8, name: t, ns: null, nonMinifiedName: t, securityContext: null, suffix: null } } return { nodeIndex: -1, parent: null, renderParent: null, bindingIndex: -1, outputIndex: -1, checkIndex: e, flags: t, childFlags: 0, directChildFlags: 0, childMatchedQueries: 0, matchedQueries: {}, matchedQueryIds: 0, references: {}, ngContentIndex: -1, childCount: 0, bindings: l, bindingFlags: gl(l), outputs: [], element: null, provider: null, text: null, query: null, ngContent: null } } function Ps(t, e, n) { const l = new Array(n.length - 1); for (let s = 1; s < n.length; s++)l[s - 1] = { flags: 8, name: null, ns: null, nonMinifiedName: null, securityContext: null, suffix: n[s] }; return { nodeIndex: -1, parent: null, renderParent: null, bindingIndex: -1, outputIndex: -1, checkIndex: t, flags: 2, childFlags: 0, directChildFlags: 0, childMatchedQueries: 0, matchedQueries: {}, matchedQueryIds: 0, references: {}, ngContentIndex: e, childCount: 0, bindings: l, bindingFlags: 8, outputs: [], element: null, provider: null, text: { prefix: n[0] }, query: null, ngContent: null } } function Ns(t, e, n) { let l; const s = t.renderer; l = s.createText(n.text.prefix); const i = il(t, e, n); return i && s.appendChild(i, l), { renderText: l } } function Ds(t, e) { return (null != t ? t.toString() : "") + e.suffix } function Vs(t, e, n, l) { let s = 0, i = 0, r = 0, o = 0, a = 0, u = null, c = null, h = !1, d = !1, p = null; for (let m = 0; m < e.length; m++) { const t = e[m]; if (t.nodeIndex = m, t.parent = u, t.bindingIndex = s, t.outputIndex = i, t.renderParent = c, r |= t.flags, a |= t.matchedQueryIds, t.element) { const e = t.element; e.publicProviders = u ? u.element.publicProviders : Object.create(null), e.allProviders = e.publicProviders, h = !1, d = !1, t.element.template && (a |= t.element.template.nodeMatchedQueries) } if (Fs(u, t, e.length), s += t.bindings.length, i += t.outputs.length, !c && 3 & t.flags && (p = t), 20224 & t.flags) { h || (h = !0, u.element.publicProviders = Object.create(u.element.publicProviders), u.element.allProviders = u.element.publicProviders); const e = 0 != (32768 & t.flags); 0 == (8192 & t.flags) || e ? u.element.publicProviders[Fn(t.provider.token)] = t : (d || (d = !0, u.element.allProviders = Object.create(u.element.publicProviders)), u.element.allProviders[Fn(t.provider.token)] = t), e && (u.element.componentProvider = t) } if (u ? (u.childFlags |= t.flags, u.directChildFlags |= t.flags, u.childMatchedQueries |= t.matchedQueryIds, t.element && t.element.template && (u.childMatchedQueries |= t.element.template.nodeMatchedQueries)) : o |= t.flags, t.childCount > 0) u = t, js(t) || (c = t); else for (; u && m === u.nodeIndex + u.childCount;) { const t = u.parent; t && (t.childFlags |= u.childFlags, t.childMatchedQueries |= u.childMatchedQueries), c = (u = t) && js(u) ? u.renderParent : u } } return { factory: null, nodeFlags: r, rootNodeFlags: o, nodeMatchedQueries: a, flags: t, nodes: e, updateDirectives: n || Vn, updateRenderer: l || Vn, handleEvent: (t, n, l, s) => e[n].element.handleEvent(t, l, s), bindingCount: s, outputCount: i, lastRenderRootNode: p } } function js(t) { return 0 != (1 & t.flags) && null === t.element.name } function Fs(t, e, n) { const l = e.element && e.element.template; if (l) { if (!l.lastRenderRootNode) throw new Error("Illegal State: Embedded templates without nodes are not allowed!"); if (l.lastRenderRootNode && 16777216 & l.lastRenderRootNode.flags) throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`) } if (20224 & e.flags && 0 == (1 & (t ? t.flags : 0))) throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`); if (e.query) { if (67108864 & e.flags && (!t || 0 == (16384 & t.flags))) throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`); if (134217728 & e.flags && t) throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`) } if (e.childCount) { const l = t ? t.nodeIndex + t.childCount : n - 1; if (e.nodeIndex <= l && e.nodeIndex + e.childCount > l) throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`) } } function Ls(t, e, n, l) { const s = Us(t.root, t.renderer, t, e, n); return Bs(s, t.component, l), $s(s), s } function zs(t, e, n) { const l = Us(t, t.renderer, null, null, e); return Bs(l, n, n), $s(l), l } function Hs(t, e, n, l) { const s = e.element.componentRendererType; let i; return i = s ? t.root.rendererFactory.createRenderer(l, s) : t.root.renderer, Us(t.root, i, t, e.element.componentProvider, n) } function Us(t, e, n, l, s) { const i = new Array(s.nodes.length), r = s.outputCount ? new Array(s.outputCount) : null; return { def: s, parent: n, viewContainerParent: null, parentNodeDef: l, context: null, component: null, nodes: i, state: 13, root: t, renderer: e, oldValues: new Array(s.bindingCount), disposables: r, initIndex: -1 } } function Bs(t, e, n) { t.component = e, t.context = n } function $s(t) { let e; tl(t) && (e = On(t.parent, t.parentNodeDef.parent.nodeIndex).renderElement); const n = t.def, l = t.nodes; for (let s = 0; s < n.nodes.length; s++) { const i = n.nodes[s]; let r; switch (Rn.setCurrentNode(t, s), 201347067 & i.flags) { case 1: const n = wl(t, e, i); let o = void 0; if (33554432 & i.flags) { const e = ol(i.element.componentView); o = Rn.createComponentView(t, i, e, n) } vl(t, o, i, n), r = { renderElement: n, componentView: o, viewContainer: null, template: i.element.template ? $l(t, i) : void 0 }, 16777216 & i.flags && (r.viewContainer = zl(t, i, r)); break; case 2: r = Ns(t, e, i); break; case 512: case 1024: case 2048: case 256: (r = l[s]) || 4096 & i.flags || (r = { instance: cs(t, i) }); break; case 16: r = { instance: hs(t, i) }; break; case 16384: (r = l[s]) || (r = { instance: ds(t, i) }), 32768 & i.flags && Bs(On(t, i.parent.nodeIndex).componentView, r.instance, r.instance); break; case 32: case 64: case 128: r = { value: void 0 }; break; case 67108864: case 134217728: r = new Le; break; case 8: As(t, e, i), r = void 0 }l[s] = r } Xs(t, Ys.CreateViewNodes), li(t, 201326592, 268435456, 0) } function Ws(t) { Qs(t), Rn.updateDirectives(t, 1), ti(t, Ys.CheckNoChanges), Rn.updateRenderer(t, 1), Xs(t, Ys.CheckNoChanges), t.state &= -97 } function Gs(t) { 1 & t.state ? (t.state &= -2, t.state |= 2) : t.state &= -3, En(t, 0, 256), Qs(t), Rn.updateDirectives(t, 0), ti(t, Ys.CheckAndUpdate), li(t, 67108864, 536870912, 0); let e = En(t, 256, 512); ws(t, 2097152 | (e ? 1048576 : 0)), Rn.updateRenderer(t, 0), Xs(t, Ys.CheckAndUpdate), li(t, 134217728, 536870912, 0), ws(t, 8388608 | ((e = En(t, 512, 768)) ? 4194304 : 0)), 2 & t.def.flags && (t.state &= -9), t.state &= -97, En(t, 768, 1024) } function qs(t, e, n, l, s, i, r, o, a, u, c, h, d) { return 0 === n ? function (t, e, n, l, s, i, r, o, a, u, c, h) { switch (201347067 & e.flags) { case 1: return function (t, e, n, l, s, i, r, o, a, u, c, h) { const d = e.bindings.length; let p = !1; return d > 0 && Cl(t, e, 0, n) && (p = !0), d > 1 && Cl(t, e, 1, l) && (p = !0), d > 2 && Cl(t, e, 2, s) && (p = !0), d > 3 && Cl(t, e, 3, i) && (p = !0), d > 4 && Cl(t, e, 4, r) && (p = !0), d > 5 && Cl(t, e, 5, o) && (p = !0), d > 6 && Cl(t, e, 6, a) && (p = !0), d > 7 && Cl(t, e, 7, u) && (p = !0), d > 8 && Cl(t, e, 8, c) && (p = !0), d > 9 && Cl(t, e, 9, h) && (p = !0), p }(t, e, n, l, s, i, r, o, a, u, c, h); case 2: return function (t, e, n, l, s, i, r, o, a, u, c, h) { let d = !1; const p = e.bindings, m = p.length; if (m > 0 && Wn(t, e, 0, n) && (d = !0), m > 1 && Wn(t, e, 1, l) && (d = !0), m > 2 && Wn(t, e, 2, s) && (d = !0), m > 3 && Wn(t, e, 3, i) && (d = !0), m > 4 && Wn(t, e, 4, r) && (d = !0), m > 5 && Wn(t, e, 5, o) && (d = !0), m > 6 && Wn(t, e, 6, a) && (d = !0), m > 7 && Wn(t, e, 7, u) && (d = !0), m > 8 && Wn(t, e, 8, c) && (d = !0), m > 9 && Wn(t, e, 9, h) && (d = !0), d) { let d = e.text.prefix; m > 0 && (d += Ds(n, p[0])), m > 1 && (d += Ds(l, p[1])), m > 2 && (d += Ds(s, p[2])), m > 3 && (d += Ds(i, p[3])), m > 4 && (d += Ds(r, p[4])), m > 5 && (d += Ds(o, p[5])), m > 6 && (d += Ds(a, p[6])), m > 7 && (d += Ds(u, p[7])), m > 8 && (d += Ds(c, p[8])), m > 9 && (d += Ds(h, p[9])); const g = Tn(t, e.nodeIndex).renderText; t.renderer.setValue(g, d) } return d }(t, e, n, l, s, i, r, o, a, u, c, h); case 16384: return function (t, e, n, l, s, i, r, o, a, u, c, h) { const d = An(t, e.nodeIndex), p = d.instance; let m = !1, g = void 0; const f = e.bindings.length; return f > 0 && $n(t, e, 0, n) && (m = !0, g = bs(t, d, e, 0, n, g)), f > 1 && $n(t, e, 1, l) && (m = !0, g = bs(t, d, e, 1, l, g)), f > 2 && $n(t, e, 2, s) && (m = !0, g = bs(t, d, e, 2, s, g)), f > 3 && $n(t, e, 3, i) && (m = !0, g = bs(t, d, e, 3, i, g)), f > 4 && $n(t, e, 4, r) && (m = !0, g = bs(t, d, e, 4, r, g)), f > 5 && $n(t, e, 5, o) && (m = !0, g = bs(t, d, e, 5, o, g)), f > 6 && $n(t, e, 6, a) && (m = !0, g = bs(t, d, e, 6, a, g)), f > 7 && $n(t, e, 7, u) && (m = !0, g = bs(t, d, e, 7, u, g)), f > 8 && $n(t, e, 8, c) && (m = !0, g = bs(t, d, e, 8, c, g)), f > 9 && $n(t, e, 9, h) && (m = !0, g = bs(t, d, e, 9, h, g)), g && p.ngOnChanges(g), 65536 & e.flags && kn(t, 256, e.nodeIndex) && p.ngOnInit(), 262144 & e.flags && p.ngDoCheck(), m }(t, e, n, l, s, i, r, o, a, u, c, h); case 32: case 64: case 128: return function (t, e, n, l, s, i, r, o, a, u, c, h) { const d = e.bindings; let p = !1; const m = d.length; if (m > 0 && Wn(t, e, 0, n) && (p = !0), m > 1 && Wn(t, e, 1, l) && (p = !0), m > 2 && Wn(t, e, 2, s) && (p = !0), m > 3 && Wn(t, e, 3, i) && (p = !0), m > 4 && Wn(t, e, 4, r) && (p = !0), m > 5 && Wn(t, e, 5, o) && (p = !0), m > 6 && Wn(t, e, 6, a) && (p = !0), m > 7 && Wn(t, e, 7, u) && (p = !0), m > 8 && Wn(t, e, 8, c) && (p = !0), m > 9 && Wn(t, e, 9, h) && (p = !0), p) { const p = In(t, e.nodeIndex); let g; switch (201347067 & e.flags) { case 32: g = new Array(d.length), m > 0 && (g[0] = n), m > 1 && (g[1] = l), m > 2 && (g[2] = s), m > 3 && (g[3] = i), m > 4 && (g[4] = r), m > 5 && (g[5] = o), m > 6 && (g[6] = a), m > 7 && (g[7] = u), m > 8 && (g[8] = c), m > 9 && (g[9] = h); break; case 64: g = {}, m > 0 && (g[d[0].name] = n), m > 1 && (g[d[1].name] = l), m > 2 && (g[d[2].name] = s), m > 3 && (g[d[3].name] = i), m > 4 && (g[d[4].name] = r), m > 5 && (g[d[5].name] = o), m > 6 && (g[d[6].name] = a), m > 7 && (g[d[7].name] = u), m > 8 && (g[d[8].name] = c), m > 9 && (g[d[9].name] = h); break; case 128: const t = n; switch (m) { case 1: g = t.transform(n); break; case 2: g = t.transform(l); break; case 3: g = t.transform(l, s); break; case 4: g = t.transform(l, s, i); break; case 5: g = t.transform(l, s, i, r); break; case 6: g = t.transform(l, s, i, r, o); break; case 7: g = t.transform(l, s, i, r, o, a); break; case 8: g = t.transform(l, s, i, r, o, a, u); break; case 9: g = t.transform(l, s, i, r, o, a, u, c); break; case 10: g = t.transform(l, s, i, r, o, a, u, c, h) } }p.value = g } return p }(t, e, n, l, s, i, r, o, a, u, c, h); default: throw "unreachable" } }(t, e, l, s, i, r, o, a, u, c, h, d) : function (t, e, n) { switch (201347067 & e.flags) { case 1: return function (t, e, n) { let l = !1; for (let s = 0; s < n.length; s++)Cl(t, e, s, n[s]) && (l = !0); return l }(t, e, n); case 2: return function (t, e, n) { const l = e.bindings; let s = !1; for (let i = 0; i < n.length; i++)Wn(t, e, i, n[i]) && (s = !0); if (s) { let s = ""; for (let t = 0; t < n.length; t++)s += Ds(n[t], l[t]); s = e.text.prefix + s; const i = Tn(t, e.nodeIndex).renderText; t.renderer.setValue(i, s) } return s }(t, e, n); case 16384: return function (t, e, n) { const l = An(t, e.nodeIndex), s = l.instance; let i = !1, r = void 0; for (let o = 0; o < n.length; o++)$n(t, e, o, n[o]) && (i = !0, r = bs(t, l, e, o, n[o], r)); return r && s.ngOnChanges(r), 65536 & e.flags && kn(t, 256, e.nodeIndex) && s.ngOnInit(), 262144 & e.flags && s.ngDoCheck(), i }(t, e, n); case 32: case 64: case 128: return function (t, e, n) { const l = e.bindings; let s = !1; for (let i = 0; i < n.length; i++)Wn(t, e, i, n[i]) && (s = !0); if (s) { const s = In(t, e.nodeIndex); let i; switch (201347067 & e.flags) { case 32: i = n; break; case 64: i = {}; for (let e = 0; e < n.length; e++)i[l[e].name] = n[e]; break; case 128: const t = n[0], s = n.slice(1); i = t.transform(...s) }s.value = i } return s }(t, e, n); default: throw "unreachable" } }(t, e, l) } function Qs(t) { const e = t.def; if (4 & e.nodeFlags) for (let n = 0; n < e.nodes.length; n++) { const l = e.nodes[n]; if (4 & l.flags) { const e = On(t, n).template._projectedViews; if (e) for (let n = 0; n < e.length; n++) { const l = e[n]; l.state |= 32, Qn(l, t) } } else 0 == (4 & l.childFlags) && (n += l.childCount) } } function Ks(t, e, n, l, s, i, r, o, a, u, c, h, d) { return 0 === n ? function (t, e, n, l, s, i, r, o, a, u, c, h) { const d = e.bindings.length; d > 0 && Gn(t, e, 0, n), d > 1 && Gn(t, e, 1, l), d > 2 && Gn(t, e, 2, s), d > 3 && Gn(t, e, 3, i), d > 4 && Gn(t, e, 4, r), d > 5 && Gn(t, e, 5, o), d > 6 && Gn(t, e, 6, a), d > 7 && Gn(t, e, 7, u), d > 8 && Gn(t, e, 8, c), d > 9 && Gn(t, e, 9, h) }(t, e, l, s, i, r, o, a, u, c, h, d) : function (t, e, n) { for (let l = 0; l < n.length; l++)Gn(t, e, l, n[l]) }(t, e, l), !1 } function Js(t, e) { if (Mn(t, e.nodeIndex).dirty) throw Pn(Rn.createDebugContext(t, e.nodeIndex), `Query ${e.query.id} not dirty`, `Query ${e.query.id} dirty`, 0 != (1 & t.state)) } function Zs(t) { if (!(128 & t.state)) { if (ti(t, Ys.Destroy), Xs(t, Ys.Destroy), ws(t, 131072), t.disposables) for (let e = 0; e < t.disposables.length; e++)t.disposables[e](); !function (t) { if (!(16 & t.state)) return; const e = Jn(t); if (e) { const n = e.template._projectedViews; n && (Dl(n, n.indexOf(t)), Rn.dirtyParentQueries(t)) } }(t), t.renderer.destroyNode && function (t) { const e = t.def.nodes.length; for (let n = 0; n < e; n++) { const e = t.def.nodes[n]; 1 & e.flags ? t.renderer.destroyNode(On(t, n).renderElement) : 2 & e.flags ? t.renderer.destroyNode(Tn(t, n).renderText) : (67108864 & e.flags || 134217728 & e.flags) && Mn(t, n).destroy() } }(t), tl(t) && t.renderer.destroy(), t.state |= 128 } } const Ys = function () { var t = { CreateViewNodes: 0, CheckNoChanges: 1, CheckNoChangesProjectedViews: 2, CheckAndUpdate: 3, CheckAndUpdateProjectedViews: 4, Destroy: 5 }; return t[t.CreateViewNodes] = "CreateViewNodes", t[t.CheckNoChanges] = "CheckNoChanges", t[t.CheckNoChangesProjectedViews] = "CheckNoChangesProjectedViews", t[t.CheckAndUpdate] = "CheckAndUpdate", t[t.CheckAndUpdateProjectedViews] = "CheckAndUpdateProjectedViews", t[t.Destroy] = "Destroy", t }(); function Xs(t, e) { const n = t.def; if (33554432 & n.nodeFlags) for (let l = 0; l < n.nodes.length; l++) { const s = n.nodes[l]; 33554432 & s.flags ? ei(On(t, l).componentView, e) : 0 == (33554432 & s.childFlags) && (l += s.childCount) } } function ti(t, e) { const n = t.def; if (16777216 & n.nodeFlags) for (let l = 0; l < n.nodes.length; l++) { const s = n.nodes[l]; if (16777216 & s.flags) { const n = On(t, l).viewContainer._embeddedViews; for (let t = 0; t < n.length; t++)ei(n[t], e) } else 0 == (16777216 & s.childFlags) && (l += s.childCount) } } function ei(t, e) { const n = t.state; switch (e) { case Ys.CheckNoChanges: 0 == (128 & n) && (12 == (12 & n) ? Ws(t) : 64 & n && ni(t, Ys.CheckNoChangesProjectedViews)); break; case Ys.CheckNoChangesProjectedViews: 0 == (128 & n) && (32 & n ? Ws(t) : 64 & n && ni(t, e)); break; case Ys.CheckAndUpdate: 0 == (128 & n) && (12 == (12 & n) ? Gs(t) : 64 & n && ni(t, Ys.CheckAndUpdateProjectedViews)); break; case Ys.CheckAndUpdateProjectedViews: 0 == (128 & n) && (32 & n ? Gs(t) : 64 & n && ni(t, e)); break; case Ys.Destroy: Zs(t); break; case Ys.CreateViewNodes: $s(t) } } function ni(t, e) { ti(t, e), Xs(t, e) } function li(t, e, n, l) { if (!(t.def.nodeFlags & e && t.def.nodeFlags & n)) return; const s = t.def.nodes.length; for (let i = 0; i < s; i++) { const s = t.def.nodes[i]; if (s.flags & e && s.flags & n) switch (Rn.setCurrentNode(t, s.nodeIndex), l) { case 0: Es(t, s); break; case 1: Js(t, s) }s.childFlags & e && s.childFlags & n || (i += s.childCount) } } let si = !1; function ii(t, e, n, l, s, i) { return zs(oi(t, s, s.injector.get(Ne), e, n), l, i) } function ri(t, e, n, l, s, i) { const r = s.injector.get(Ne), o = oi(t, s, new Hi(r), e, n), a = fi(l); return Li(xi.create, zs, null, [o, a, i]) } function oi(t, e, n, l, s) { const i = e.injector.get(Sn), r = e.injector.get(at); return { ngModule: e, injector: t, projectableNodes: l, selectorOrNode: s, sanitizer: i, rendererFactory: n, renderer: n.createRenderer(null, null), errorHandler: r } } function ai(t, e, n, l) { const s = fi(n); return Li(xi.create, Ls, null, [t, e, s, l]) } function ui(t, e, n, l) { return n = di.get(e.element.componentProvider.provider.token) || fi(n), Li(xi.create, Hs, null, [t, e, n, l]) } function ci(t, e, n, l) { return Zl(t, e, n, function (t) { const { hasOverrides: e, hasDeprecatedOverrides: n } = function (t) { let e = !1, n = !1; return 0 === hi.size ? { hasOverrides: e, hasDeprecatedOverrides: n } : (t.providers.forEach(t => { const l = hi.get(t.token); 3840 & t.flags && l && (e = !0, n = n || l.deprecatedBehavior) }), { hasOverrides: e, hasDeprecatedOverrides: n }) }(t); return e ? (function (t) { for (let e = 0; e < t.providers.length; e++) { const l = t.providers[e]; n && (l.flags |= 4096); const s = hi.get(l.token); s && (l.flags = -3841 & l.flags | s.flags, l.deps = sl(s.deps), l.value = s.value) } }(t = t.factory(() => Vn)), t) : t }(l)) } const hi = new Map, di = new Map; function pi(t) { hi.set(t.token, t) } function mi(t, e) { const n = ol(ol(e.viewDefFactory).nodes[0].element.componentView); di.set(t, n) } function gi() { hi.clear(), di.clear() } function fi(t) { if (0 === hi.size) return t; const e = function (t) { const e = []; let n = null; for (let l = 0; l < t.nodes.length; l++) { const s = t.nodes[l]; 1 & s.flags && (n = s), n && 3840 & s.flags && hi.has(s.provider.token) && (e.push(n.nodeIndex), n = null) } return e }(t); if (0 === e.length) return t; t = t.factory(() => Vn); for (let l = 0; l < e.length; l++)n(t, e[l]); return t; function n(t, e) { for (let n = e + 1; n < t.nodes.length; n++) { const e = t.nodes[n]; if (1 & e.flags) return; if (3840 & e.flags) { const t = e.provider, n = hi.get(t.token); n && (e.flags = -3841 & e.flags | n.flags, t.deps = sl(n.deps), t.value = n.value) } } } } function _i(t, e, n, l, s, i, r, o, a, u, c, h, d) { const p = t.def.nodes[e]; return qs(t, p, n, l, s, i, r, o, a, u, c, h, d), 224 & p.flags ? In(t, e).value : void 0 } function yi(t, e, n, l, s, i, r, o, a, u, c, h, d) { const p = t.def.nodes[e]; return Ks(t, p, n, l, s, i, r, o, a, u, c, h, d), 224 & p.flags ? In(t, e).value : void 0 } function bi(t) { return Li(xi.detectChanges, Gs, null, [t]) } function wi(t) { return Li(xi.checkNoChanges, Ws, null, [t]) } function vi(t) { return Li(xi.destroy, Zs, null, [t]) } const xi = function () { var t = { create: 0, detectChanges: 1, checkNoChanges: 2, destroy: 3, handleEvent: 4 }; return t[t.create] = "create", t[t.detectChanges] = "detectChanges", t[t.checkNoChanges] = "checkNoChanges", t[t.destroy] = "destroy", t[t.handleEvent] = "handleEvent", t }(); let Ci, Si, Ei; function ki(t, e) { Si = t, Ei = e } function Ti(t, e, n, l) { return ki(t, e), Li(xi.handleEvent, t.def.handleEvent, null, [t, e, n, l]) } function Oi(t, e) { if (128 & t.state) throw Dn(xi[Ci]); return ki(t, Di(t, 0)), t.def.updateDirectives(function (t, n, l, ...s) { const i = t.def.nodes[n]; return 0 === e ? Ii(t, i, l, s) : Mi(t, i, l, s), 16384 & i.flags && ki(t, Di(t, n)), 224 & i.flags ? In(t, i.nodeIndex).value : void 0 }, t) } function Ai(t, e) { if (128 & t.state) throw Dn(xi[Ci]); return ki(t, Vi(t, 0)), t.def.updateRenderer(function (t, n, l, ...s) { const i = t.def.nodes[n]; return 0 === e ? Ii(t, i, l, s) : Mi(t, i, l, s), 3 & i.flags && ki(t, Vi(t, n)), 224 & i.flags ? In(t, i.nodeIndex).value : void 0 }, t) } function Ii(t, e, n, l) { if (qs(t, e, n, ...l)) { const s = 1 === n ? l[0] : l; if (16384 & e.flags) { const n = {}; for (let t = 0; t < e.bindings.length; t++) { const l = e.bindings[t], i = s[t]; 8 & l.flags && (n[Ri(l.nonMinifiedName)] = Ni(i)) } const l = e.parent, i = On(t, l.nodeIndex).renderElement; if (l.element.name) for (let e in n) { const l = n[e]; null != l ? t.renderer.setAttribute(i, e, l) : t.renderer.removeAttribute(i, e) } else t.renderer.setValue(i, `bindings=${JSON.stringify(n, null, 2)}`) } } } function Mi(t, e, n, l) { Ks(t, e, n, ...l) } function Ri(t) { return `ng-reflect-${t = t.replace(/[$@]/g, "_").replace(Pi, (...t) => "-" + t[1].toLowerCase())}` } const Pi = /([A-Z])/g; function Ni(t) { try { return null != t ? t.toString().slice(0, 30) : t } catch (t) { return "[ERROR] Exception while trying to serialize the value" } } function Di(t, e) { for (let n = e; n < t.def.nodes.length; n++) { const e = t.def.nodes[n]; if (16384 & e.flags && e.bindings && e.bindings.length) return n } return null } function Vi(t, e) { for (let n = e; n < t.def.nodes.length; n++) { const e = t.def.nodes[n]; if (3 & e.flags && e.bindings && e.bindings.length) return n } return null } class ji { constructor(t, e) { this.view = t, this.nodeIndex = e, null == e && (this.nodeIndex = e = 0), this.nodeDef = t.def.nodes[e]; let n = this.nodeDef, l = t; for (; n && 0 == (1 & n.flags);)n = n.parent; if (!n) for (; !n && l;)n = Zn(l), l = l.parent; this.elDef = n, this.elView = l } get elOrCompView() { return On(this.elView, this.elDef.nodeIndex).componentView || this.view } get injector() { return Gl(this.elView, this.elDef) } get component() { return this.elOrCompView.component } get context() { return this.elOrCompView.context } get providerTokens() { const t = []; if (this.elDef) for (let e = this.elDef.nodeIndex + 1; e <= this.elDef.nodeIndex + this.elDef.childCount; e++) { const n = this.elView.def.nodes[e]; 20224 & n.flags && t.push(n.provider.token), e += n.childCount } return t } get references() { const t = {}; if (this.elDef) { Fi(this.elView, this.elDef, t); for (let e = this.elDef.nodeIndex + 1; e <= this.elDef.nodeIndex + this.elDef.childCount; e++) { const n = this.elView.def.nodes[e]; 20224 & n.flags && Fi(this.elView, n, t), e += n.childCount } } return t } get componentRenderElement() { const t = function (t) { for (; t && !tl(t);)t = t.parent; return t.parent ? On(t.parent, Zn(t).nodeIndex) : null }(this.elOrCompView); return t ? t.renderElement : void 0 } get renderNode() { return 2 & this.nodeDef.flags ? Yn(this.view, this.nodeDef) : Yn(this.elView, this.elDef) } logError(t, ...e) { let n, l; 2 & this.nodeDef.flags ? (n = this.view.def, l = this.nodeDef.nodeIndex) : (n = this.elView.def, l = this.elDef.nodeIndex); const s = function (t, e) { let n = -1; for (let l = 0; l <= e; l++)3 & t.nodes[l].flags && n++; return n }(n, l); let i = -1; n.factory(() => ++i === s ? t.error.bind(t, ...e) : Vn), i < s && (t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"), t.error(...e)) } } function Fi(t, e, n) { for (let l in e.references) n[l] = Ts(t, e, e.references[l]) } function Li(t, e, n, l) { const s = Ci, i = Si, r = Ei; try { Ci = t; const o = e.apply(n, l); return Si = i, Ei = r, Ci = s, o } catch (t) { if (it(t) || !Si) throw t; throw function (t, e) { return t instanceof Error || (t = new Error(t.toString())), Nn(t, e), t }(t, zi()) } } function zi() { return Si ? new ji(Si, Ei) : null } class Hi { constructor(t) { this.delegate = t } createRenderer(t, e) { return new Ui(this.delegate.createRenderer(t, e)) } begin() { this.delegate.begin && this.delegate.begin() } end() { this.delegate.end && this.delegate.end() } whenRenderingDone() { return this.delegate.whenRenderingDone ? this.delegate.whenRenderingDone() : Promise.resolve(null) } } class Ui { constructor(t) { this.delegate = t, this.data = this.delegate.data } destroyNode(t) { !function (t) { Ye.delete(t.nativeNode) }(Xe(t)), this.delegate.destroyNode && this.delegate.destroyNode(t) } destroy() { this.delegate.destroy() } createElement(t, e) { const n = this.delegate.createElement(t, e), l = zi(); if (l) { const e = new Ze(n, null, l); e.name = t, tn(e) } return n } createComment(t) { const e = this.delegate.createComment(t), n = zi(); return n && tn(new Je(e, null, n)), e } createText(t) { const e = this.delegate.createText(t), n = zi(); return n && tn(new Je(e, null, n)), e } appendChild(t, e) { const n = Xe(t), l = Xe(e); n && l && n instanceof Ze && n.addChild(l), this.delegate.appendChild(t, e) } insertBefore(t, e, n) { const l = Xe(t), s = Xe(e), i = Xe(n); l && s && l instanceof Ze && l.insertBefore(i, s), this.delegate.insertBefore(t, e, n) } removeChild(t, e) { const n = Xe(t), l = Xe(e); n && l && n instanceof Ze && n.removeChild(l), this.delegate.removeChild(t, e) } selectRootElement(t) { const e = this.delegate.selectRootElement(t), n = zi(); return n && tn(new Ze(e, null, n)), e } setAttribute(t, e, n, l) { const s = Xe(t); s && s instanceof Ze && (s.attributes[l ? l + ":" + e : e] = n), this.delegate.setAttribute(t, e, n, l) } removeAttribute(t, e, n) { const l = Xe(t); l && l instanceof Ze && (l.attributes[n ? n + ":" + e : e] = null), this.delegate.removeAttribute(t, e, n) } addClass(t, e) { const n = Xe(t); n && n instanceof Ze && (n.classes[e] = !0), this.delegate.addClass(t, e) } removeClass(t, e) { const n = Xe(t); n && n instanceof Ze && (n.classes[e] = !1), this.delegate.removeClass(t, e) } setStyle(t, e, n, l) { const s = Xe(t); s && s instanceof Ze && (s.styles[e] = n), this.delegate.setStyle(t, e, n, l) } removeStyle(t, e, n) { const l = Xe(t); l && l instanceof Ze && (l.styles[e] = null), this.delegate.removeStyle(t, e, n) } setProperty(t, e, n) { const l = Xe(t); l && l instanceof Ze && (l.properties[e] = n), this.delegate.setProperty(t, e, n) } listen(t, e, n) { if ("string" != typeof t) { const l = Xe(t); l && l.listeners.push(new Ke(e, n)) } return this.delegate.listen(t, e, n) } parentNode(t) { return this.delegate.parentNode(t) } nextSibling(t) { return this.delegate.nextSibling(t) } setValue(t, e) { return this.delegate.setValue(t, e) } } function Bi(t, e, n) { return new $i(t, e, n) } class $i extends le { constructor(t, e, n) { super(), this.moduleType = t, this._bootstrapComponents = e, this._ngModuleDefFactory = n } create(t) { !function () { if (si) return; si = !0; const t = ke() ? { setCurrentNode: ki, createRootView: ri, createEmbeddedView: ai, createComponentView: ui, createNgModuleRef: ci, overrideProvider: pi, overrideComponentView: mi, clearOverrides: gi, checkAndUpdateView: bi, checkNoChangesView: wi, destroyView: vi, createDebugContext: (t, e) => new ji(t, e), handleEvent: Ti, updateDirectives: Oi, updateRenderer: Ai } : { setCurrentNode: () => { }, createRootView: ii, createEmbeddedView: Ls, createComponentView: Hs, createNgModuleRef: Zl, overrideProvider: Vn, overrideComponentView: Vn, clearOverrides: Vn, checkAndUpdateView: Gs, checkNoChangesView: Ws, destroyView: Zs, createDebugContext: (t, e) => new ji(t, e), handleEvent: (t, e, n, l) => t.def.handleEvent(t, e, n, l), updateDirectives: (t, e) => t.def.updateDirectives(0 === e ? _i : yi, t), updateRenderer: (t, e) => t.def.updateRenderer(0 === e ? _i : yi, t) }; Rn.setCurrentNode = t.setCurrentNode, Rn.createRootView = t.createRootView, Rn.createEmbeddedView = t.createEmbeddedView, Rn.createComponentView = t.createComponentView, Rn.createNgModuleRef = t.createNgModuleRef, Rn.overrideProvider = t.overrideProvider, Rn.overrideComponentView = t.overrideComponentView, Rn.clearOverrides = t.clearOverrides, Rn.checkAndUpdateView = t.checkAndUpdateView, Rn.checkNoChangesView = t.checkNoChangesView, Rn.destroyView = t.destroyView, Rn.resolveDep = _s, Rn.createDebugContext = t.createDebugContext, Rn.handleEvent = t.handleEvent, Rn.updateDirectives = t.updateDirectives, Rn.updateRenderer = t.updateRenderer, Rn.dirtyParentQueries = Ss }(); const e = ol(this._ngModuleDefFactory); return Rn.createNgModuleRef(this.moduleType, t || z.NULL, this._bootstrapComponents, e) } } let Wi; "undefined" == typeof ngDevMode && ("undefined" != typeof window && (window.ngDevMode = !0), "undefined" != typeof self && (self.ngDevMode = !0), "undefined" != typeof t && (t.ngDevMode = !0)), Wi = { parent: Wi, id: null, node: null, data: [], ngStaticData: [], cleanup: null, renderer: null, child: null, tail: null, next: null, bindingStartIndex: null, creationMode: !0, viewHookStartIndex: null } }).call(e, n("DuR2")) }, "51CN": function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("AujY"); e.DQNBrain = class extends l.DQNSolver { constructor(t, e) { super(t, e) } load(t) { this.fromJSON(t) } } }, "6MRC": function (t, e, n) { "use strict"; const l = Array.isArray || (t => t && "number" == typeof t.length); e.a = l }, "6S5o": function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); class l { constructor(t, e) { this.x = 0, this.y = 0, this.x = t, this.y = e } getDistanceTo(t) { return Math.sqrt(Math.pow(this.x - t.x, 2) + Math.pow(this.y - t.y, 2)) } length() { return Math.sqrt(Math.pow(this.x, 2) + Math.pow(this.y, 2)) } dot(t) { return this.x * t.x + this.y * t.y } angle(t) { return Math.acos(this.dot(t) / (this.length() * t.length())) } add(t) { return new l(this.x + t.x, this.y + t.y) } sub(t) { return new l(this.x - t.x, this.y - t.y) } rotate(t) { return new l(this.x * Math.cos(t) + this.y * Math.sin(t), -this.x * Math.sin(t) + this.y * Math.cos(t)) } normalize() { const t = this.length(); this.scale(1 / t) } scale(t) { this.x *= t, this.y *= t } } e.Point2D = l }, "73El": function (t, e, n) { "use strict"; var l = n("bbL7"), s = n("crq8"), i = n("jzaW"), r = n("FvzS"), o = n("ves3"), a = n("dzdQ"), u = n("2zkT"); class c extends u.a { constructor(t, e, n) { super(), this.parent = t, this.outerValue = e, this.outerIndex = n, this.index = 0 } _next(t) { this.parent.notifyNext(this.outerValue, t, this.outerIndex, this.index++, this) } _error(t) { this.parent.notifyError(t, this), this.unsubscribe() } _complete() { this.parent.notifyComplete(this), this.unsubscribe() } } var h = n("zOxy"); e.a = function (t, e, n, u) { let d = new c(t, n, u); if (d.closed) return null; if (e instanceof o.a) return e._isScalar ? (d.next(e.value), d.complete(), null) : (d.syncErrorThrowable = !0, e.subscribe(d)); if (Object(s.a)(e)) { for (let t = 0, n = e.length; t < n && !d.closed; t++)d.next(e[t]); d.closed || d.complete() } else { if (Object(i.a)(e)) return e.then(t => { d.closed || (d.next(t), d.complete()) }, t => d.error(t)).then(null, t => { l.a.setTimeout(() => { throw t }) }), d; if (e && "function" == typeof e[a.a]) { const t = e[a.a](); for (; ;) { let e = t.next(); if (e.done) { d.complete(); break } if (d.next(e.value), d.closed) break } } else if (e && "function" == typeof e[h.a]) { const l = e[h.a](); if ("function" == typeof l.subscribe) return l.subscribe(new c(t, n, u)); d.error(new TypeError("Provided object does not correctly implement Symbol.observable")) } else { const t = `You provided ${Object(r.a)(e) ? "an invalid object" : `'${e}'`} where a stream was expected.` + " You can provide an Observable, Promise, Array, or Iterable."; d.error(new TypeError(t)) } } return null } }, "73T8": function (t, e, n) { "use strict"; const l = n("bbL7").a.Symbol, s = "function" == typeof l && "function" == typeof l.for ? l.for("rxSubscriber") : "@@rxSubscriber"; e.a = s }, "7Qlc": function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("JVTt"), s = n("Ze4q"), i = n("w4xR"), r = n("AFF0"); e.World = class { constructor(t, e, n = 2, l = 50) { this.width = t, this.height = e, this.maxAgents = n, this.maxItems = l, this.init() } init() { this.agentFactory = new i.RLAgentFactory(this.width, this.height), this.itemFactory = new r.ItemFactory(this.width, this.height), this.walls = new Array, this.agents = new Array, this.items = new Array, this._clock = 0, this.spawnWalls(); for (let t = 0; t < this.maxAgents; t++)this.spawnNewAgent(); for (let t = 0; t < this.maxItems; t++)this.spawnNewItem(); this.observeForNextDecision() } spawnWalls() { this.walls.push(new s.Wall(0, 0, this.width, 0)), this.walls.push(new s.Wall(this.width, 0, this.width, this.height)), this.walls.push(new s.Wall(this.width, this.height, 0, this.height)), this.walls.push(new s.Wall(0, this.height, 0, 0)) } spawnNewAgent() { const t = this.agentFactory.createRandomDQNAgent(); this.agents.push(t) } spawnNewItem() { const t = this.itemFactory.createItem(this.getItems()); this.items.push(t) } tick() { this._clock++ , this.prepareWorldObjects(), this.makeDecision(), this.actOnDecision(), this.tickAllItems(), this.learnFromDecision(), this.observeForNextDecision() } prepareWorldObjects() { for (const t of this.items) t.increaseAge(); for (const t of this.agents) t.increaseAge(), t.reset() } switchTrainingModeOfAgents(t) { for (const e of this.agents) e.setTrainingModeTo(t) } observeForNextDecision() { for (const t of this.agents) t.observe(this) } makeDecision() { for (const t of this.agents) t.decide() } actOnDecision() { for (const t of this.agents) t.act(this) } tickAllItems() { let t = !1; for (const e of this.items) { const n = this.checkConsumption(e); t = t || n, e.move(this.width, this.height), e.shouldDieOfAge(this._clock) && e.markAsDead() } t && this.removeDeadItems(), this.spawnNewItemsRandomly() } checkConsumption(t) { for (const e of this.agents) if (e.processCollision(t)) return t.markAsDead(), !0; return !1 } removeDeadItems() { this.items = this.items.filter((t, e) => t.isAlive()) } spawnNewItemsRandomly() { this.items.length < this.maxItems && l.Utils.randf(0, 1) < .25 && this.spawnNewItem() } learnFromDecision() { for (const t of this.agents) t.learn() } reset() { this.init() } clock() { return this._clock } getAgents() { return this.agents } getWalls() { return this.walls } getItems() { return this.items } setBoundaryCondition(t) { this.itemFactory.setBoundaryCondition(t) } } }, "7VlU": function (t, e, n) { "use strict"; function l() { } function s(t) { return t ? 1 === t.length ? t[0] : function (e) { return t.reduce((t, e) => e(t), e) } : l } e.a = function (...t) { return s(t) }, e.b = s }, "7nan": function (t, e, n) { "use strict"; e.a = class extends Error { constructor() { const t = super("object unsubscribed"); this.name = t.name = "ObjectUnsubscribedError", this.stack = t.stack, this.message = t.message } } }, "7oRV": function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("BYl3"), s = n("FZZ3"); class i extends l.Assertable { constructor(t, e) { super(), this.rows = t, this.cols = e, this.length = t * e, this.w = s.Utils.zeros(this.length), this.dw = s.Utils.zeros(this.length) } get(t, e) { const n = this.getIndexBy(t, e); return i.assert(n >= 0 && n < this.w.length, "[class:Mat] get: index out of bounds."), this.w[n] } set(t, e, n) { const l = this.getIndexBy(t, e); i.assert(l >= 0 && l < this.w.length, "[class:Mat] set: index out of bounds."), this.w[l] = n } getIndexBy(t, e) { return t * this.cols + e } setFrom(t) { for (let e = 0; e < t.length; e++)this.w[e] = t[e] } setColumn(t, e) { for (let n = 0; n < t.w.length; n++)this.w[this.cols * n + e] = t.w[n] } update(t) { for (let e = 0; e < this.length; e++)0 !== this.dw[e] && (this.w[e] += -t * this.dw[e], this.dw[e] = 0) } static toJSON(t) { const e = {}; return e.rows = t.rows || t.n, e.cols = t.cols || t.d, e.w = t.w, e } static fromJSON(t) { const e = new i(t.rows || t.n, t.cols || t.d); for (let n = 0; n < e.length; n++)e.w[n] = t.w[n]; return e } static add(t, e) { i.assert(t.w.length === e.w.length && t.rows === e.rows, "[class:Mat] add: dimensions misaligned"); const n = new i(t.rows, t.cols); for (let l = 0; l < t.w.length; l++)n.w[l] = t.w[l] + e.w[l]; return n } static sig(t) { const e = new i(t.rows, t.cols); for (let n = 0; n < t.w.length; n++)e.w[n] = i.sigmoid(t.w[n]); return e } static sigmoid(t) { return 1 / (1 + Math.exp(-t)) } static relu(t) { const e = new i(t.rows, t.cols); for (let n = 0; n < t.w.length; n++)e.w[n] = Math.max(0, t.w[n]); return e } static mul(t, e) { i.assert(t.cols === e.rows, "[class:Mat] mul: dimensions misaligned"); const n = new i(t.rows, e.cols); for (let l = 0; l < t.rows; l++)for (let s = 0; s < e.cols; s++) { let i = 0; for (let n = 0; n < t.cols; n++)i += t.w[t.cols * l + n] * e.w[e.cols * n + s]; n.w[e.cols * l + s] = i } return n } static tanh(t) { const e = new i(t.rows, t.cols); for (let n = 0; n < t.w.length; n++)e.w[n] = Math.tanh(t.w[n]); return e } static gauss(t, e) { i.assert(t.w.length === e.w.length, "[class:Mat] gauss: dimensions misaligned"); const n = new i(t.rows, t.cols); for (let l = 0; l < t.w.length; l++)n.w[l] = s.Utils.randn(t.w[l], e.w[l]); return n } static dot(t, e) { i.assert(t.w.length === e.w.length, "[class:Mat] dot: dimensions misaligned"); const n = new i(1, 1); let l = 0; for (let s = 0; s < t.w.length; s++)l += t.w[s] * e.w[s]; return n.w[0] = l, n } static eltmul(t, e) { i.assert(t.w.length === e.w.length && t.rows === e.rows, "[class:Mat] eltmul: dimensions misaligned"); const n = new i(t.rows, t.cols); for (let l = 0; l < t.w.length; l++)n.w[l] = t.w[l] * e.w[l]; return n } static rowPluck(t, e) { i.assert(e >= 0 && e < t.rows, "[class:Mat] rowPluck: dimensions misaligned"); const n = new i(t.cols, 1); for (let l = 0; l < t.cols; l++)n.w[l] = t.w[t.cols * e + l]; return n } } e.Mat = i }, "7zzE": function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("6S5o"), s = n("oCcI"); e.RLAgent = class extends s.WorldObject { constructor(t, e, n, s) { super(t, 3, 10, s, new l.Point2D(0, 0)), this.velocityDiscountFactor = .95, this.sensory = n, this.brain = e, this.actionIndex = 0, this.reset() } reset() { this.totalReward = 0, this.consumptionReward = 0, this.sensoryReward = 0, this.sensory.reset() } load(t) { this.brain.load(t) } setTrainingModeTo(t) { this.brain.setTrainingModeTo(t) } getOpt() { return this.brain.getOpt() } getEnv() { return this.brain.getEnv() } observe(t) { this.sensory.process(t, this) } decide() { const t = this.sensory.getSensoryState(); t.push(this.velocity.x), t.push(this.velocity.y), this.actionIndex = this.brain.decide(t) } act(t) { this.prepareAction(), this.determineNextLocation(), this.onWallCollision(t) } prepareAction() { 0 === this.actionIndex ? this.velocity.x += -1 : 1 === this.actionIndex ? this.velocity.x += 1 : 2 === this.actionIndex ? this.velocity.y += -1 : 3 === this.actionIndex && (this.velocity.y += 1) } determineNextLocation() { this.velocity.x *= this.velocityDiscountFactor, this.velocity.y *= this.velocityDiscountFactor, this.location.x += this.velocity.x, this.location.y += this.velocity.y } onWallCollision(t) { this.location.x < 1 ? (this.location.x = 1, this.velocity.x = 0, this.velocity.y = 0) : this.location.x > t.width - 1 && (this.location.x = t.width - 1, this.velocity.x = 0, this.velocity.y = 0), this.location.y < 1 ? (this.location.y = 1, this.velocity.x = 0, this.velocity.y = 0) : this.location.y > t.height - 1 && (this.location.y = t.height - 1, this.velocity.x = 0, this.velocity.y = 0) } processCollision(t) { const e = this.location.getDistanceTo(t.location); return !!this.isColliding(e, t) && (this.recordCollision(t), !0) } isColliding(t, e) { return t < this.size + e.size } recordCollision(t) { this.consumptionReward += t.getValue(), 1 === t.type ? this.sensory.item0CollisionsPerTick++ : 2 === t.type && this.sensory.item1CollisionsPerTick++ } learn() { this.processSensoryRewards(), this.totalReward = this.consumptionReward + this.sensoryReward, this.brain.learn(this.totalReward) } processSensoryRewards() { this.sensoryReward = this.sensory.processRewards(this) } } }, AFF0: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("JVTt"), s = n("q3za"); e.ItemFactory = class { constructor(t, e) { this.conditions = { scarce: 0, stable: 1 }, this.boundaryCondition = 1, this.width = t, this.height = e } createRandomItem() { const t = l.Utils.randf(20, this.width - 20), e = l.Utils.randf(20, this.height - 20), n = l.Utils.randi(1, 3); return new s.Item(t, e, n) } createItem(t) { const e = this.determineItemType(t), n = l.Utils.randf(20, this.width - 20), i = l.Utils.randf(20, this.height - 20); return new s.Item(n, i, e) } setBoundaryCondition(t) { this.boundaryCondition = this.conditions[t] } determineItemType(t) { if (0 === this.boundaryCondition) return this.getRandomItemType(); { const e = this.getItem1Amount(t); return this.determineTypeDependingOnCurrentValuationTarget(e / t.length) } } getItem1Amount(t) { return t.reduce((t, e) => 1 === e.type ? t += 1 : t, 0) } determineTypeDependingOnCurrentValuationTarget(t) { return t < l.Utils.randf(.25, .5) ? 1 : 1 - t < l.Utils.randf(.25, .5) ? 2 : this.getRandomItemType() } getRandomItemType() { return l.Utils.randi(1, 3) } } }, AujY: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("EXdB"); e.Solver = l.Solver; const s = n("DM6F"); e.Env = s.Env; const i = n("YyY7"); e.Opt = i.Opt; const r = n("i55R"); e.DQNSolver = r.DQNSolver; const o = n("vGlc"); e.DQNOpt = o.DQNOpt; const a = n("Oi/f"); e.DQNEnv = a.DQNEnv; const u = n("OvR/"); e.TDSolver = u.TDSolver; const c = n("sD9H"); e.TDOpt = c.TDOpt; const h = n("wxp6"); e.TDEnv = h.TDEnv }, BPyT: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("7oRV"); e.Graph = class { constructor(t = !0) { this.needsBackprop = t, this.backprop = new Array } backward() { for (let t = this.backprop.length - 1; t >= 0; t--)this.backprop[t]() } rowPluck(t, e) { const n = l.Mat.rowPluck(t, e); return this.addRowPluckToBackprop(t, e, n), n } addRowPluckToBackprop(t, e, n) { this.needsBackprop && this.backprop.push(() => { for (let l = 0; l < t.cols; l++)t.dw[t.cols * e + l] += n.dw[l] }) } tanh(t) { const e = l.Mat.tanh(t); return this.addTanhToBackprop(t, e), e } addTanhToBackprop(t, e) { this.needsBackprop && this.backprop.push(() => { for (let n = 0; n < t.w.length; n++) { const l = e.w[n]; t.dw[n] += (1 - l * l) * e.dw[n] } }) } sigmoid(t) { const e = l.Mat.sig(t); return this.addSigmoidToBackprop(t, e), e } addSigmoidToBackprop(t, e) { this.needsBackprop && this.backprop.push(() => { for (let n = 0; n < t.w.length; n++) { const l = e.w[n]; t.dw[n] += l * (1 - l) * e.dw[n] } }) } relu(t) { const e = l.Mat.relu(t); return this.addReluToBackprop(t, e), e } addReluToBackprop(t, e) { this.needsBackprop && this.backprop.push(() => { for (let n = 0; n < t.w.length; n++)t.dw[n] += t.w[n] > 0 ? e.dw[n] : 0 }) } mul(t, e) { const n = l.Mat.mul(t, e); return this.addMultiplyToBackprop(t, e, n), n } addMultiplyToBackprop(t, e, n) { this.needsBackprop && this.backprop.push(() => { for (let l = 0; l < t.rows; l++)for (let s = 0; s < e.cols; s++)for (let i = 0; i < t.cols; i++) { const r = n.dw[e.cols * l + s]; t.dw[t.cols * l + i] += e.w[e.cols * i + s] * r, e.dw[e.cols * i + s] += t.w[t.cols * l + i] * r } }) } add(t, e) { const n = l.Mat.add(t, e); return this.addAdditionToBackprop(t, e, n), n } addAdditionToBackprop(t, e, n) { this.needsBackprop && this.backprop.push(() => { for (let l = 0; l < t.w.length; l++)t.dw[l] += n.dw[l], e.dw[l] += n.dw[l] }) } dot(t, e) { const n = l.Mat.dot(t, e); return this.addDotToBackprop(t, e, n), n } addDotToBackprop(t, e, n) { this.needsBackprop && this.backprop.push(() => { for (let l = 0; l < t.w.length; l++)t.dw[l] += e.w[l] * n.dw[0], e.dw[l] += t.w[l] * n.dw[0] }) } eltmul(t, e) { const n = l.Mat.eltmul(t, e); return this.addEltmulToBackprop(t, e, n), n } addEltmulToBackprop(t, e, n) { this.needsBackprop && this.backprop.push(() => { for (let l = 0; l < t.w.length; l++)t.dw[l] += e.w[l] * n.dw[l], e.dw[l] += t.w[l] * n.dw[l] }) } } }, BYl3: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }), e.Assertable = class { static assert(t, e = "") { if (!t) { if (e = e || "Assertion failed", "undefined" != typeof Error) throw new Error(e); throw e } } } }, DM6F: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }), e.Env = class { constructor(t, e, n, l) { this.width = t, this.height = e, this.numberOfStates = n, this.numberOfActions = l } get(t) { return this[t] ? this[t] : void 0 } } }, DuR2: function (t, e) { var n; n = function () { return this }(); try { n = n || Function("return this")() || (0, eval)("this") } catch (t) { "object" == typeof window && (n = window) } t.exports = n }, EXdB: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }), e.Solver = class { constructor(t, e) { this.env = t, this.opt = e } getOpt() { return this.opt } getEnv() { return this.env } } }, FZZ3: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("BYl3"); class s extends l.Assertable { static randf(t, e) { return Math.random() * (e - t) + t } static randi(t, e) { return Math.floor(s.randf(t, e)) } static randn(t, e) { return t + s.gaussRandom() * e } static gaussRandom() { if (s.returnV) return s.returnV = !1, s.vVal; const t = 2 * Math.random() - 1, e = 2 * Math.random() - 1, n = t * t + e * e; if (0 === n || n > 1) return s.gaussRandom(); const l = Math.sqrt(-2 * Math.log(n) / n); return s.vVal = e * l, s.returnV = !0, t * l } static fillRandn(t, e, n) { for (let l = 0; l < t.length; l++)t[l] = s.randn(e, n) } static fillRand(t, e, n) { for (let l = 0; l < t.length; l++)t[l] = s.randf(e, n) } static fillConst(t, e) { for (let n = 0; n < t.length; n++)t[n] = e } static zeros(t) { if ("undefined" == typeof t || isNaN(t)) return []; if ("undefined" == typeof ArrayBuffer) { const e = new Array(t); return s.fillConst(e, 0), e } return new Float64Array(t) } static maxi(t) { let e = t[0], n = 0; for (let l = 1; l < t.length; l++) { const s = t[l]; s > e && (n = l, e = s) } return n } static sampleWeighted(t) { const e = Math.random(); let n = 0; for (let l = 0; l < t.length; l++)if ((n += t[l]) >= e) return l; s.assert(!1, "weighted sampling went wrong") } } s.returnV = !1, s.vVal = 0, e.Utils = s }, FvzS: function (t, e, n) { "use strict"; e.a = function (t) { return null != t && "object" == typeof t } }, JEOp: function (t, e, n) { "use strict"; var l = n("2zkT"); e.a = class extends l.a { notifyNext(t, e, n, l, s) { this.destination.next(e) } notifyError(t, e) { this.destination.error(t) } notifyComplete(t) { this.destination.complete() } } }, JVTt: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("YcUJ"); e.DNN = l.DNN; const s = n("hPmc"); e.FNNModel = s.FNNModel; const i = n("BPyT"); e.Graph = i.Graph; const r = n("zfOv"); e.LSTM = r.LSTM; const o = n("7oRV"); e.Mat = o.Mat; const a = n("dOc5"); e.Net = a.Net; const u = n("FZZ3"); e.Utils = u.Utils; const c = n("qQPk"); e.RandMat = c.RandMat; const h = n("w1be"); e.RNN = h.RNN; const d = n("mfKF"); e.RNNModel = d.RNNModel; const p = n("3dPJ"); e.Solver = p.Solver }, Jnfr: function (t, e) { function n(t) { return Promise.resolve().then(function () { throw new Error("Cannot find module '" + t + "'.") }) } n.keys = function () { return [] }, n.resolve = n, t.exports = n, n.id = "Jnfr" }, "JvE/": function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("6S5o"); e.Point2D = l.Point2D; const s = n("7Qlc"); e.World = s.World; const i = n("oCcI"); e.WorldObject = i.WorldObject; const r = n("q3za"); e.Item = r.Item; const o = n("Ze4q"); e.Wall = o.Wall; const a = n("7zzE"); e.RLAgent = a.RLAgent; const u = n("gkSD"); e.Lidar = u.Lidar; const c = n("WCR2"); e.Radar = c.Radar; const h = n("c+if"); e.SensedObject = h.SensedObject }, LiEr: function (t, e, n) { "use strict"; var l = n("W/Sc"), s = n("ves3"), i = n("2zkT"), r = n("s+UU"); function o() { return function (t) { return t.lift(new a(t)) } } class a { constructor(t) { this.connectable = t } call(t, e) { const { connectable: n } = this; n._refCount++; const l = new u(t, n), s = e.subscribe(l); return l.closed || (l.connection = n.connect()), s } } class u extends i.a { constructor(t, e) { super(t), this.connectable = e } _unsubscribe() { const { connectable: t } = this; if (!t) return void (this.connection = null); this.connectable = null; const e = t._refCount; if (e <= 0) return void (this.connection = null); if (t._refCount = e - 1, e > 1) return void (this.connection = null); const { connection: n } = this, l = t._connection; this.connection = null, !l || n && l !== n || l.unsubscribe() } } const c = class extends s.a { constructor(t, e) { super(), this.source = t, this.subjectFactory = e, this._refCount = 0, this._isComplete = !1 } _subscribe(t) { return this.getSubject().subscribe(t) } getSubject() { const t = this._subject; return t && !t.isStopped || (this._subject = this.subjectFactory()), this._subject } connect() { let t = this._connection; return t || (this._isComplete = !1, (t = this._connection = new r.a).add(this.source.subscribe(new class extends l.b { constructor(t, e) { super(t), this.connectable = e } _error(t) { this._unsubscribe(), super._error(t) } _complete() { this.connectable._isComplete = !0, this._unsubscribe(), super._complete() } _unsubscribe() { const t = this.connectable; if (t) { this.connectable = null; const e = t._connection; t._refCount = 0, t._subject = null, t._connection = null, e && e.unsubscribe() } } }(this.getSubject(), this))), t.closed ? (this._connection = null, t = r.a.EMPTY) : this._connection = t), t } refCount() { return o()(this) } }.prototype, h = { operator: { value: null }, _refCount: { value: 0, writable: !0 }, _subject: { value: null, writable: !0 }, _connection: { value: null, writable: !0 }, _subscribe: { value: c._subscribe }, _isComplete: { value: c._isComplete, writable: !0 }, getSubject: { value: c.getSubject }, connect: { value: c.connect }, refCount: { value: c.refCount } }; function d() { return new l.a } e.a = function () { return (t => o()(function (t, e) { return function (e) { let n; n = "function" == typeof t ? t : function () { return t }; const l = Object.create(e, h); return l.source = e, l.subjectFactory = n, l } }(d)(t)))(this) } }, "Oi/f": function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("AujY"); e.DQNEnv = class extends l.Env { } }, "OvR/": function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("JVTt"), s = n("EXdB"); e.TDSolver = class extends s.Solver { constructor(t, e) { super(t, e), this.env = t, this.alpha = e.get("alpha"), this.epsilon = e.get("epsilon"), this.gamma = e.get("gamma"), this.update = e.get("update"), this.updateSmoothPolicy = e.get("smoothPolicyUpdate"), this.beta = e.get("beta"), this.lambda = e.get("lambda"), this.replacingTraces = e.get("replacingTraces"), this.qInitValue = e.get("qInitVal"), this.numberOfPlanningSteps = e.get("numberOfPlanningSteps"), this.Q = null, this.randomPolicies = null, this.eligibilityTraces = null, this.envModelS = null, this.envModelR = null, this.env = t, this.reset() } reset() { this.numberOfStates = this.env.get("numberOfStates"), this.numberOfActions = this.env.get("numerOfActions"), this.Q = l.Utils.zeros(this.numberOfStates * this.numberOfActions), 0 !== this.qInitValue && l.Utils.fillConst(this.Q, this.qInitValue), this.randomPolicies = l.Utils.zeros(this.numberOfStates * this.numberOfActions), this.eligibilityTraces = l.Utils.zeros(this.numberOfStates * this.numberOfActions), this.envModelS = l.Utils.zeros(this.numberOfStates * this.numberOfActions), l.Utils.fillConst(this.envModelS, -1), this.envModelR = l.Utils.zeros(this.numberOfStates * this.numberOfActions), this.saSeen = [], this.pq = l.Utils.zeros(this.numberOfStates * this.numberOfActions); for (let t = 0; t < this.numberOfStates; t++) { const e = this.env.allowedActions(t); for (let n = 0; n < e.length; n++)this.randomPolicies[e[n] * this.numberOfStates + t] = 1 / e.length } this.r0 = null, this.s0 = null, this.s1 = null, this.a0 = null, this.a1 = null } decide(t) { const e = this.env.allowedActions(t), n = new Array; for (let s = 0; s < e.length; s++)n.push(this.randomPolicies[e[s] * this.numberOfStates + t]); const l = this.epsilonGreedyActionPolicy(e, n); return this.shiftStateMemory(t, l), l } shiftStateMemory(t, e) { this.s0 = this.s1, this.a0 = this.a1, this.s1 = t, this.a1 = e } epsilonGreedyActionPolicy(t, e) { let n = 0; return Math.random() < this.epsilon ? (n = t[l.Utils.randi(0, t.length)], this.explored = !0) : (n = t[l.Utils.sampleWeighted(e)], this.explored = !1), n } learn(t) { null != this.r0 && (this.learnFromTuple(this.s0, this.a0, this.r0, this.s1, this.a1, this.lambda), this.numberOfPlanningSteps > 0 && (this.updateModel(this.s0, this.a0, this.r0, this.s1), this.plan())), this.r0 = t } learnFromTuple(t, e, n, s, i, r) { const o = e * this.numberOfStates + t; let a; if ("qlearn" === this.update) { const t = this.env.allowedActions(s); let e = 0; for (let n = 0; n < t.length; n++) { const l = this.Q[t[n] * this.numberOfStates + s]; (0 === n || l > e) && (e = l) } a = n + this.gamma * e } else "sarsa" === this.update && (a = n + this.gamma * this.Q[i * this.numberOfStates + s]); if (r > 0) { this.eligibilityTraces[o] += 1; const t = r * this.gamma, e = l.Utils.zeros(this.numberOfStates); for (let n = 0; n < this.numberOfStates; n++) { const l = this.env.allowedActions(n); for (let s = 0; s < l.length; s++) { const i = l[s], r = i * this.numberOfStates + n, o = this.alpha * this.eligibilityTraces[r] * (a - this.Q[r]); this.Q[r] += o, this.updatePriority(n, i, o), this.eligibilityTraces[r] *= t; const u = Math.abs(o); u > e[n] && (e[n] = u) } } for (let n = 0; n < this.numberOfStates; n++)e[n] > 1e-5 && this.updatePolicy(n); this.explored && "qlearn" === this.update && (this.eligibilityTraces = l.Utils.zeros(this.numberOfStates * this.numberOfActions)) } else { const n = this.alpha * (a - this.Q[o]); this.Q[o] += n, this.updatePriority(t, e, n), this.updatePolicy(t) } } updateModel(t, e, n, l) { const s = e * this.numberOfStates + t; -1 === this.envModelS[s] && this.saSeen.push(e * this.numberOfStates + t), this.envModelS[s] = l, this.envModelR[s] = n } plan() { const t = []; for (let n = 0; n < this.saSeen.length; n++) { const e = this.saSeen[n], l = this.pq[e]; l > 1e-5 && t.push({ sa: e, p: l }) } t.sort((t, e) => t.p < e.p ? 1 : -1); const e = Math.min(this.numberOfPlanningSteps, t.length); for (let n = 0; n < e; n++) { const e = t[n].sa; this.pq[e] = 0; const s = e % this.numberOfStates, i = Math.floor(e / this.numberOfStates), r = this.envModelR[e], o = this.envModelS[e], a = -1; if ("sarsa" === this.update) { const t = this.env.allowedActions(o); l.Utils.randi(0, t.length) } this.learnFromTuple(s, i, r, o, a, 0) } } updatePriority(t, e, n) { if (!((n = Math.abs(n)) < 1e-5) && 0 !== this.numberOfPlanningSteps) for (let l = 0; l < this.numberOfStates; l++)for (let e = 0; e < this.numberOfActions; e++) { const s = e * this.numberOfStates + l; this.envModelS[s] === t && (this.pq[s] += n) } } updatePolicy(t) { const e = this.env.allowedActions(t); let n, l; const s = []; for (let r = 0; r < e.length; r++) { const i = this.Q[e[r] * this.numberOfStates + t]; s.push(i), 0 === r || i > n ? (n = i, l = 1) : i === n && (l += 1) } let i = 0; for (let r = 0; r < e.length; r++) { const o = s[r] === n ? 1 / l : 0, a = e[r] * this.numberOfStates + t; this.updateSmoothPolicy ? (this.randomPolicies[a] += this.beta * (o - this.randomPolicies[a]), i += this.randomPolicies[a]) : this.randomPolicies[a] = o } if (this.updateSmoothPolicy) for (let r = 0; r < e.length; r++)this.randomPolicies[e[r] * this.numberOfStates + t] /= i } toJSON() { throw new Error("Not implemented yet.") } fromJSON(t) { throw new Error("Not implemented yet.") } } }, Qi5R: function (t, e, n) { "use strict"; e.a = function (...t) { let e = Number.POSITIVE_INFINITY, n = null, o = t[t.length - 1]; return Object(i.a)(o) ? (n = t.pop(), t.length > 1 && "number" == typeof t[t.length - 1] && (e = t.pop())) : "number" == typeof o && (e = t.pop()), null === n && 1 === t.length && t[0] instanceof l.a ? t[0] : Object(r.a)(e)(new s.a(t, n)) }; var l = n("ves3"), s = n("y3s0"), i = n("f2Ls"), r = n("Ynfn") }, R3ym: function (t, e, n) { "use strict"; var l = n("ves3"); class s extends l.a { constructor(t, e) { super(), this.value = t, this.scheduler = e, this._isScalar = !0, e && (this._isScalar = !1) } static create(t, e) { return new s(t, e) } static dispatch(t) { const { done: e, value: n, subscriber: l } = t; e ? l.complete() : (l.next(n), l.closed || (t.done = !0, this.schedule(t))) } _subscribe(t) { const e = this.value, n = this.scheduler; if (n) return n.schedule(s.dispatch, 0, { done: !1, value: e, subscriber: t }); t.next(e), t.closed || t.complete() } } e.a = s }, UEsV: function (t, e, n) { "use strict"; e.a = function (t) { return s = t, i }; var l = n("hfO1"); let s; function i() { try { return s.apply(this, arguments) } catch (t) { return l.a.e = t, l.a } } }, "W/Sc": function (t, e, n) { "use strict"; var l = n("ves3"), s = n("2zkT"), i = n("s+UU"), r = n("7nan"); class o extends i.a { constructor(t, e) { super(), this.subject = t, this.subscriber = e, this.closed = !1 } unsubscribe() { if (this.closed) return; this.closed = !0; const t = this.subject, e = t.observers; if (this.subject = null, !e || 0 === e.length || t.isStopped || t.closed) return; const n = e.indexOf(this.subscriber); -1 !== n && e.splice(n, 1) } } var a = n("73T8"); class u extends s.a { constructor(t) { super(t), this.destination = t } } e.b = u; class c extends l.a { constructor() { super(), this.observers = [], this.closed = !1, this.isStopped = !1, this.hasError = !1, this.thrownError = null } [a.a]() { return new u(this) } lift(t) { const e = new h(this, this); return e.operator = t, e } next(t) { if (this.closed) throw new r.a; if (!this.isStopped) { const { observers: e } = this, n = e.length, l = e.slice(); for (let s = 0; s < n; s++)l[s].next(t) } } error(t) { if (this.closed) throw new r.a; this.hasError = !0, this.thrownError = t, this.isStopped = !0; const { observers: e } = this, n = e.length, l = e.slice(); for (let s = 0; s < n; s++)l[s].error(t); this.observers.length = 0 } complete() { if (this.closed) throw new r.a; this.isStopped = !0; const { observers: t } = this, e = t.length, n = t.slice(); for (let l = 0; l < e; l++)n[l].complete(); this.observers.length = 0 } unsubscribe() { this.isStopped = !0, this.closed = !0, this.observers = null } _trySubscribe(t) { if (this.closed) throw new r.a; return super._trySubscribe(t) } _subscribe(t) { if (this.closed) throw new r.a; return this.hasError ? (t.error(this.thrownError), i.a.EMPTY) : this.isStopped ? (t.complete(), i.a.EMPTY) : (this.observers.push(t), new o(this, t)) } asObservable() { const t = new l.a; return t.source = this, t } } e.a = c, c.create = ((t, e) => new h(t, e)); class h extends c { constructor(t, e) { super(), this.destination = t, this.source = e } next(t) { const { destination: e } = this; e && e.next && e.next(t) } error(t) { const { destination: e } = this; e && e.error && this.destination.error(t) } complete() { const { destination: t } = this; t && t.complete && this.destination.complete() } _subscribe(t) { const { source: e } = this; return e ? this.source.subscribe(t) : i.a.EMPTY } } }, WCR2: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("ts38"), s = n("6S5o"), i = n("quBH"); class r extends l.Sensor { constructor(t, e, n, l, r, o) { super(t, 1), this.row = e, this.column = n, this.maxLength = l, this.xOffset = r, this.yOffset = o, this.xOffset < 0 && this.yOffset < 0 ? this.maxRange = i.GeoMath.pointToPointDistance(new s.Point2D(0, 0), new s.Point2D(0 + this.xOffset, 0 + this.yOffset)) : this.xOffset >= 0 && this.yOffset < 0 ? this.maxRange = i.GeoMath.pointToPointDistance(new s.Point2D(0, 0), new s.Point2D(0 + this.xOffset + this.maxLength, 0 + this.yOffset)) : this.xOffset < 0 && this.yOffset >= 0 ? this.maxRange = i.GeoMath.pointToPointDistance(new s.Point2D(0, 0), new s.Point2D(0 + this.xOffset, 0 + this.yOffset + this.maxLength)) : this.xOffset >= 0 && this.yOffset >= 0 && (this.maxRange = i.GeoMath.pointToPointDistance(new s.Point2D(0, 0), new s.Point2D(0 + this.xOffset + this.maxLength, 0 + this.yOffset + this.maxLength))), this.reset() } detectObject(t, e) { this.getCurrentLocation(t, e), this.getCurrentDimensions(t, e), this.checkWallCollision(t, e), this.checkItemCollision(t, e), this.checkAgentCollision(t, e) } getCurrentLocation(t, e) { let n, l; n = this.xOffset <= 0 ? Math.max(0, e.location.x + this.xOffset) : Math.min(t.width, e.location.x + this.xOffset), l = this.yOffset <= 0 ? Math.max(0, e.location.y + this.yOffset) : Math.min(t.height, e.location.y + this.yOffset), this.location = new s.Point2D(n, l) } getCurrentDimensions(t, e) { this.width = this.maxLength, this.height = this.maxLength; const n = e.location.x + this.xOffset + this.maxLength, l = e.location.y + this.yOffset + this.maxLength; this.width = n <= 0 ? 0 : n <= e.location.x && this.location.x <= 0 ? n : n > e.location.x && this.location.x <= 0 ? n : n <= e.location.x && this.location.x > 0 ? this.maxLength : n > e.location.x && this.location.x >= t.width ? 0 : n > e.location.x && n >= t.width ? t.width - this.location.x : this.maxLength, this.height = l <= 0 ? 0 : l <= e.location.y && this.location.y <= 0 ? l : l > e.location.y && this.location.y <= 0 ? l : l <= e.location.y && this.location.y > 0 ? this.maxLength : l > e.location.y && this.location.y >= t.height ? 0 : l > e.location.y && l >= t.height ? t.height - this.location.y : this.maxLength } checkWallCollision(t, e) { this.isFoldedByWall() && (this.sensedObject.type = 0, this.sensedObject.velocity.x = 0, this.sensedObject.velocity.y = 0, this.sensedObject.proximity = this.sensorCenterToObjectDistance(e.location)) } isFoldedByWall() { return this.width < this.maxLength || this.height < this.maxLength } sensorCenterToObjectDistance(t) { const e = this.location.y + (this.height < this.maxLength / 2 ? this.height : this.maxLength / 2); return Math.sqrt(Math.pow(this.location.x + (this.width < this.maxLength / 2 ? this.width : this.maxLength / 2) - t.x, 2) + Math.pow(e - t.y, 2)) } checkItemCollision(t, e) { if (0 !== this.width || 0 !== this.height) for (const n of t.getItems()) this.determineObjectCollision(n, e) } checkAgentCollision(t, e) { if (0 !== this.width || 0 !== this.height) for (const [n, l] of t.getAgents().entries()) n !== e.id && this.determineObjectCollision(l, e) } determineObjectCollision(t, e) { if (this.isSensingObject(t.location.x - this.location.x, t.location.y - this.location.y, t)) { const n = i.GeoMath.pointToPointDistance(t.location, e.location) - t.size; (0 === this.sensedObject.type || n < this.sensedObject.proximity) && this.sensedObject.fromWorldObject(t, n) } } isSensingObject(t, e, n) { return (t < 0 && -t <= n.size || t > 0 && t - n.size <= this.width) && (e < 0 && -e <= n.size || e > 0 && e - n.size <= this.height) } } r.states = 6, e.Radar = r }, WFWZ: function (t, e, n) { "use strict"; e.a = function (t) { return "function" == typeof t } }, XLJA: function (t, e, n) { "use strict"; e.a = function (t, e, n = Number.POSITIVE_INFINITY) { return function (i) { return "number" == typeof e && (n = e, e = null), i.lift(new class { constructor(t, e, n = Number.POSITIVE_INFINITY) { this.project = t, this.resultSelector = e, this.concurrent = n } call(t, e) { return e.subscribe(new class extends s.a { constructor(t, e, n, l = Number.POSITIVE_INFINITY) { super(t), this.project = e, this.resultSelector = n, this.concurrent = l, this.hasCompleted = !1, this.buffer = [], this.active = 0, this.index = 0 } _next(t) { this.active < this.concurrent ? this._tryNext(t) : this.buffer.push(t) } _tryNext(t) { let e; const n = this.index++; try { e = this.project(t, n) } catch (t) { return void this.destination.error(t) } this.active++ , this._innerSub(e, t, n) } _innerSub(t, e, n) { this.add(Object(l.a)(this, t, e, n)) } _complete() { this.hasCompleted = !0, 0 === this.active && 0 === this.buffer.length && this.destination.complete() } notifyNext(t, e, n, l, s) { this.resultSelector ? this._notifyResultSelector(t, e, n, l) : this.destination.next(e) } _notifyResultSelector(t, e, n, l) { let s; try { s = this.resultSelector(t, e, n, l) } catch (t) { return void this.destination.error(t) } this.destination.next(s) } notifyComplete(t) { const e = this.buffer; this.remove(t), this.active-- , e.length > 0 ? this._next(e.shift()) : 0 === this.active && this.hasCompleted && this.destination.complete() } }(t, this.project, this.resultSelector, this.concurrent)) } }(t, e, n)) } }; var l = n("73El"), s = n("JEOp") }, XVqe: function (t, e, n) { "use strict"; var l = n("ves3"); class s extends l.a { constructor(t) { super(), this.scheduler = t } static create(t) { return new s(t) } static dispatch(t) { const { subscriber: e } = t; e.complete() } _subscribe(t) { const e = this.scheduler; if (e) return e.schedule(s.dispatch, 0, { subscriber: t }); t.complete() } } e.a = s }, YcUJ: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("7oRV"), s = n("hPmc"); class i extends s.FNNModel { constructor(t) { super(t) } forward(t, e) { const n = this.computeHiddenActivations(t, e); return this.computeOutput(n, e) } computeHiddenActivations(t, e) { const n = new Array; for (let l = 0; l < this.hiddenUnits.length; l++) { const s = e.mul(this.model.hidden.Wh[l], 0 === l ? t : n[l - 1]), i = e.add(s, this.model.hidden.bh[l]), r = e.tanh(i); n.push(r) } return n } static toJSON(t) { const e = { hidden: { Wh: [], bh: [] }, decoder: { Wh: null, b: null } }; for (let n = 0; n < t.model.hidden.Wh.length; n++)e.hidden.Wh[n] = l.Mat.toJSON(t.model.hidden.Wh[n]), e.hidden.bh[n] = l.Mat.toJSON(t.model.hidden.bh[n]); return e.decoder.Wh = l.Mat.toJSON(t.model.decoder.Wh), e.decoder.b = l.Mat.toJSON(t.model.decoder.b), e } static fromJSON(t) { return new i(t) } } e.DNN = i }, Ynfn: function (t, e, n) { "use strict"; var l = n("XLJA"); function s(t) { return t } e.a = function (t = Number.POSITIVE_INFINITY) { return Object(l.a)(s, null, t) } }, YyY7: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }), e.Opt = class { get(t) { return this[t] ? this[t] : void 0 } } }, Ze4q: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("6S5o"), s = n("oCcI"); e.Wall = class extends s.WorldObject { constructor(t, e, n, s) { super(0, 0, 0, null, new l.Point2D(0, 0)), this.p1 = new l.Point2D(t, e), this.p2 = new l.Point2D(n, s) } } }, bbL7: function (t, e, n) { "use strict"; (function (t) { n.d(e, "a", function () { return i }); const l = "undefined" != typeof window && window, s = "undefined" != typeof self && "undefined" != typeof WorkerGlobalScope && self instanceof WorkerGlobalScope && self, i = l || "undefined" != typeof t && t || s; !function () { if (!i) throw new Error("RxJS could not find any global context (window, self, global)") }() }).call(e, n("DuR2")) }, "c+if": function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("6S5o"), s = n("oCcI"); e.SensedObject = class extends s.WorldObject { constructor(t = -1, e = -1, n = 0, s = new l.Point2D(0, 0), i = Number.POSITIVE_INFINITY) { super(t, e, n, null, s), this.id = t, this.type = e, this.proximity = i } fromWorldObject(t, e) { this.id = t.id, this.type = t.type, this.velocity.x = t.velocity.x, this.velocity.y = t.velocity.y, this.proximity = e } } }, cKjV: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("ts38"); e.Sensory = class { constructor(t) { this.totalItem0Collisions = 0, this.totalItem1Collisions = 0, this.item0CollisionsPerTick = 0, this.item1CollisionsPerTick = 0, this.wallDetectionRewardPerTick = 0, this.agentDetectionRewardPerTick = 0, this.sensors = t, this.numberOfStates = this.sensors.length * l.Sensor.states } getSensoryState() { const t = new Array(this.numberOfStates); for (const [e, n] of this.sensors.entries()) { const s = n.getSensedObject(), i = e * l.Sensor.states; t[i + 0] = 1, t[i + 1] = 1, t[i + 2] = 1, t[i + 3] = 1, t[i + 4] = s.velocity.x, t[i + 5] = s.velocity.y, -1 !== s.type && (t[i + s.type] = s.proximity / n.maxRange) } return t } process(t, e) { for (const n of this.sensors) n.senseObject(t, e) } reset() { this.totalItem0Collisions += this.item0CollisionsPerTick, this.totalItem1Collisions += this.item1CollisionsPerTick, this.item0CollisionsPerTick = 0, this.item1CollisionsPerTick = 0, this.wallDetectionRewardPerTick = 0, this.agentDetectionRewardPerTick = 0 } processRewards(t) { let e = 0; for (const n of this.sensors) e += this.sensedObjectReward(n, t); return e } sensedObjectReward(t, e) { let n = 0; return 0 === t.getSensedObject().type ? n = this.normalizedWallDetectionReward(t, e) : 3 === t.getSensedObject().type && (n = this.normalizedAgentDetectionReward(t, e)), n } normalizedWallDetectionReward(t, e) { let n = 0; const l = t.getSensedObject().proximity - e.size; return n = l <= 0 ? t.getSensedObject().getValue() : t.getSensedObject().getValue() * Math.pow((t.maxRange - l) / t.maxRange, 2), this.recordWallReward(n /= this.sensors.length), n } recordWallReward(t) { this.wallDetectionRewardPerTick += t } normalizedAgentDetectionReward(t, e) { let n = 0; const l = t.getSensedObject().proximity - 2 * e.size; return n = l <= 0 ? t.getSensedObject().getValue() : t.getSensedObject().getValue() * (t.maxRange - l) / t.maxRange, this.recordAgentReward(n /= this.sensors.length), n } recordAgentReward(t) { this.agentDetectionRewardPerTick += t } } }, crq8: function (t, e, n) { "use strict"; e.a = (t => t && "number" == typeof t.length) }, dMus: function (t, e, n) { "use strict"; e.a = { closed: !0, next(t) { }, error(t) { throw t }, complete() { } } }, dOc5: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("7oRV"), s = n("qQPk"); class i { constructor(t) { this.W1 = null, this.b1 = null, this.W2 = null, this.b2 = null, this.isFromJSON(t) ? this.initializeFromJSONObject(t) : this.isFreshInstanceCall(t) ? this.initializeAsFreshInstance(t) : this.initializeAsFreshInstance({ inputSize: 1, hiddenUnits: 1, outputSize: 1 }) } isFromJSON(t) { return i.has(t, ["W1", "b1", "W2", "b2"]) } isFreshInstanceCall(t) { return i.has(t, ["inputSize", "hiddenUnits", "outputSize"]) } initializeFromJSONObject(t) { this.W1 = l.Mat.fromJSON(t.W1), this.b1 = l.Mat.fromJSON(t.b1), this.W2 = l.Mat.fromJSON(t.W2), this.b2 = l.Mat.fromJSON(t.b2) } initializeAsFreshInstance(t) { const e = t.mu ? t.mu : 0, n = t.std ? t.std : .01; this.W1 = new s.RandMat(t.hiddenUnits, t.inputSize, e, n), this.b1 = new l.Mat(t.hiddenUnits, 1), this.W2 = new s.RandMat(t.outputSize, t.hiddenUnits, e, n), this.b2 = new l.Mat(t.outputSize, 1) } update(t) { this.W1.update(t), this.b1.update(t), this.W2.update(t), this.b2.update(t) } static toJSON(t) { const e = {}; return e.W1 = l.Mat.toJSON(t.W1), e.b1 = l.Mat.toJSON(t.b1), e.W2 = l.Mat.toJSON(t.W2), e.b2 = l.Mat.toJSON(t.b2), e } forward(t, e) { const n = e.mul(this.W1, t), l = e.add(n, this.b1), s = e.tanh(l); return this.computeOutput(s, e) } computeOutput(t, e) { const n = e.mul(this.W2, t); return e.add(n, this.b2) } static fromJSON(t) { return new i(t) } static has(t, e) { for (const n of e) if (!Object.hasOwnProperty.call(t, n)) return !1; return !0 } } e.Net = i }, dzdQ: function (t, e, n) { "use strict"; const l = function (t) { const e = t.Symbol; if ("function" == typeof e) return e.iterator || (e.iterator = e("iterator polyfill")), e.iterator; { const { Set: e } = t; if (e && "function" == typeof (new e)["@@iterator"]) return "@@iterator"; const { Map: n } = t; if (n) { let t = Object.getOwnPropertyNames(n.prototype); for (let e = 0; e < t.length; ++e) { let l = t[e]; if ("entries" !== l && "size" !== l && n.prototype[l] === n.prototype.entries) return l } } return "@@iterator" } }(n("bbL7").a); e.a = l }, f2Ls: function (t, e, n) { "use strict"; e.a = function (t) { return t && "function" == typeof t.schedule } }, gkSD: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("ts38"), s = n("6S5o"), i = n("quBH"); e.Lidar = class extends l.Sensor { constructor(t, e, n) { super(t, 0), this.checkWalls = !0, this.checkItems = !0, this.checkAgents = !0, this.angle = e, this.maxRange = n, this.reset() } detectObject(t, e) { const n = this.determineEndOfEyeViewPoint(e.location); this.checkWallCollision(t, e, n), this.checkItemCollision(t, e, n), this.checkAgentCollision(t, e, n) } determineEndOfEyeViewPoint(t) { return new s.Point2D(t.x + this.maxRange * Math.sin(this.angle), t.y + this.maxRange * Math.cos(this.angle)) } checkWallCollision(t, e, n) { for (const l of t.getWalls()) { const t = i.GeoMath.lineIntersect(e.location, n, l.p1, l.p2); if (t) { const e = this.getAbsoluteProximity(t); this.isFirstSensedObject() ? this.sensedObject.fromWorldObject(l, e) : e < this.sensedObject.proximity && this.sensedObject.fromWorldObject(l, e) } } } getAbsoluteProximity(t) { return t * this.maxRange } checkItemCollision(t, e, n) { for (const l of t.getItems()) this.checkWorldObjectCollision(l, e, n) } checkAgentCollision(t, e, n) { for (const [l, s] of t.getAgents().entries()) l !== e.id && this.checkWorldObjectCollision(s, e, n) } checkWorldObjectCollision(t, e, n) { const l = i.GeoMath.linePointOrthogonalDistance(e.location, n, t.location); if (t.size < l) return; const s = i.GeoMath.absoluteLinePointProjectionProximity(e.location, n, t.location); if (s < 0 || s > this.maxRange) return; const r = s; r && (this.isFirstSensedObject() ? this.sensedObject.fromWorldObject(t, r) : r < this.sensedObject.proximity && this.sensedObject.fromWorldObject(t, r)) } isFirstSensedObject() { return -1 === this.sensedObject.type } } }, hPmc: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("BPyT"), s = n("7oRV"), i = n("qQPk"), r = n("BYl3"); class o extends r.Assertable { constructor(t) { super(); const e = !t || !t.needsBackprop || t.needsBackprop; this.model = this.initializeNetworkModel(), this.graph = new l.Graph(e), this.isFromJSON(t) ? this.initializeModelFromJSONObject(t) : this.isFreshInstanceCall(t) ? this.initializeModelAsFreshInstance(t) : o.assert(!1, "Improper input for DNN.") } initializeModelFromJSONObject(t) { this.initializeHiddenLayerFromJSON(t), this.model.decoder.Wh = s.Mat.fromJSON(t.decoder.Wh), this.model.decoder.b = s.Mat.fromJSON(t.decoder.b) } initializeHiddenLayerFromJSON(t) { o.assert(!Array.isArray(t.hidden.Wh), "Wrong JSON Format to recreat Hidden Layer."); for (let e = 0; e < t.hidden.Wh.length; e++)this.model.hidden.Wh[e] = s.Mat.fromJSON(t.hidden.Wh[e]), this.model.hidden.bh[e] = s.Mat.fromJSON(t.hidden.bh[e]) } update(t) { this.updateHiddenUnits(t), this.updateDecoder(t) } updateHiddenUnits(t) { for (let e = 0; e < this.hiddenUnits.length; e++)this.model.hidden.Wh[e].update(t), this.model.hidden.bh[e].update(t) } updateDecoder(t) { this.model.decoder.Wh.update(t), this.model.decoder.b.update(t) } initializeModelAsFreshInstance(t) { this.inputSize = t.inputSize, this.hiddenUnits = t.hiddenUnits, this.outputSize = t.outputSize; const e = t.mu ? t.mu : 0, n = t.std ? t.std : .01; this.initializeHiddenLayer(e, n), this.initializeDecoder(e, n) } initializeDecoder(t, e) { this.model.decoder.Wh = new i.RandMat(this.outputSize, this.hiddenUnits[this.hiddenUnits.length - 1], t, e), this.model.decoder.b = new s.Mat(this.outputSize, 1) } initializeHiddenLayer(t, e) { let n; for (let l = 0; l < this.hiddenUnits.length; l++)this.model.hidden.Wh[l] = new i.RandMat(n = this.hiddenUnits[l], 0 === l ? this.inputSize : this.hiddenUnits[l - 1], t, e), this.model.hidden.bh[l] = new s.Mat(n, 1) } isFromJSON(t) { return o.has(t, ["hidden", "decoder"]) && o.has(t.hidden, ["Wh", "bh"]) && o.has(t.decoder, ["Wh", "b"]) } isFreshInstanceCall(t) { return o.has(t, ["inputSize", "hiddenUnits", "outputSize"]) } initializeNetworkModel() { return { hidden: { Wh: new Array(this.hiddenUnits.length), bh: new Array(this.hiddenUnits.length) }, decoder: { Wh: null, b: null } } } computeOutput(t, e) { const n = e.mul(this.model.decoder.Wh, t[t.length - 1]); return e.add(n, this.model.decoder.b) } static has(t, e) { o.assert(t, "Improper input for DNN."); for (const n of e) if (!Object.hasOwnProperty.call(t, n)) return !1; return !0 } } e.FNNModel = o }, hfO1: function (t, e, n) { "use strict"; e.a = { e: {} } }, i55R: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("JVTt"), s = n("EXdB"); e.DQNSolver = class extends s.Solver { constructor(t, e) { super(t, e), this.shortTermMemory = { s0: null, a0: null, r0: null, s1: null, a1: null }, this.numberOfHiddenUnits = e.get("numberOfHiddenUnits"), this.epsilonMax = e.get("epsilonMax"), this.epsilonMin = e.get("epsilonMin"), this.epsilonDecayPeriod = e.get("epsilonDecayPeriod"), this.epsilon = e.get("epsilon"), this.experienceSize = e.get("experienceSize"), this.gamma = e.get("gamma"), this.alpha = e.get("alpha"), this.doLossClipping = e.get("doLossClipping"), this.lossClamp = e.get("lossClamp"), this.doRewardClipping = e.get("doRewardClipping"), this.rewardClamp = e.get("rewardClamp"), this.keepExperienceInterval = e.get("keepExperienceInterval"), this.replaySteps = e.get("replaySteps"), this.isInTrainingMode = e.get("trainingMode"), this.reset() } reset() { this.numberOfHiddenUnits = this.opt.get("numberOfHiddenUnits"), this.numberOfStates = this.env.get("numberOfStates"), this.numberOfActions = this.env.get("numberOfActions"), this.net = new l.Net({ inputSize: this.numberOfStates, hiddenUnits: this.numberOfHiddenUnits, outputSize: this.numberOfActions }), this.learnTick = 0, this.memoryIndexTick = 0, this.shortTermMemory.s0 = null, this.shortTermMemory.a0 = null, this.shortTermMemory.r0 = null, this.shortTermMemory.s1 = null, this.shortTermMemory.a1 = null, this.longTermMemory = [] } setTrainingModeTo(t) { this.isInTrainingMode = t } getTrainingMode() { return this.isInTrainingMode } toJSON() { return { ns: this.numberOfStates, nh: this.numberOfHiddenUnits, na: this.numberOfActions, net: l.Net.toJSON(this.net) } } fromJSON(t) { this.numberOfStates = t.ns, this.numberOfHiddenUnits = t.nh, this.numberOfActions = t.na, this.net = l.Net.fromJSON(t.net) } decide(t) { const e = new l.Mat(this.numberOfStates, 1); e.setFrom(t); const n = this.epsilonGreedyActionPolicy(e); return this.shiftStateMemory(e, n), n } epsilonGreedyActionPolicy(t) { let e = 0; if (Math.random() < this.currentEpsilon()) e = l.Utils.randi(0, this.numberOfActions); else { const n = this.forwardQ(t); e = l.Utils.maxi(n.w) } return e } currentEpsilon() { return this.isInTrainingMode ? this.learnTick < this.epsilonDecayPeriod ? this.epsilonMax - (this.epsilonMax - this.epsilonMin) / this.epsilonDecayPeriod * this.learnTick : this.epsilonMin : this.epsilon } forwardQ(t) { const e = new l.Graph(!1); return this.determineActionVector(e, t) } backwardQ(t) { const e = new l.Graph(!0); return this.determineActionVector(e, t) } determineActionVector(t, e) { const n = this.net.forward(e, t); return this.backupGraph(t), n } backupGraph(t) { this.previousGraph = t } shiftStateMemory(t, e) { this.shortTermMemory.s0 = this.shortTermMemory.s1, this.shortTermMemory.a0 = this.shortTermMemory.a1, this.shortTermMemory.s1 = t, this.shortTermMemory.a1 = e } learn(t) { this.shortTermMemory.r0 && this.alpha > 0 && (this.learnFromSarsaTuple(this.shortTermMemory), this.addToReplayMemory(), this.limitedSampledReplayLearning()), this.shiftRewardIntoMemory(t) } shiftRewardIntoMemory(t) { this.shortTermMemory.r0 = this.clipReward(t) } clipReward(t) { return this.doRewardClipping ? Math.sign(t) * Math.min(Math.abs(t), this.rewardClamp) : t } learnFromSarsaTuple(t) { const e = this.getTargetQ(t.s1, t.r0), n = this.backwardQ(t.s0); let l = n.w[t.a0] - e; l = this.clipLoss(l), n.dw[t.a0] = l, this.previousGraph.backward(), this.net.update(this.alpha) } getTargetQ(t, e) { const n = this.forwardQ(t), s = l.Utils.maxi(n.w); return e + this.gamma * n.w[s] } clipLoss(t) { return this.doLossClipping && (t > this.lossClamp ? t = this.lossClamp : t < -this.lossClamp && (t = -this.lossClamp)), t } addToReplayMemory() { this.learnTick % this.keepExperienceInterval == 0 && this.addShortTermToLongTermMemory(), this.learnTick++ } addShortTermToLongTermMemory() { const t = this.extractSarsaExperience(); this.longTermMemory[this.memoryIndexTick] = t, this.memoryIndexTick++ , this.memoryIndexTick > this.experienceSize - 1 && (this.memoryIndexTick = 0) } extractSarsaExperience() { const t = new l.Mat(this.shortTermMemory.s0.rows, this.shortTermMemory.s0.cols); t.setFrom(this.shortTermMemory.s0.w); const e = new l.Mat(this.shortTermMemory.s1.rows, this.shortTermMemory.s1.cols); return e.setFrom(this.shortTermMemory.s1.w), { s0: t, a0: this.shortTermMemory.a0, r0: this.shortTermMemory.r0, s1: e, a1: this.shortTermMemory.a1 } } limitedSampledReplayLearning() { for (let t = 0; t < this.replaySteps; t++) { const t = l.Utils.randi(0, this.longTermMemory.length); this.learnFromSarsaTuple(this.longTermMemory[t]) } } } }, jzaW: function (t, e, n) { "use strict"; e.a = function (t) { return t && "function" != typeof t.subscribe && "function" == typeof t.then } }, mfKF: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("BPyT"), s = n("7oRV"), i = n("qQPk"), r = n("BYl3"); class o extends r.Assertable { constructor(t) { super(); const e = !t || !t.needsBackprop || t.needsBackprop; this.model = this.initializeNetworkModel(), this.graph = new l.Graph(e), this.isFromJSON(t) ? this.initializeModelFromJSONObject(t) : this.isFreshInstanceCall(t) ? this.initializeModelAsFreshInstance(t) : o.assert(!1, "Improper input for DNN.") } initializeModelFromJSONObject(t) { this.initializeHiddenLayerFromJSON(t), this.model.decoder.Wh = s.Mat.fromJSON(t.decoder.Wh), this.model.decoder.b = s.Mat.fromJSON(t.decoder.b) } isFreshInstanceCall(t) { return o.has(t, ["inputSize", "hiddenUnits", "outputSize"]) } initializeModelAsFreshInstance(t) { this.inputSize = t.inputSize, this.hiddenUnits = t.hiddenUnits, this.outputSize = t.outputSize; const e = t.mu ? t.mu : 0, n = t.std ? t.std : .01; this.initializeHiddenLayer(e, n), this.initializeDecoder(e, n) } initializeDecoder(t, e) { this.model.decoder.Wh = new i.RandMat(this.outputSize, this.hiddenUnits.length - 1, t, e), this.model.decoder.b = new s.Mat(this.outputSize, 1) } computeOutput(t, e) { const n = e.mul(this.model.decoder.Wh, t[t.length - 1]); return e.add(n, this.model.decoder.b) } static has(t, e) { o.assert(t, "Improper input for DNN."); for (const n of e) if (!Object.hasOwnProperty.call(t, n)) return !1; return !0 } } e.RNNModel = o }, oCcI: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); class l { constructor(t, e, n, l, s) { this.id = t, this.type = e, this.size = n, this.location = l, this.velocity = s, this.age = 0 } increaseAge() { this.age++ } getAge() { return this.age } getValue() { return l.values[this.type] } static getValues() { return l.values } static setValues(t) { l.values = t } } l.values = [-1, 1, -1, -1], e.WorldObject = l }, q3za: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("JVTt"), s = n("6S5o"), i = n("oCcI"); e.Item = class extends i.WorldObject { constructor(t, e, n) { super(Number.NaN, n, 10, new s.Point2D(t, e), new s.Point2D(5 * Math.random() - 2.5, 5 * Math.random() - 2.5)), this._isAlive = !0 } move(t, e) { this.location.x += this.velocity.x, this.location.y += this.velocity.y, this.location.x < 1 ? (this.location.x = 1, this.velocity.x *= -1) : this.location.x > t - 1 && (this.location.x = t - 1, this.velocity.x *= -1), this.location.y < 1 ? (this.location.y = 1, this.velocity.y *= -1) : this.location.y > e - 1 && (this.location.y = e - 1, this.velocity.y *= -1) } isAlive() { return this._isAlive } markAsDead() { this._isAlive = !1 } shouldDieOfAge(t) { return this.getAge() > 5e3 && t % 100 == 0 && l.Utils.randf(0, 1) < .1 } } }, qQPk: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("7oRV"), s = n("FZZ3"); e.RandMat = class extends l.Mat { constructor(t, e, n, l) { super(t, e), s.Utils.fillRandn(this.w, n, l) } } }, quBH: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("6S5o"); e.GeoMath = class { static lineIntersect(t, e, n, l) { const s = (l.y - n.y) * (e.x - t.x) - (l.x - n.x) * (e.y - t.y); if (0 === s) return null; const i = ((l.x - n.x) * (t.y - n.y) - (l.y - n.y) * (t.x - n.x)) / s, r = ((e.x - t.x) * (t.y - n.y) - (e.y - t.y) * (t.x - n.x)) / s; return i > 0 && i <= 1 && r > 0 && r <= 1 ? i : null } static linePointOrthogonalDistance(t, e, n) { const l = Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2)); return Math.abs((e.y - t.y) * n.x - (e.x - t.x) * n.y + e.x * t.y - e.y * t.x) / l } static absoluteLinePointProjectionProximity(t, e, n) { const l = t.sub(n), s = t.sub(e).angle(l); return l.length() * Math.cos(s) } static relativeLinePointProximity(t, e, n, s) { const i = new l.Point2D(-(e.y - t.y), e.x - t.x); let r = Math.abs((e.x - t.x) * (t.y - n.y) - (t.x - n.x) * (e.y - t.y)); if ((r /= i.length()) > s) return null; i.normalize(), i.scale(r); const o = n.add(i); let a = null; return (a = Math.abs(e.x - t.x) > Math.abs(e.y - t.y) ? (o.x - t.x) / (e.x - t.x) : (o.y - t.y) / (e.y - t.y)) > 0 && a < 1 ? a : null } static pointToPointDistance(t, e) { return Math.sqrt(Math.pow(t.x - e.x, 2) + Math.pow(t.y - e.y, 2)) } } }, "s+UU": function (t, e, n) { "use strict"; var l = n("6MRC"), s = n("FvzS"), i = n("WFWZ"), r = n("UEsV"), o = n("hfO1"); class a extends Error { constructor(t) { super(), this.errors = t; const e = Error.call(this, t ? `${t.length} errors occurred during unsubscription:\n  ${t.map((t, e) => `${e + 1}) ${t.toString()}`).join("\n  ")}` : ""); this.name = e.name = "UnsubscriptionError", this.stack = e.stack, this.message = e.message } } class u { constructor(t) { this.closed = !1, this._parent = null, this._parents = null, this._subscriptions = null, t && (this._unsubscribe = t) } unsubscribe() { let t, e = !1; if (this.closed) return; let { _parent: n, _parents: u, _unsubscribe: h, _subscriptions: d } = this; this.closed = !0, this._parent = null, this._parents = null, this._subscriptions = null; let p = -1, m = u ? u.length : 0; for (; n;)n.remove(this), n = ++p < m && u[p] || null; if (Object(i.a)(h) && Object(r.a)(h).call(this) === o.a && (e = !0, t = t || (o.a.e instanceof a ? c(o.a.e.errors) : [o.a.e])), Object(l.a)(d)) for (p = -1, m = d.length; ++p < m;) { const n = d[p]; if (Object(s.a)(n) && Object(r.a)(n.unsubscribe).call(n) === o.a) { e = !0, t = t || []; let n = o.a.e; n instanceof a ? t = t.concat(c(n.errors)) : t.push(n) } } if (e) throw new a(t) } add(t) { if (!t || t === u.EMPTY) return u.EMPTY; if (t === this) return this; let e = t; switch (typeof t) { case "function": e = new u(t); case "object": if (e.closed || "function" != typeof e.unsubscribe) return e; if (this.closed) return e.unsubscribe(), e; if ("function" != typeof e._addParent) { const t = e; (e = new u)._subscriptions = [t] } break; default: throw new Error("unrecognized teardown " + t + " added to Subscription.") }return (this._subscriptions || (this._subscriptions = [])).push(e), e._addParent(this), e } remove(t) { const e = this._subscriptions; if (e) { const n = e.indexOf(t); -1 !== n && e.splice(n, 1) } } _addParent(t) { let { _parent: e, _parents: n } = this; e && e !== t ? n ? -1 === n.indexOf(t) && n.push(t) : this._parents = [t] : this._parent = t } } function c(t) { return t.reduce((t, e) => t.concat(e instanceof a ? e.errors : e), []) } e.a = u, u.EMPTY = function (t) { return t.closed = !0, t }(new u) }, sD9H: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("YyY7"); e.TDOpt = class extends l.Opt { constructor() { super(...arguments), this.alpha = .01, this.epsilon = .1, this.gamma = .75, this.beta = .01, this.lambda = 0, this.qInitValue = 0, this.replacingTraces = !0, this.smoothPolicyUpdate = !1, this.numberOfPlanningSteps = 0, this.update = "qlearn" } setAlpha(t) { this.alpha = t } setEpsilon(t) { this.epsilon = t } setGamma(t) { this.gamma = t } setBeta(t) { this.beta = t } setLambda(t) { this.lambda = t } setQ(t) { this.qInitValue = t } setReplacingTraces(t) { this.replacingTraces = t } setSmoothPolicyUpdate(t) { this.smoothPolicyUpdate = t } setnumberOfPlanningSteps(t) { this.numberOfPlanningSteps = t } setUpdate(t) { this.update = t } } }, ts38: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("c+if"); class s { constructor(t, e) { this.id = t, this.type = e } reset() { this.sensedObject = new l.SensedObject } senseObject(t, e) { this.reset(), this.detectObject(t, e) } getSensedObject() { return this.sensedObject } } s.states = 6, e.Sensor = s }, vGlc: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("YyY7"); e.DQNOpt = class extends l.Opt { constructor() { super(...arguments), this.trainingMode = !0, this.numberOfHiddenUnits = 100, this.epsilonMax = 1, this.epsilonMin = .1, this.epsilonDecayPeriod = 1e6, this.epsilon = .05, this.gamma = .9, this.alpha = .01, this.experienceSize = 1e6, this.doLossClipping = !0, this.lossClamp = 1, this.doRewardClipping = !0, this.rewardClamp = 1, this.keepExperienceInterval = 25, this.replaySteps = 10 } setNumberOfHiddenUnits(t) { this.numberOfHiddenUnits = t } setEpsilonDecay(t, e, n) { this.epsilonMax = t, this.epsilonMin = e, this.epsilonDecayPeriod = n } setEpsilon(t) { this.epsilon = t } setGamma(t) { this.gamma = t } setAlpha(t) { this.alpha = t } setLossClipping(t) { this.doLossClipping = t } setLossClamp(t) { this.lossClamp = t } setRewardClipping(t) { this.doRewardClipping = t } setRewardClamp(t) { this.rewardClamp = t } setTrainingMode(t) { this.trainingMode = t } setExperienceSize(t) { this.experienceSize = t } setReplayInterval(t) { this.keepExperienceInterval = t } setReplaySteps(t) { this.replaySteps = t } } }, ves3: function (t, e, n) { "use strict"; var l = n("bbL7"), s = n("2zkT"), i = n("73T8"), r = n("dMus"), o = n("zOxy"), a = n("7VlU"); class u { constructor(t) { this._isScalar = !1, t && (this._subscribe = t) } lift(t) { const e = new u; return e.source = this, e.operator = t, e } subscribe(t, e, n) { const { operator: l } = this, o = function (t, e, n) { if (t) { if (t instanceof s.a) return t; if (t[i.a]) return t[i.a]() } return t || e || n ? new s.a(t, e, n) : new s.a(r.a) }(t, e, n); if (l ? l.call(o, this.source) : o.add(this.source || !o.syncErrorThrowable ? this._subscribe(o) : this._trySubscribe(o)), o.syncErrorThrowable && (o.syncErrorThrowable = !1, o.syncErrorThrown)) throw o.syncErrorValue; return o } _trySubscribe(t) { try { return this._subscribe(t) } catch (e) { t.syncErrorThrown = !0, t.syncErrorValue = e, t.error(e) } } forEach(t, e) { if (e || (l.a.Rx && l.a.Rx.config && l.a.Rx.config.Promise ? e = l.a.Rx.config.Promise : l.a.Promise && (e = l.a.Promise)), !e) throw new Error("no Promise impl found"); return new e((e, n) => { let l; l = this.subscribe(e => { if (l) try { t(e) } catch (t) { n(t), l.unsubscribe() } else t(e) }, n, e) }) } _subscribe(t) { return this.source.subscribe(t) } [o.a]() { return this } pipe(...t) { return 0 === t.length ? this : Object(a.b)(t)(this) } toPromise(t) { if (t || (l.a.Rx && l.a.Rx.config && l.a.Rx.config.Promise ? t = l.a.Rx.config.Promise : l.a.Promise && (t = l.a.Promise)), !t) throw new Error("no Promise impl found"); return new t((t, e) => { let n; this.subscribe(t => n = t, t => e(t), () => t(n)) }) } } e.a = u, u.create = (t => new u(t)) }, w1be: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("qQPk"), s = n("7oRV"), i = n("mfKF"); e.RNN = class extends i.RNNModel { constructor(t) { super(t) } isFromJSON(t) { return i.RNNModel.has(t, ["hidden", "decoder"]) && i.RNNModel.has(t.hidden, ["Wh", "Wx", "bh"]) && i.RNNModel.has(t.decoder, ["Wh", "b"]) } initializeHiddenLayerFromJSON(t) { i.RNNModel.assert(!Array.isArray(t.hidden.Wh), "Wrong JSON Format to recreat Hidden Layer."), i.RNNModel.assert(!Array.isArray(t.hidden.Wx), "Wrong JSON Format to recreat Hidden Layer."), i.RNNModel.assert(!Array.isArray(t.hidden.bh), "Wrong JSON Format to recreat Hidden Layer."); for (let e = 0; e < t.hidden.Wh.length; e++)this.model.hidden.Wx[e] = s.Mat.fromJSON(t.hidden.Wx[e]), this.model.hidden.Wh[e] = s.Mat.fromJSON(t.hidden.Wh[e]), this.model.hidden.bh[e] = s.Mat.fromJSON(t.hidden.bh[e]) } initializeNetworkModel() { return { hidden: { Wx: new Array(this.hiddenUnits.length), Wh: new Array(this.hiddenUnits.length), bh: new Array(this.hiddenUnits.length) }, decoder: { Wh: null, b: null } } } initializeHiddenLayer() { let t; for (let e = 0; e < this.hiddenUnits.length; e++)this.model.hidden.Wx[e] = new l.RandMat(t = this.hiddenUnits[e], 0 === e ? this.inputSize : this.hiddenUnits[e - 1], 0, .08), this.model.hidden.Wh[e] = new l.RandMat(t, t, 0, .08), this.model.hidden.bh[e] = new s.Mat(t, 1) } forward(t, e, n) { n = n || this.graph; const l = this.getPreviousHiddenUnits(e), s = this.computeHiddenActivations(t, l, n); return { hiddenUnits: s, output: this.computeOutput(s, n) } } getPreviousHiddenUnits(t) { let e; if ("undefined" == typeof t.hiddenUnits) { e = new Array; for (let t = 0; t < this.hiddenUnits.length; t++)e.push(new s.Mat(this.hiddenUnits[t], 1)) } else e = t.hiddenUnits; return e } computeHiddenActivations(t, e, n) { const l = new Array; for (let s = 0; s < this.hiddenUnits.length; s++) { const i = e[s], r = n.mul(this.model.hidden.Wx[s], 0 === s ? t : l[s - 1]), o = n.mul(this.model.hidden.Wh[s], i), a = n.relu(n.add(n.add(r, o), this.model.hidden.bh[s])); l.push(a) } return l } } }, w4xR: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("JVTt"), s = n("AujY"), i = n("7zzE"), r = n("51CN"), o = n("gkSD"), a = n("WCR2"), u = n("cKjV"), c = n("6S5o"); e.RLAgentFactory = class { constructor(t, e, n = 4) { this.tick = -1, this.width = t, this.height = e, this.numberOfActions = n } creatEyeDQNAgent(t, e) { const n = this.createEyeSensory(), l = 0 === this.tick ? this.createDefaultBrain(n) : this.createRandomSizedBrain(n); return new i.RLAgent(this.tick, l, n, new c.Point2D(t, e)) } createRadarDQNAgent(t, e) { const n = this.createRadarSensory(), l = 1 === this.tick ? this.createDefaultBrain(n) : this.createRandomSizedBrain(n); return new i.RLAgent(this.tick, l, n, new c.Point2D(t, e)) } createDefaultBrain(t) { const e = this.determineNumberOfStates(t), n = new s.DQNEnv(this.width, this.height, e, this.numberOfActions), l = new s.DQNOpt; return l.setTrainingMode(!0), l.setNumberOfHiddenUnits(100), l.setEpsilonDecay(1, .1, 1e6), l.setEpsilon(.05), l.setGamma(.9), l.setAlpha(.005), l.setLossClipping(!0), l.setLossClamp(1), l.setRewardClipping(!0), l.setRewardClamp(1), l.setExperienceSize(1e6), l.setReplayInterval(5), l.setReplaySteps(5), new r.DQNBrain(n, l) } createRandomSizedBrain(t) { const e = this.determineNumberOfStates(t), n = new s.DQNEnv(this.width, this.height, e, this.numberOfActions), i = new s.DQNOpt; return i.setTrainingMode(!0), i.setNumberOfHiddenUnits(l.Utils.randi(20, 100)), i.setEpsilonDecay(1, .1, 1e6), i.setEpsilon(.05), i.setGamma(.9), i.setAlpha(.005), i.setLossClipping(!0), i.setLossClamp(1), i.setRewardClipping(!0), i.setRewardClamp(1), i.setExperienceSize(1e6), i.setReplayInterval(5), i.setReplaySteps(5), new r.DQNBrain(n, i) } determineNumberOfStates(t) { return t.getSensoryState().length + 2 } createEyeSensory() { const t = new Array; for (let e = 0; e < 25; e++)t.push(new o.Lidar(e, e * (2 * Math.PI) / 25, 95)); return new u.Sensory(t) } createRadarSensory() { const t = new Array, e = Math.sqrt(25), n = Math.sqrt(Math.pow(95, 2) * Math.PI) / 2 * 2 / e; for (let l = 0; l < e; l++)for (let s = 0; s < e; s++)t.push(new a.Radar(l * e + s, l, s, n, -n * e / 2 + n * s, -n * e / 2 + n * l)); return new u.Sensory(t) } createRandomDQNAgent() { const t = l.Utils.randf(20, this.width - 20), e = l.Utils.randf(20, this.height - 20); return this.tick % 2 != 0 ? (this.tick++ , this.creatEyeDQNAgent(t, e)) : (this.tick++ , this.createRadarDQNAgent(t, e)) } } }, wxp6: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); const l = n("DM6F"); e.TDEnv = class extends l.Env { allowedActions(t) { const e = this.stox(t), n = this.stoy(t), l = new Array; return e > 0 && l.push(0), n > 0 && l.push(1), n < this.height - 1 && l.push(2), e < this.width - 1 && l.push(3), l } stox(t) { return Math.floor(t / this.height) } stoy(t) { return t % this.height } } }, x35b: function (t, e, n) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var l = n("48oy"); class s { } class i { constructor() { this.links = [{ label: "Pre-Trained", route: "/pretrained" }, { label: "Simulation", route: "/simulation" }, { label: "Explanation", route: "/explanation" }, { label: "DQN-Method", route: "/dqn-method" }, { label: "About", route: "/about" }] } } function r(t) { return null != t && "false" !== `${t}` } function o(t) { return Array.isArray(t) ? t : [t] } var a = n("2zkT"); class u extends Error { constructor() { const t = super("argument out of range"); this.name = t.name = "ArgumentOutOfRangeError", this.stack = t.stack, this.message = t.message } } var c = n("XVqe"); function h(t) { return e => 0 === t ? new c.a : e.lift(new d(t)) } class d { constructor(t) { if (this.total = t, this.total < 0) throw new u } call(t, e) { return e.subscribe(new p(t, this.total)) } } class p extends a.a { constructor(t, e) { super(t), this.total = e, this.count = 0 } _next(t) { const e = this.total, n = ++this.count; n <= e && (this.destination.next(t), n === e && (this.destination.complete(), this.unsubscribe())) } } const m = "undefined" != typeof Intl && Intl.v8BreakIterator; class g { constructor() { this.isBrowser = "object" == typeof document && !!document, this.EDGE = this.isBrowser && /(edge)/i.test(navigator.userAgent), this.TRIDENT = this.isBrowser && /(msie|trident)/i.test(navigator.userAgent), this.BLINK = this.isBrowser && !(!window.chrome && !m) && "undefined" != typeof CSS && !this.EDGE && !this.TRIDENT, this.WEBKIT = this.isBrowser && /AppleWebKit/i.test(navigator.userAgent) && !this.BLINK && !this.EDGE && !this.TRIDENT, this.IOS = this.isBrowser && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream, this.FIREFOX = this.isBrowser && /(firefox|minefield)/i.test(navigator.userAgent), this.ANDROID = this.isBrowser && /android/i.test(navigator.userAgent) && !this.TRIDENT, this.SAFARI = this.isBrowser && /safari/i.test(navigator.userAgent) && this.WEBKIT } } let f; function _() { if (null == f && "undefined" != typeof window) try { window.addEventListener("test", null, Object.defineProperty({}, "passive", { get: () => f = !0 })) } finally { f = f || !1 } return f } class y { } class b { } const w = new l.o("Location Initialized"); class v { } const x = new l.o("appBaseHref"); class C { constructor(t) { this._subject = new l.m, this._platformStrategy = t; const e = this._platformStrategy.getBaseHref(); this._baseHref = C.stripTrailingSlash(S(e)), this._platformStrategy.onPopState(t => { this._subject.emit({ url: this.path(!0), pop: !0, type: t.type }) }) } path(t = !1) { return this.normalize(this._platformStrategy.path(t)) } isCurrentPathEqualTo(t, e = "") { return this.path() == this.normalize(t + C.normalizeQueryParams(e)) } normalize(t) { return C.stripTrailingSlash(function (t, e) { return t && e.startsWith(t) ? e.substring(t.length) : e }(this._baseHref, S(t))) } prepareExternalUrl(t) { return t && "/" !== t[0] && (t = "/" + t), this._platformStrategy.prepareExternalUrl(t) } go(t, e = "") { this._platformStrategy.pushState(null, "", t, e) } replaceState(t, e = "") { this._platformStrategy.replaceState(null, "", t, e) } forward() { this._platformStrategy.forward() } back() { this._platformStrategy.back() } subscribe(t, e, n) { return this._subject.subscribe({ next: t, error: e, complete: n }) } static normalizeQueryParams(t) { return t && "?" !== t[0] ? "?" + t : t } static joinWithSlash(t, e) { if (0 == t.length) return e; if (0 == e.length) return t; let n = 0; return t.endsWith("/") && n++ , e.startsWith("/") && n++ , 2 == n ? t + e.substring(1) : 1 == n ? t + e : t + "/" + e } static stripTrailingSlash(t) { const e = t.match(/#|\?|$/), n = e && e.index || t.length; return t.slice(0, n - ("/" === t[n - 1] ? 1 : 0)) + t.slice(n) } } function S(t) { return t.replace(/\/index.html$/, "") } class E extends v { constructor(t, e) { super(), this._platformLocation = t, this._baseHref = "", null != e && (this._baseHref = e) } onPopState(t) { this._platformLocation.onPopState(t), this._platformLocation.onHashChange(t) } getBaseHref() { return this._baseHref } path(t = !1) { let e = this._platformLocation.hash; return null == e && (e = "#"), e.length > 0 ? e.substring(1) : e } prepareExternalUrl(t) { const e = C.joinWithSlash(this._baseHref, t); return e.length > 0 ? "#" + e : e } pushState(t, e, n, l) { let s = this.prepareExternalUrl(n + C.normalizeQueryParams(l)); 0 == s.length && (s = this._platformLocation.pathname), this._platformLocation.pushState(t, e, s) } replaceState(t, e, n, l) { let s = this.prepareExternalUrl(n + C.normalizeQueryParams(l)); 0 == s.length && (s = this._platformLocation.pathname), this._platformLocation.replaceState(t, e, s) } forward() { this._platformLocation.forward() } back() { this._platformLocation.back() } } class k extends v { constructor(t, e) { if (super(), this._platformLocation = t, null == e && (e = this._platformLocation.getBaseHrefFromDOM()), null == e) throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document."); this._baseHref = e } onPopState(t) { this._platformLocation.onPopState(t), this._platformLocation.onHashChange(t) } getBaseHref() { return this._baseHref } prepareExternalUrl(t) { return C.joinWithSlash(this._baseHref, t) } path(t = !1) { const e = this._platformLocation.pathname + C.normalizeQueryParams(this._platformLocation.search), n = this._platformLocation.hash; return n && t ? `${e}${n}` : e } pushState(t, e, n, l) { const s = this.prepareExternalUrl(n + C.normalizeQueryParams(l)); this._platformLocation.pushState(t, e, s) } replaceState(t, e, n, l) { const s = this.prepareExternalUrl(n + C.normalizeQueryParams(l)); this._platformLocation.replaceState(t, e, s) } forward() { this._platformLocation.forward() } back() { this._platformLocation.back() } } var T = ["en", [["a", "p"], ["AM", "PM"]], [["AM", "PM"], ,], [["S", "M", "T", "W", "T", "F", "S"], ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"]], , [["J", "F", "M", "A", "M", "J", "J", "A", "S", "O", "N", "D"], ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]], , [["B", "A"], ["BC", "AD"], ["Before Christ", "Anno Domini"]], 0, [6, 0], ["M/d/yy", "MMM d, y", "MMMM d, y", "EEEE, MMMM d, y"], ["h:mm a", "h:mm:ss a", "h:mm:ss a z", "h:mm:ss a zzzz"], ["{1}, {0}", , "{1} 'at' {0}"], [".", ",", ";", "%", "+", "-", "E", "\xd7", "\u2030", "\u221e", "NaN", ":"], ["#,##0.###", "#,##0%", "\xa4#,##0.00", "#E0"], "$", "US Dollar", function (t) { let e = Math.floor(Math.abs(t)), n = t.toString().replace(/^[^.]*\.?/, "").length; return 1 === e && 0 === n ? 1 : 5 }]; const O = {}, A = function () { var t = { Decimal: 0, Percent: 1, Currency: 2, Scientific: 3 }; return t[t.Decimal] = "Decimal", t[t.Percent] = "Percent", t[t.Currency] = "Currency", t[t.Scientific] = "Scientific", t }(), I = function () { var t = { Zero: 0, One: 1, Two: 2, Few: 3, Many: 4, Other: 5 }; return t[t.Zero] = "Zero", t[t.One] = "One", t[t.Two] = "Two", t[t.Few] = "Few", t[t.Many] = "Many", t[t.Other] = "Other", t }(), M = function () { var t = { Decimal: 0, Group: 1, List: 2, PercentSign: 3, PlusSign: 4, MinusSign: 5, Exponential: 6, SuperscriptingExponent: 7, PerMille: 8, Infinity: 9, NaN: 10, TimeSeparator: 11, CurrencyDecimal: 12, CurrencyGroup: 13 }; return t[t.Decimal] = "Decimal", t[t.Group] = "Group", t[t.List] = "List", t[t.PercentSign] = "PercentSign", t[t.PlusSign] = "PlusSign", t[t.MinusSign] = "MinusSign", t[t.Exponential] = "Exponential", t[t.SuperscriptingExponent] = "SuperscriptingExponent", t[t.PerMille] = "PerMille", t[t.Infinity] = "Infinity", t[t.NaN] = "NaN", t[t.TimeSeparator] = "TimeSeparator", t[t.CurrencyDecimal] = "CurrencyDecimal", t[t.CurrencyGroup] = "CurrencyGroup", t }(); function R(t, e) { const n = P(t), l = n[13][e]; if ("undefined" == typeof l) { if (e === M.CurrencyDecimal) return n[13][M.Decimal]; if (e === M.CurrencyGroup) return n[13][M.Group] } return l } function P(t) { const e = t.toLowerCase().replace(/_/g, "-"); let n = O[e]; if (n) return n; const l = e.split("-")[0]; if (n = O[l]) return n; if ("en" === l) return T; throw new Error(`Missing locale data for the locale "${t}".`) } const N = new l.o("UseV4Plurals"); class D { } class V extends D { constructor(t, e) { super(), this.locale = t, this.deprecatedPluralFn = e } getPluralCategory(t, e) { switch (this.deprecatedPluralFn ? this.deprecatedPluralFn(e || this.locale, t) : function (t) { return P(t)[17] }(e || this.locale)(t)) { case I.Zero: return "zero"; case I.One: return "one"; case I.Two: return "two"; case I.Few: return "few"; case I.Many: return "many"; default: return "other" } } } class j { constructor(t, e, n, l) { this._iterableDiffers = t, this._keyValueDiffers = e, this._ngEl = n, this._renderer = l, this._initialClasses = [] } set klass(t) { this._applyInitialClasses(!0), this._initialClasses = "string" == typeof t ? t.split(/\s+/) : [], this._applyInitialClasses(!1), this._applyClasses(this._rawClass, !1) } set ngClass(t) { this._cleanupClasses(this._rawClass), this._iterableDiffer = null, this._keyValueDiffer = null, this._rawClass = "string" == typeof t ? t.split(/\s+/) : t, this._rawClass && (Object(l._7)(this._rawClass) ? this._iterableDiffer = this._iterableDiffers.find(this._rawClass).create() : this._keyValueDiffer = this._keyValueDiffers.find(this._rawClass).create()) } ngDoCheck() { if (this._iterableDiffer) { const t = this._iterableDiffer.diff(this._rawClass); t && this._applyIterableChanges(t) } else if (this._keyValueDiffer) { const t = this._keyValueDiffer.diff(this._rawClass); t && this._applyKeyValueChanges(t) } } _cleanupClasses(t) { this._applyClasses(t, !0), this._applyInitialClasses(!1) } _applyKeyValueChanges(t) { t.forEachAddedItem(t => this._toggleClass(t.key, t.currentValue)), t.forEachChangedItem(t => this._toggleClass(t.key, t.currentValue)), t.forEachRemovedItem(t => { t.previousValue && this._toggleClass(t.key, !1) }) } _applyIterableChanges(t) { t.forEachAddedItem(t => { if ("string" != typeof t.item) throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(l._23)(t.item)}`); this._toggleClass(t.item, !0) }), t.forEachRemovedItem(t => this._toggleClass(t.item, !1)) } _applyInitialClasses(t) { this._initialClasses.forEach(e => this._toggleClass(e, !t)) } _applyClasses(t, e) { t && (Array.isArray(t) || t instanceof Set ? t.forEach(t => this._toggleClass(t, !e)) : Object.keys(t).forEach(n => { null != t[n] && this._toggleClass(n, !e) })) } _toggleClass(t, e) { (t = t.trim()) && t.split(/\s+/g).forEach(t => { e ? this._renderer.addClass(this._ngEl.nativeElement, t) : this._renderer.removeClass(this._ngEl.nativeElement, t) }) } } class F { constructor(t, e, n, l) { this.$implicit = t, this.ngForOf = e, this.index = n, this.count = l } get first() { return 0 === this.index } get last() { return this.index === this.count - 1 } get even() { return this.index % 2 == 0 } get odd() { return !this.even } } class L { constructor(t, e, n) { this._viewContainer = t, this._template = e, this._differs = n, this._differ = null } set ngForTrackBy(t) { Object(l.T)() && null != t && "function" != typeof t && console && console.warn && console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. ` + "See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."), this._trackByFn = t } get ngForTrackBy() { return this._trackByFn } set ngForTemplate(t) { t && (this._template = t) } ngOnChanges(t) { if ("ngForOf" in t) { const e = t.ngForOf.currentValue; if (!this._differ && e) try { this._differ = this._differs.find(e).create(this.ngForTrackBy) } catch (t) { throw new Error(`Cannot find a differ supporting object '${e}' of type '${e.name || typeof e}'. NgFor only supports binding to Iterables such as Arrays.`) } } } ngDoCheck() { if (this._differ) { const t = this._differ.diff(this.ngForOf); t && this._applyChanges(t) } } _applyChanges(t) { const e = []; t.forEachOperation((t, n, l) => { if (null == t.previousIndex) { const n = this._viewContainer.createEmbeddedView(this._template, new F(null, this.ngForOf, -1, -1), l), s = new z(t, n); e.push(s) } else if (null == l) this._viewContainer.remove(n); else { const s = this._viewContainer.get(n); this._viewContainer.move(s, l); const i = new z(t, s); e.push(i) } }); for (let n = 0; n < e.length; n++)this._perViewChange(e[n].view, e[n].record); for (let n = 0, l = this._viewContainer.length; n < l; n++) { const t = this._viewContainer.get(n); t.context.index = n, t.context.count = l } t.forEachIdentityChange(t => { this._viewContainer.get(t.currentIndex).context.$implicit = t.item }) } _perViewChange(t, e) { t.context.$implicit = e.item } } class z { constructor(t, e) { this.record = t, this.view = e } } class H { constructor(t, e) { this._viewContainer = t, this._context = new U, this._thenTemplateRef = null, this._elseTemplateRef = null, this._thenViewRef = null, this._elseViewRef = null, this._thenTemplateRef = e } set ngIf(t) { this._context.$implicit = this._context.ngIf = t, this._updateView() } set ngIfThen(t) { this._thenTemplateRef = t, this._thenViewRef = null, this._updateView() } set ngIfElse(t) { this._elseTemplateRef = t, this._elseViewRef = null, this._updateView() } _updateView() { this._context.$implicit ? this._thenViewRef || (this._viewContainer.clear(), this._elseViewRef = null, this._thenTemplateRef && (this._thenViewRef = this._viewContainer.createEmbeddedView(this._thenTemplateRef, this._context))) : this._elseViewRef || (this._viewContainer.clear(), this._thenViewRef = null, this._elseTemplateRef && (this._elseViewRef = this._viewContainer.createEmbeddedView(this._elseTemplateRef, this._context))) } } class U { constructor() { this.$implicit = null, this.ngIf = null } } function B(t, e) { return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(l._23)(t)}'`) } const W = /^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/, G = /((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/, q = { yMMMdjms: lt(nt([tt("year", 1), et("month", 3), tt("day", 1), tt("hour", 1), tt("minute", 1), tt("second", 1)])), yMdjm: lt(nt([tt("year", 1), tt("month", 1), tt("day", 1), tt("hour", 1), tt("minute", 1)])), yMMMMEEEEd: lt(nt([tt("year", 1), et("month", 4), et("weekday", 4), tt("day", 1)])), yMMMMd: lt(nt([tt("year", 1), et("month", 4), tt("day", 1)])), yMMMd: lt(nt([tt("year", 1), et("month", 3), tt("day", 1)])), yMd: lt(nt([tt("year", 1), tt("month", 1), tt("day", 1)])), jms: lt(nt([tt("hour", 1), tt("second", 1), tt("minute", 1)])), jm: lt(nt([tt("hour", 1), tt("minute", 1)])) }, Q = { yyyy: lt(tt("year", 4)), yy: lt(tt("year", 2)), y: lt(tt("year", 1)), MMMM: lt(et("month", 4)), MMM: lt(et("month", 3)), MM: lt(tt("month", 2)), M: lt(tt("month", 1)), LLLL: lt(et("month", 4)), L: lt(et("month", 1)), dd: lt(tt("day", 2)), d: lt(tt("day", 1)), HH: K(J(lt(X(tt("hour", 2), !1)))), H: J(lt(X(tt("hour", 1), !1))), hh: K(J(lt(X(tt("hour", 2), !0)))), h: J(lt(X(tt("hour", 1), !0))), jj: lt(tt("hour", 2)), j: lt(tt("hour", 1)), mm: K(lt(tt("minute", 2))), m: lt(tt("minute", 1)), ss: K(lt(tt("second", 2))), s: lt(tt("second", 1)), sss: lt(tt("second", 3)), EEEE: lt(et("weekday", 4)), EEE: lt(et("weekday", 3)), EE: lt(et("weekday", 2)), E: lt(et("weekday", 1)), a: function (t) { return function (e, n) { return t(e, n).split(" ")[1] } }(lt(X(tt("hour", 1), !0))), Z: Y("short"), z: Y("long"), ww: lt({}), w: lt({}), G: lt(et("era", 1)), GG: lt(et("era", 2)), GGG: lt(et("era", 3)), GGGG: lt(et("era", 4)) }; function K(t) { return function (e, n) { const l = t(e, n); return 1 == l.length ? "0" + l : l } } function J(t) { return function (e, n) { return t(e, n).split(" ")[0] } } function Z(t, e, n) { return new Intl.DateTimeFormat(e, n).format(t).replace(/[\u200e\u200f]/g, "") } function Y(t) { const e = { hour: "2-digit", hour12: !1, timeZoneName: t }; return function (t, n) { const l = Z(t, n, e); return l ? l.substring(3) : "" } } function X(t, e) { return t.hour12 = e, t } function tt(t, e) { return function () { var n = {}; return n[t] = 2 === e ? "2-digit" : "numeric", n }() } function et(t, e) { const n = {}; return n[t] = e < 4 ? e > 1 ? "short" : "narrow" : "long", n } function nt(t) { return t.reduce((t, e) => Object.assign({}, t, e), {}) } function lt(t) { return (e, n) => Z(e, n, t) } const st = new Map; class it { static format(t, e, n) { return function (t, e, n) { const l = q[t]; if (l) return l(e, n); const s = t; let i = st.get(s); if (!i) { let e; i = [], G.exec(t); let n = t; for (; n;)(e = G.exec(n)) ? n = (i = i.concat(e.slice(1))).pop() : (i.push(n), n = null); st.set(s, i) } return i.reduce((t, l) => { const s = Q[l]; return t + (s ? s(e, n) : function (t) { return "''" === t ? "'" : t.replace(/(^'|'$)/g, "").replace(/''/g, "'") }(l)) }, "") }(n, t, e) } } class rt { constructor(t) { this._locale = t } transform(t, e = "mediumDate") { if (null == t || "" === t || t != t) return null; let n; if ("string" == typeof t && (t = t.trim()), ot(t)) n = t; else if (isNaN(t - parseFloat(t))) if ("string" == typeof t && /^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)) { const [e, l, s] = t.split("-").map(t => parseInt(t, 10)); n = new Date(e, l - 1, s) } else n = new Date(t); else n = new Date(parseFloat(t)); if (!ot(n)) { let e; if ("string" != typeof t || !(e = t.match(W))) throw B(rt, t); n = function (t) { const e = new Date(0); let n = 0, l = 0; const s = t[8] ? e.setUTCHours : e.setHours; t[9] && (n = +(t[9] + t[10]), l = +(t[9] + t[11])), (t[8] ? e.setUTCFullYear : e.setFullYear).call(e, +t[1], +t[2] - 1, +t[3]); const i = +(t[4] || "0") - n, r = +(t[5] || "0") - l, o = +(t[6] || "0"), a = Math.round(1e3 * parseFloat("0." + (t[7] || 0))); return s.call(e, i, r, o, a), e }(e) } return it.format(n, this._locale, rt._ALIASES[e] || e) } } function ot(t) { return t instanceof Date && !isNaN(t.valueOf()) } rt._ALIASES = { medium: "yMMMdjms", short: "yMdjm", fullDate: "yMMMMEEEEd", longDate: "yMMMMd", mediumDate: "yMMMd", shortDate: "yMd", mediumTime: "jms", shortTime: "jm" }; const at = /^(\d+)?\.((\d+)(-(\d+))?)?$/, ut = 22, ct = ".", ht = "0", dt = ";", pt = ",", mt = "#", gt = "\xa4", ft = "%"; function _t(t) { const e = parseInt(t); if (isNaN(e)) throw new Error("Invalid integer literal when parsing " + t); return e } const yt = new class { createSubscription(t, e) { return t.then(e, t => { throw t }) } dispose(t) { } onDestroy(t) { } }, bt = new class { createSubscription(t, e) { return t.subscribe({ next: e, error: t => { throw t } }) } dispose(t) { t.unsubscribe() } onDestroy(t) { t.unsubscribe() } }; class wt { constructor(t) { this._ref = t, this._latestValue = null, this._latestReturnedValue = null, this._subscription = null, this._obj = null, this._strategy = null } ngOnDestroy() { this._subscription && this._dispose() } transform(t) { return this._obj ? t !== this._obj ? (this._dispose(), this.transform(t)) : this._latestValue === this._latestReturnedValue ? this._latestReturnedValue : (this._latestReturnedValue = this._latestValue, l.O.wrap(this._latestValue)) : (t && this._subscribe(t), this._latestReturnedValue = this._latestValue, this._latestValue) } _subscribe(t) { this._obj = t, this._strategy = this._selectStrategy(t), this._subscription = this._strategy.createSubscription(t, e => this._updateLatestValue(t, e)) } _selectStrategy(t) { if (Object(l._9)(t)) return yt; if (Object(l._8)(t)) return bt; throw B(wt, t) } _dispose() { this._strategy.dispose(this._subscription), this._latestValue = null, this._latestReturnedValue = null, this._subscription = null, this._obj = null } _updateLatestValue(t, e) { t === this._obj && (this._latestValue = e, this._ref.markForCheck()) } } class vt { constructor(t) { this._locale = t } transform(t, e, n) { if (function (t) { return null == t || "" === t || t != t }(t)) return null; n = n || this._locale; const { str: l, error: s } = function (t, e, n, l, s = null) { const i = { str: null }, r = function (t, e) { return P(t)[14][e] }(e, n); let o; if ("string" != typeof t || isNaN(+t - parseFloat(t))) { if ("number" != typeof t) return i.error = `${t} is not a number`, i; o = t } else o = +t; const a = function (t, e = "-") { const n = { minInt: 1, minFrac: 0, maxFrac: 0, posPre: "", posSuf: "", negPre: "", negSuf: "", gSize: 0, lgSize: 0 }, l = t.split(dt), s = l[0], i = l[1], r = -1 !== s.indexOf(ct) ? s.split(ct) : [s.substring(0, s.lastIndexOf(ht) + 1), s.substring(s.lastIndexOf(ht) + 1)], o = r[0], a = r[1] || ""; n.posPre = o.substr(0, o.indexOf(mt)); for (let c = 0; c < a.length; c++) { const t = a.charAt(c); t === ht ? n.minFrac = n.maxFrac = c + 1 : t === mt ? n.maxFrac = c + 1 : n.posSuf += t } const u = o.split(pt); if (n.gSize = u[1] ? u[1].length : 0, n.lgSize = u[2] || u[1] ? (u[2] || u[1]).length : 0, i) { const t = s.length - n.posPre.length - n.posSuf.length, e = i.indexOf(mt); n.negPre = i.substr(0, e).replace(/'/g, ""), n.negSuf = i.substr(e + t).replace(/'/g, "") } else n.negPre = e + n.posPre, n.negSuf = n.posSuf; return n }(r, R(e, M.MinusSign)); let u = "", c = !1; if (isFinite(o)) { let t = function (t) { let e, n, l, s, i, r = Math.abs(t) + "", o = 0; for ((n = r.indexOf(ct)) > -1 && (r = r.replace(ct, "")), (l = r.search(/e/i)) > 0 ? (n < 0 && (n = l), n += +r.slice(l + 1), r = r.substring(0, l)) : n < 0 && (n = r.length), l = 0; r.charAt(l) === ht; l++); if (l === (i = r.length)) e = [0], n = 1; else { for (i--; r.charAt(i) === ht;)i--; for (n -= l, e = [], s = 0; l <= i; l++ , s++)e[s] = +r.charAt(l) } return n > ut && (e = e.splice(0, ut - 1), o = n - 1, n = 1), { digits: e, exponent: o, integerLen: n } }(o); n === A.Percent && (t = function (t) { if (0 === t.digits[0]) return t; const e = t.digits.length - t.integerLen; return t.exponent ? t.exponent += 2 : (0 === e ? t.digits.push(0, 0) : 1 === e && t.digits.push(0), t.integerLen += 2), t }(t)); let r = a.minInt, h = a.minFrac, d = a.maxFrac; if (l) { const t = l.match(at); if (null === t) return i.error = `${l} is not a valid digit info`, i; const e = t[1], n = t[3], s = t[5]; null != e && (r = _t(e)), null != n && (h = _t(n)), null != s ? d = _t(s) : null != n && h > d && (d = h) } !function (t, e, n) { if (e > n) throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`); let l = t.digits, s = l.length - t.integerLen; const i = Math.min(Math.max(e, s), n); let r = i + t.integerLen, o = l[r]; if (r > 0) { l.splice(Math.max(t.integerLen, r)); for (let t = r; t < l.length; t++)l[t] = 0 } else { s = Math.max(0, s), t.integerLen = 1, l.length = Math.max(1, r = i + 1), l[0] = 0; for (let t = 1; t < r; t++)l[t] = 0 } if (o >= 5) if (r - 1 < 0) { for (let e = 0; e > r; e--)l.unshift(0), t.integerLen++; l.unshift(1), t.integerLen++ } else l[r - 1]++; for (; s < Math.max(0, i); s++)l.push(0); let a = 0 !== i; const u = e + t.integerLen, c = l.reduceRight(function (t, e, n, l) { return l[n] = (e += t) < 10 ? e : e - 10, a && (0 === l[n] && n >= u ? l.pop() : a = !1), e >= 10 ? 1 : 0 }, 0); c && (l.unshift(c), t.integerLen++) }(t, h, d); let p = t.digits, m = t.integerLen; const g = t.exponent; let f = []; for (c = p.every(t => !t); m < r; m++)p.unshift(0); for (; m < 0; m++)p.unshift(0); m > 0 ? f = p.splice(m, p.length) : (f = p, p = [0]); const _ = []; for (p.length >= a.lgSize && _.unshift(p.splice(-a.lgSize, p.length).join("")); p.length > a.gSize;)_.unshift(p.splice(-a.gSize, p.length).join("")); p.length && _.unshift(p.join("")), u = _.join(R(e, s ? M.CurrencyGroup : M.Group)), f.length && (u += R(e, s ? M.CurrencyDecimal : M.Decimal) + f.join("")), g && (u += R(e, M.Exponential) + "+" + g) } else u = R(e, M.Infinity); return u = o < 0 && !c ? a.negPre + u + a.negSuf : a.posPre + u + a.posSuf, n === A.Currency && null !== s ? (i.str = u.replace(gt, s).replace(gt, ""), i) : n === A.Percent ? (i.str = u.replace(new RegExp(ft, "g"), R(e, M.PercentSign)), i) : (i.str = u, i) }(t, n, A.Decimal, e); if (s) throw B(vt, s); return l } } class xt { } const Ct = new l.o("DocumentToken"); new l.L("5.2.9"); var St = n("W/Sc"), Et = n("s+UU"); const kt = 13, Tt = 32, Ot = 27; var At = n("bbL7"); class It { constructor(t, e = It.now) { this.SchedulerAction = t, this.now = e } schedule(t, e = 0, n) { return new this.SchedulerAction(this, t).schedule(n, e) } } It.now = Date.now ? Date.now : () => +new Date; const Mt = new class extends It { constructor() { super(...arguments), this.actions = [], this.active = !1, this.scheduled = void 0 } flush(t) { const { actions: e } = this; if (this.active) return void e.push(t); let n; this.active = !0; do { if (n = t.execute(t.state, t.delay)) break } while (t = e.shift()); if (this.active = !1, n) { for (; t = e.shift();)t.unsubscribe(); throw n } } }(class extends class extends Et.a { constructor(t, e) { super() } schedule(t, e = 0) { return this } }{ constructor(t, e) { super(t, e), this.scheduler = t, this.work = e, this.pending = !1 } schedule(t, e = 0) { if (this.closed) return this; this.state = t, this.pending = !0; const n = this.id, l = this.scheduler; return null != n && (this.id = this.recycleAsyncId(l, n, e)), this.delay = e, this.id = this.id || this.requestAsyncId(l, this.id, e), this } requestAsyncId(t, e, n = 0) { return At.a.setInterval(t.flush.bind(t, this), n) } recycleAsyncId(t, e, n = 0) { if (null !== n && this.delay === n && !1 === this.pending) return e; At.a.clearInterval(e) } execute(t, e) { if (this.closed) return new Error("executing a cancelled action"); this.pending = !1; const n = this._execute(t, e); if (n) return n; !1 === this.pending && null != this.id && (this.id = this.recycleAsyncId(this.scheduler, this.id, null)) } _execute(t, e) { let n = !1, l = void 0; try { this.work(t) } catch (t) { n = !0, l = !!t && t || new Error(t) } if (n) return this.unsubscribe(), l } _unsubscribe() { const t = this.id, e = this.scheduler, n = e.actions, l = n.indexOf(this); this.work = null, this.state = null, this.pending = !1, this.scheduler = null, -1 !== l && n.splice(l, 1), null != t && (this.id = this.recycleAsyncId(e, t, null)), this.delay = null } }); function Rt(t, e) { return function (n) { return n.lift(new Pt(t, e)) } } class Pt { constructor(t, e) { this.predicate = t, this.thisArg = e } call(t, e) { return e.subscribe(new Nt(t, this.predicate, this.thisArg)) } } class Nt extends a.a { constructor(t, e, n) { super(t), this.predicate = e, this.thisArg = n, this.count = 0 } _next(t) { let e; try { e = this.predicate.call(this.thisArg, t, this.count++) } catch (t) { return void this.destination.error(t) } e && this.destination.next(t) } } function Dt(t, e) { return function (n) { if ("function" != typeof t) throw new TypeError("argument is not a function. Are you looking for `mapTo()`?"); return n.lift(new Vt(t, e)) } } class Vt { constructor(t, e) { this.project = t, this.thisArg = e } call(t, e) { return e.subscribe(new jt(t, this.project, this.thisArg)) } } class jt extends a.a { constructor(t, e, n) { super(t), this.project = e, this.count = 0, this.thisArg = n || this } _next(t) { let e; try { e = this.project.call(this.thisArg, t, this.count++) } catch (t) { return void this.destination.error(t) } this.destination.next(e) } } var Ft = n("y3s0"); const Lt = Ft.a.of; class zt { constructor(t) { this._platform = t } isDisabled(t) { return t.hasAttribute("disabled") } isVisible(t) { return function (t) { return !!(t.offsetWidth || t.offsetHeight || "function" == typeof t.getClientRects && t.getClientRects().length) }(t) && "visible" === getComputedStyle(t).visibility } isTabbable(t) { if (!this._platform.isBrowser) return !1; const e = function (t) { try { return t.frameElement } catch (t) { return null } }(t.ownerDocument.defaultView || window); if (e) { const t = e && e.nodeName.toLowerCase(); if (-1 === Ut(e)) return !1; if ((this._platform.BLINK || this._platform.WEBKIT) && "object" === t) return !1; if ((this._platform.BLINK || this._platform.WEBKIT) && !this.isVisible(e)) return !1 } let n = t.nodeName.toLowerCase(), l = Ut(t); if (t.hasAttribute("contenteditable")) return -1 !== l; if ("iframe" === n) return !1; if ("audio" === n) { if (!t.hasAttribute("controls")) return !1; if (this._platform.BLINK) return !0 } if ("video" === n) { if (!t.hasAttribute("controls") && this._platform.TRIDENT) return !1; if (this._platform.BLINK || this._platform.FIREFOX) return !0 } return ("object" !== n || !this._platform.BLINK && !this._platform.WEBKIT) && !(this._platform.WEBKIT && this._platform.IOS && !function (t) { let e = t.nodeName.toLowerCase(), n = "input" === e && t.type; return "text" === n || "password" === n || "select" === e || "textarea" === e }(t)) && t.tabIndex >= 0 } isFocusable(t) { return function (t) { return !function (t) { return function (t) { return "input" == t.nodeName.toLowerCase() }(t) && "hidden" == t.type }(t) && (function (t) { let e = t.nodeName.toLowerCase(); return "input" === e || "select" === e || "button" === e || "textarea" === e }(t) || function (t) { return function (t) { return "a" == t.nodeName.toLowerCase() }(t) && t.hasAttribute("href") }(t) || t.hasAttribute("contenteditable") || Ht(t)) }(t) && !this.isDisabled(t) && this.isVisible(t) } } function Ht(t) { if (!t.hasAttribute("tabindex") || void 0 === t.tabIndex) return !1; let e = t.getAttribute("tabindex"); return "-32768" != e && !(!e || isNaN(parseInt(e, 10))) } function Ut(t) { if (!Ht(t)) return null; const e = parseInt(t.getAttribute("tabindex") || "", 10); return isNaN(e) ? -1 : e } class Bt { constructor(t, e, n, l, s = !1) { this._element = t, this._checker = e, this._ngZone = n, this._document = l, this._enabled = !0, s || this.attachAnchors() } get enabled() { return this._enabled } set enabled(t) { this._enabled = t, this._startAnchor && this._endAnchor && (this._startAnchor.tabIndex = this._endAnchor.tabIndex = this._enabled ? 0 : -1) } destroy() { this._startAnchor && this._startAnchor.parentNode && this._startAnchor.parentNode.removeChild(this._startAnchor), this._endAnchor && this._endAnchor.parentNode && this._endAnchor.parentNode.removeChild(this._endAnchor), this._startAnchor = this._endAnchor = null } attachAnchors() { this._startAnchor || (this._startAnchor = this._createAnchor()), this._endAnchor || (this._endAnchor = this._createAnchor()), this._ngZone.runOutsideAngular(() => { this._startAnchor.addEventListener("focus", () => { this.focusLastTabbableElement() }), this._endAnchor.addEventListener("focus", () => { this.focusFirstTabbableElement() }), this._element.parentNode && (this._element.parentNode.insertBefore(this._startAnchor, this._element), this._element.parentNode.insertBefore(this._endAnchor, this._element.nextSibling)) }) } focusInitialElementWhenReady() { return new Promise(t => { this._executeOnStable(() => t(this.focusInitialElement())) }) } focusFirstTabbableElementWhenReady() { return new Promise(t => { this._executeOnStable(() => t(this.focusFirstTabbableElement())) }) } focusLastTabbableElementWhenReady() { return new Promise(t => { this._executeOnStable(() => t(this.focusLastTabbableElement())) }) } _getRegionBoundary(t) { let e = this._element.querySelectorAll(`[cdk-focus-region-${t}], ` + `[cdkFocusRegion${t}], ` + `[cdk-focus-${t}]`); for (let n = 0; n < e.length; n++)e[n].hasAttribute(`cdk-focus-${t}`) ? console.warn(`Found use of deprecated attribute 'cdk-focus-${t}',` + ` use 'cdkFocusRegion${t}' instead.`, e[n]) : e[n].hasAttribute(`cdk-focus-region-${t}`) && console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}',` + ` use 'cdkFocusRegion${t}' instead.`, e[n]); return "start" == t ? e.length ? e[0] : this._getFirstTabbableElement(this._element) : e.length ? e[e.length - 1] : this._getLastTabbableElement(this._element) } focusInitialElement() { const t = this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]"); return this._element.hasAttribute("cdk-focus-initial") && console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead.", this._element), t ? (t.focus(), !0) : this.focusFirstTabbableElement() } focusFirstTabbableElement() { const t = this._getRegionBoundary("start"); return t && t.focus(), !!t } focusLastTabbableElement() { const t = this._getRegionBoundary("end"); return t && t.focus(), !!t } _getFirstTabbableElement(t) { if (this._checker.isFocusable(t) && this._checker.isTabbable(t)) return t; let e = t.children || t.childNodes; for (let n = 0; n < e.length; n++) { let t = e[n].nodeType === this._document.ELEMENT_NODE ? this._getFirstTabbableElement(e[n]) : null; if (t) return t } return null } _getLastTabbableElement(t) { if (this._checker.isFocusable(t) && this._checker.isTabbable(t)) return t; let e = t.children || t.childNodes; for (let n = e.length - 1; n >= 0; n--) { let t = e[n].nodeType === this._document.ELEMENT_NODE ? this._getLastTabbableElement(e[n]) : null; if (t) return t } return null } _createAnchor() { const t = this._document.createElement("div"); return t.tabIndex = this._enabled ? 0 : -1, t.classList.add("cdk-visually-hidden"), t.classList.add("cdk-focus-trap-anchor"), t } _executeOnStable(t) { this._ngZone.isStable ? t() : this._ngZone.onStable.asObservable().pipe(h(1)).subscribe(t) } } class $t { constructor(t, e, n) { this._checker = t, this._ngZone = e, this._document = n } create(t, e = !1) { return new Bt(t, this._checker, this._ngZone, this._document, e) } } const Wt = " "; function Gt(t, e) { return (t.getAttribute(e) || "").match(/\S+/g) || [] } const qt = "cdk-describedby-message-container", Qt = "cdk-describedby-message", Kt = "cdk-describedby-host"; let Jt = 0; const Zt = new Map; let Yt = null; class Xt { constructor(t) { this._document = t } describe(t, e) { this._canBeDescribed(t, e) && (Zt.has(e) || this._createMessageElement(e), this._isElementDescribedByMessage(t, e) || this._addMessageReference(t, e)) } removeDescription(t, e) { if (!this._canBeDescribed(t, e)) return; this._isElementDescribedByMessage(t, e) && this._removeMessageReference(t, e); const n = Zt.get(e); n && 0 === n.referenceCount && this._deleteMessageElement(e), Yt && 0 === Yt.childNodes.length && this._deleteMessagesContainer() } ngOnDestroy() { const t = this._document.querySelectorAll(`[${Kt}]`); for (let e = 0; e < t.length; e++)this._removeCdkDescribedByReferenceIds(t[e]), t[e].removeAttribute(Kt); Yt && this._deleteMessagesContainer(), Zt.clear() } _createMessageElement(t) { const e = this._document.createElement("div"); e.setAttribute("id", `${Qt}-${Jt++}`), e.appendChild(this._document.createTextNode(t)), Yt || this._createMessagesContainer(), Yt.appendChild(e), Zt.set(t, { messageElement: e, referenceCount: 0 }) } _deleteMessageElement(t) { const e = Zt.get(t), n = e && e.messageElement; Yt && n && Yt.removeChild(n), Zt.delete(t) } _createMessagesContainer() { (Yt = this._document.createElement("div")).setAttribute("id", qt), Yt.setAttribute("aria-hidden", "true"), Yt.style.display = "none", this._document.body.appendChild(Yt) } _deleteMessagesContainer() { Yt && Yt.parentNode && (Yt.parentNode.removeChild(Yt), Yt = null) } _removeCdkDescribedByReferenceIds(t) { const e = Gt(t, "aria-describedby").filter(t => 0 != t.indexOf(Qt)); t.setAttribute("aria-describedby", e.join(" ")) } _addMessageReference(t, e) { const n = Zt.get(e); !function (t, e, n) { const l = Gt(t, e); l.some(t => t.trim() == n.trim()) || (l.push(n.trim()), t.setAttribute(e, l.join(Wt))) }(t, "aria-describedby", n.messageElement.id), t.setAttribute(Kt, ""), n.referenceCount++ } _removeMessageReference(t, e) { const n = Zt.get(e); n.referenceCount-- , function (t, e, n) { const l = Gt(t, e).filter(t => t != n.trim()); t.setAttribute(e, l.join(Wt)) }(t, "aria-describedby", n.messageElement.id), t.removeAttribute(Kt) } _isElementDescribedByMessage(t, e) { const n = Gt(t, "aria-describedby"), l = Zt.get(e), s = l && l.messageElement.id; return !!s && -1 != n.indexOf(s) } _canBeDescribed(t, e) { return t.nodeType === this._document.ELEMENT_NODE && null != e && !!`${e}`.trim() } } function te(t, e) { return t || new Xt(e) } new l.y, new l.G; const ee = new l.o("liveAnnouncerElement"); class ne { constructor(t, e) { this._document = e, this._liveElement = t || this._createLiveElement() } announce(t, e = "polite") { return this._liveElement.textContent = "", this._liveElement.setAttribute("aria-live", e), new Promise(e => { setTimeout(() => { this._liveElement.textContent = t, e() }, 100) }) } ngOnDestroy() { this._liveElement && this._liveElement.parentNode && this._liveElement.parentNode.removeChild(this._liveElement) } _createLiveElement() { let t = this._document.createElement("div"); return t.classList.add("cdk-visually-hidden"), t.setAttribute("aria-atomic", "true"), t.setAttribute("aria-live", "polite"), this._document.body.appendChild(t), t } } function le(t, e, n) { return t || new ne(e, n) } new l.y, new l.G, new l.y, new l.n(ee); const se = 650; class ie { constructor(t, e) { this._ngZone = t, this._platform = e, this._origin = null, this._windowFocused = !1, this._elementInfo = new Map, this._unregisterGlobalListeners = (() => { }), this._monitoredElementCount = 0 } monitor(t, e, n) { if (e instanceof l.B || (n = e), n = !!n, !this._platform.isBrowser) return Lt(null); if (this._elementInfo.has(t)) { let e = this._elementInfo.get(t); return e.checkChildren = n, e.subject.asObservable() } let s = { unlisten: () => { }, checkChildren: n, subject: new St.a }; this._elementInfo.set(t, s), this._incrementMonitoredElementCount(); let i = e => this._onFocus(e, t), r = e => this._onBlur(e, t); return this._ngZone.runOutsideAngular(() => { t.addEventListener("focus", i, !0), t.addEventListener("blur", r, !0) }), s.unlisten = (() => { t.removeEventListener("focus", i, !0), t.removeEventListener("blur", r, !0) }), s.subject.asObservable() } stopMonitoring(t) { const e = this._elementInfo.get(t); e && (e.unlisten(), e.subject.complete(), this._setClasses(t), this._elementInfo.delete(t), this._decrementMonitoredElementCount()) } focusVia(t, e) { this._setOriginForCurrentEventQueue(e), t.focus() } ngOnDestroy() { this._elementInfo.forEach((t, e) => this.stopMonitoring(e)) } _registerGlobalListeners() { if (!this._platform.isBrowser) return; let t = () => { this._lastTouchTarget = null, this._setOriginForCurrentEventQueue("keyboard") }, e = () => { this._lastTouchTarget || this._setOriginForCurrentEventQueue("mouse") }, n = t => { null != this._touchTimeoutId && clearTimeout(this._touchTimeoutId), this._lastTouchTarget = t.target, this._touchTimeoutId = setTimeout(() => this._lastTouchTarget = null, se) }, l = () => { this._windowFocused = !0, this._windowFocusTimeoutId = setTimeout(() => this._windowFocused = !1, 0) }; this._ngZone.runOutsideAngular(() => { document.addEventListener("keydown", t, !0), document.addEventListener("mousedown", e, !0), document.addEventListener("touchstart", n, !_() || { passive: !0, capture: !0 }), window.addEventListener("focus", l) }), this._unregisterGlobalListeners = (() => { document.removeEventListener("keydown", t, !0), document.removeEventListener("mousedown", e, !0), document.removeEventListener("touchstart", n, !_() || { passive: !0, capture: !0 }), window.removeEventListener("focus", l), clearTimeout(this._windowFocusTimeoutId), clearTimeout(this._touchTimeoutId), clearTimeout(this._originTimeoutId) }) } _toggleClass(t, e, n) { n ? t.classList.add(e) : t.classList.remove(e) } _setClasses(t, e) { this._elementInfo.get(t) && (this._toggleClass(t, "cdk-focused", !!e), this._toggleClass(t, "cdk-touch-focused", "touch" === e), this._toggleClass(t, "cdk-keyboard-focused", "keyboard" === e), this._toggleClass(t, "cdk-mouse-focused", "mouse" === e), this._toggleClass(t, "cdk-program-focused", "program" === e)) } _setOriginForCurrentEventQueue(t) { this._origin = t, this._originTimeoutId = setTimeout(() => this._origin = null, 0) } _wasCausedByTouch(t) { let e = t.target; return this._lastTouchTarget instanceof Node && e instanceof Node && (e === this._lastTouchTarget || e.contains(this._lastTouchTarget)) } _onFocus(t, e) { const n = this._elementInfo.get(e); n && (n.checkChildren || e === t.target) && (this._origin || (this._origin = this._windowFocused && this._lastFocusOrigin ? this._lastFocusOrigin : this._wasCausedByTouch(t) ? "touch" : "program"), this._setClasses(e, this._origin), n.subject.next(this._origin), this._lastFocusOrigin = this._origin, this._origin = null) } _onBlur(t, e) { const n = this._elementInfo.get(e); !n || n.checkChildren && t.relatedTarget instanceof Node && e.contains(t.relatedTarget) || (this._setClasses(e), n.subject.next(null)) } _incrementMonitoredElementCount() { 1 == ++this._monitoredElementCount && this._registerGlobalListeners() } _decrementMonitoredElementCount() { --this._monitoredElementCount || (this._unregisterGlobalListeners(), this._unregisterGlobalListeners = (() => { })) } } function re(t, e, n) { return t || new ie(e, n) } new l.y, new l.G; class oe { } var ae = n("ves3"), ue = n("UEsV"), ce = n("WFWZ"), he = n("hfO1"); const de = Object.prototype.toString; class pe extends ae.a { constructor(t, e, n, l) { super(), this.sourceObj = t, this.eventName = e, this.selector = n, this.options = l } static create(t, e, n, l) { return Object(ce.a)(n) && (l = n, n = void 0), new pe(t, e, l, n) } static setupSubscription(t, e, n, l, s) { let i; if (function (t) { return !!t && "[object NodeList]" === de.call(t) }(t) || function (t) { return !!t && "[object HTMLCollection]" === de.call(t) }(t)) for (let r = 0, o = t.length; r < o; r++)pe.setupSubscription(t[r], e, n, l, s); else if (function (t) { return !!t && "function" == typeof t.addEventListener && "function" == typeof t.removeEventListener }(t)) { const l = t; t.addEventListener(e, n, s), i = (() => l.removeEventListener(e, n, s)) } else if (function (t) { return !!t && "function" == typeof t.on && "function" == typeof t.off }(t)) { const l = t; t.on(e, n), i = (() => l.off(e, n)) } else { if (!function (t) { return !!t && "function" == typeof t.addListener && "function" == typeof t.removeListener }(t)) throw new TypeError("Invalid event target"); { const l = t; t.addListener(e, n), i = (() => l.removeListener(e, n)) } } l.add(new Et.a(i)) } _subscribe(t) { const e = this.selector; pe.setupSubscription(this.sourceObj, this.eventName, e ? (...n) => { let l = Object(ue.a)(e)(...n); l === he.a ? t.error(he.a.e) : t.next(l) } : e => t.next(e), t, this.options) } } const me = pe.create; var ge = n("JEOp"), fe = n("73El"); class _e { constructor(t) { this.durationSelector = t } call(t, e) { return e.subscribe(new ye(t, this.durationSelector)) } } class ye extends ge.a { constructor(t, e) { super(t), this.durationSelector = e, this.hasValue = !1 } _next(t) { if (this.value = t, this.hasValue = !0, !this.throttled) { const e = Object(ue.a)(this.durationSelector)(t); if (e === he.a) this.destination.error(he.a.e); else { const t = Object(fe.a)(this, e); t.closed ? this.clearThrottle() : this.add(this.throttled = t) } } } clearThrottle() { const { value: t, hasValue: e, throttled: n } = this; n && (this.remove(n), this.throttled = null, n.unsubscribe()), e && (this.value = null, this.hasValue = !1, this.destination.next(t)) } notifyNext(t, e, n, l) { this.clearThrottle() } notifyComplete() { this.clearThrottle() } } var be = n("6MRC"), we = n("f2Ls"); class ve extends ae.a { constructor(t = 0, e, n) { super(), this.period = -1, this.dueTime = 0, function (t) { return !Object(be.a)(t) && t - parseFloat(t) + 1 >= 0 }(e) ? this.period = Number(e) < 1 ? 1 : Number(e) : Object(we.a)(e) && (n = e), Object(we.a)(n) || (n = Mt), this.scheduler = n, this.dueTime = t instanceof Date && !isNaN(+t) ? +t - this.scheduler.now() : t } static create(t = 0, e, n) { return new ve(t, e, n) } static dispatch(t) { const { index: e, period: n, subscriber: l } = t; if (l.next(e), !l.closed) { if (-1 === n) return l.complete(); t.index = e + 1, this.schedule(t, n) } } _subscribe(t) { const { period: e, dueTime: n, scheduler: l } = this; return l.schedule(ve.dispatch, n, { index: 0, period: e, subscriber: t }) } } const xe = ve.create; function Ce(t, e = Mt) { return function (t) { return function (e) { return e.lift(new _e(t)) } }(() => xe(t, e)) } var Se = n("Qi5R"); const Ee = 20; class ke { constructor(t, e) { this._ngZone = t, this._platform = e, this._scrolled = new St.a, this._globalSubscription = null, this._scrolledCount = 0, this.scrollContainers = new Map } register(t) { const e = t.elementScrolled().subscribe(() => this._scrolled.next(t)); this.scrollContainers.set(t, e) } deregister(t) { const e = this.scrollContainers.get(t); e && (e.unsubscribe(), this.scrollContainers.delete(t)) } scrolled(t = Ee) { return this._platform.isBrowser ? ae.a.create(e => { this._globalSubscription || this._addGlobalListener(); const n = t > 0 ? this._scrolled.pipe(Ce(t)).subscribe(e) : this._scrolled.subscribe(e); return this._scrolledCount++ , () => { n.unsubscribe(), this._scrolledCount-- , this._scrolledCount || this._removeGlobalListener() } }) : Lt() } ngOnDestroy() { this._removeGlobalListener(), this.scrollContainers.forEach((t, e) => this.deregister(e)) } ancestorScrolled(t, e) { const n = this.getAncestorScrollContainers(t); return this.scrolled(e).pipe(Rt(t => !t || n.indexOf(t) > -1)) } getAncestorScrollContainers(t) { const e = []; return this.scrollContainers.forEach((n, l) => { this._scrollableContainsElement(l, t) && e.push(l) }), e } _scrollableContainsElement(t, e) { let n = e.nativeElement, l = t.getElementRef().nativeElement; do { if (n == l) return !0 } while (n = n.parentElement); return !1 } _addGlobalListener() { this._globalSubscription = this._ngZone.runOutsideAngular(() => me(window.document, "scroll").subscribe(() => this._scrolled.next())) } _removeGlobalListener() { this._globalSubscription && (this._globalSubscription.unsubscribe(), this._globalSubscription = null) } } function Te(t, e, n) { return t || new ke(e, n) } new l.y, new l.G; const Oe = 20; class Ae { constructor(t, e) { this._platform = t, this._change = t.isBrowser ? e.runOutsideAngular(() => Object(Se.a)(me(window, "resize"), me(window, "orientationchange"))) : Lt(), this._invalidateCache = this.change().subscribe(() => this._updateViewportSize()) } ngOnDestroy() { this._invalidateCache.unsubscribe() } getViewportSize() { this._viewportSize || this._updateViewportSize(); const t = { width: this._viewportSize.width, height: this._viewportSize.height }; return this._platform.isBrowser || (this._viewportSize = null), t } getViewportRect() { const t = this.getViewportScrollPosition(), { width: e, height: n } = this.getViewportSize(); return { top: t.top, left: t.left, bottom: t.top + n, right: t.left + e, height: n, width: e } } getViewportScrollPosition() { if (!this._platform.isBrowser) return { top: 0, left: 0 }; const t = document.documentElement.getBoundingClientRect(); return { top: -t.top || document.body.scrollTop || window.scrollY || document.documentElement.scrollTop || 0, left: -t.left || document.body.scrollLeft || window.scrollX || document.documentElement.scrollLeft || 0 } } change(t = Oe) { return t > 0 ? this._change.pipe(Ce(t)) : this._change } _updateViewportSize() { this._viewportSize = this._platform.isBrowser ? { width: window.innerWidth, height: window.innerHeight } : { width: 0, height: 0 } } } function Ie(t, e, n) { return t || new Ae(e, n) } new l.y, new l.G; class Me { } const Re = new l.o("cdk-dir-doc"); class Pe { constructor(t) { this.value = "ltr", this.change = new l.m, t && (this.value = (t.body ? t.body.dir : null) || (t.documentElement ? t.documentElement.dir : null) || "ltr") } } class Ne { } function De() { throw Error("Host already has a portal attached") } class Ve { attach(t) { return null == t && function () { throw Error("Attempting to attach a portal to a null PortalOutlet") }(), t.hasAttached() && De(), this._attachedHost = t, t.attach(this) } detach() { let t = this._attachedHost; null == t ? function () { throw Error("Attempting to detach a portal that is not attached to a host") }() : (this._attachedHost = null, t.detach()) } get isAttached() { return null != this._attachedHost } setAttachedHost(t) { this._attachedHost = t } } class je extends Ve { constructor(t, e, n) { super(), this.component = t, this.viewContainerRef = e, this.injector = n } } class Fe extends Ve { constructor(t, e, n) { super(), this.templateRef = t, this.viewContainerRef = e, this.context = n } get origin() { return this.templateRef.elementRef } attach(t, e = this.context) { return this.context = e, super.attach(t) } detach() { return this.context = void 0, super.detach() } } class Le { constructor() { this._isDisposed = !1 } hasAttached() { return !!this._attachedPortal } attach(t) { return t || function () { throw Error("Must provide a portal to attach") }(), this.hasAttached() && De(), this._isDisposed && function () { throw Error("This PortalOutlet has already been disposed") }(), t instanceof je ? (this._attachedPortal = t, this.attachComponentPortal(t)) : t instanceof Fe ? (this._attachedPortal = t, this.attachTemplatePortal(t)) : void function () { throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.") }() } detach() { this._attachedPortal && (this._attachedPortal.setAttachedHost(null), this._attachedPortal = null), this._invokeDisposeFn() } dispose() { this.hasAttached() && this.detach(), this._invokeDisposeFn(), this._isDisposed = !0 } setDisposeFn(t) { this._disposeFn = t } _invokeDisposeFn() { this._disposeFn && (this._disposeFn(), this._disposeFn = null) } } class ze extends Le { constructor(t, e, n, l) { super(), this.outletElement = t, this._componentFactoryResolver = e, this._appRef = n, this._defaultInjector = l } attachComponentPortal(t) { let e, n = this._componentFactoryResolver.resolveComponentFactory(t.component); return t.viewContainerRef ? (e = t.viewContainerRef.createComponent(n, t.viewContainerRef.length, t.injector || t.viewContainerRef.parentInjector), this.setDisposeFn(() => e.destroy())) : (e = n.create(t.injector || this._defaultInjector), this._appRef.attachView(e.hostView), this.setDisposeFn(() => { this._appRef.detachView(e.hostView), e.destroy() })), this.outletElement.appendChild(this._getComponentRootNode(e)), e } attachTemplatePortal(t) { let e = t.viewContainerRef, n = e.createEmbeddedView(t.templateRef, t.context); return n.detectChanges(), n.rootNodes.forEach(t => this.outletElement.appendChild(t)), this.setDisposeFn(() => { let t = e.indexOf(n); -1 !== t && e.remove(t) }), n } dispose() { super.dispose(), null != this.outletElement.parentNode && this.outletElement.parentNode.removeChild(this.outletElement) } _getComponentRootNode(t) { return t.hostView.rootNodes[0] } } class He extends Le { constructor(t, e) { super(), this._componentFactoryResolver = t, this._viewContainerRef = e, this._isInitialized = !1, this.attached = new l.m } get _deprecatedPortal() { return this.portal } set _deprecatedPortal(t) { this.portal = t } get _deprecatedPortalHost() { return this.portal } set _deprecatedPortalHost(t) { this.portal = t } get portal() { return this._attachedPortal } set portal(t) { (!this.hasAttached() || t || this._isInitialized) && (this.hasAttached() && super.detach(), t && super.attach(t), this._attachedPortal = t) } get attachedRef() { return this._attachedRef } ngOnInit() { this._isInitialized = !0 } ngOnDestroy() { super.dispose(), this._attachedPortal = null, this._attachedRef = null } attachComponentPortal(t) { t.setAttachedHost(this); const e = null != t.viewContainerRef ? t.viewContainerRef : this._viewContainerRef, n = this._componentFactoryResolver.resolveComponentFactory(t.component), l = e.createComponent(n, e.length, t.injector || e.parentInjector); return super.setDisposeFn(() => l.destroy()), this._attachedPortal = t, this._attachedRef = l, this.attached.emit(l), l } attachTemplatePortal(t) { t.setAttachedHost(this); const e = this._viewContainerRef.createEmbeddedView(t.templateRef, t.context); return super.setDisposeFn(() => this._viewContainerRef.clear()), this._attachedPortal = t, this._attachedRef = e, this.attached.emit(e), e } } class Ue { } class Be { enable() { } disable() { } attach() { } } class $e { constructor(t) { this.scrollStrategy = new Be, this.panelClass = "", this.hasBackdrop = !1, this.backdropClass = "cdk-overlay-dark-backdrop", this.direction = "ltr", t && Object.keys(t).filter(e => "undefined" != typeof t[e]).forEach(e => this[e] = t[e]) } } class We { constructor(t, e, n, l) { this.offsetX = n, this.offsetY = l, this.originX = t.originX, this.originY = t.originY, this.overlayX = e.overlayX, this.overlayY = e.overlayY } } class Ge { constructor(t, e) { this.connectionPair = t, this.scrollableViewProperties = e } } function qe() { return Error("Scroll strategy has already been attached.") } class Qe { constructor(t, e, n, l) { this._scrollDispatcher = t, this._ngZone = e, this._viewportRuler = n, this._config = l, this._scrollSubscription = null, this._detach = (() => { this.disable(), this._overlayRef.hasAttached() && this._ngZone.run(() => this._overlayRef.detach()) }) } attach(t) { if (this._overlayRef) throw qe(); this._overlayRef = t } enable() { if (this._scrollSubscription) return; const t = this._scrollDispatcher.scrolled(0); this._config && this._config.threshold && this._config.threshold > 1 ? (this._initialScrollPosition = this._viewportRuler.getViewportScrollPosition().top, this._scrollSubscription = t.subscribe(() => { const t = this._viewportRuler.getViewportScrollPosition().top; Math.abs(t - this._initialScrollPosition) > this._config.threshold ? this._detach() : this._overlayRef.updatePosition() })) : this._scrollSubscription = t.subscribe(this._detach) } disable() { this._scrollSubscription && (this._scrollSubscription.unsubscribe(), this._scrollSubscription = null) } } class Ke { constructor(t, e) { this._viewportRuler = t, this._previousHTMLStyles = { top: "", left: "" }, this._isEnabled = !1, this._document = e } attach() { } enable() { if (this._canBeEnabled()) { const t = this._document.documentElement; this._previousScrollPosition = this._viewportRuler.getViewportScrollPosition(), this._previousHTMLStyles.left = t.style.left || "", this._previousHTMLStyles.top = t.style.top || "", t.style.left = `${-this._previousScrollPosition.left}px`, t.style.top = `${-this._previousScrollPosition.top}px`, t.classList.add("cdk-global-scrollblock"), this._isEnabled = !0 } } disable() { if (this._isEnabled) { const t = this._document.documentElement, e = this._document.body, n = t.style.scrollBehavior || "", l = e.style.scrollBehavior || ""; this._isEnabled = !1, t.style.left = this._previousHTMLStyles.left, t.style.top = this._previousHTMLStyles.top, t.classList.remove("cdk-global-scrollblock"), t.style.scrollBehavior = e.style.scrollBehavior = "auto", window.scroll(this._previousScrollPosition.left, this._previousScrollPosition.top), t.style.scrollBehavior = n, e.style.scrollBehavior = l } } _canBeEnabled() { if (this._document.documentElement.classList.contains("cdk-global-scrollblock") || this._isEnabled) return !1; const t = this._document.body, e = this._viewportRuler.getViewportSize(); return t.scrollHeight > e.height || t.scrollWidth > e.width } } function Je(t, e) { return e.some(e => t.bottom < e.top || t.top > e.bottom || t.right < e.left || t.left > e.right) } function Ze(t, e) { return e.some(e => t.top < e.top || t.bottom > e.bottom || t.left < e.left || t.right > e.right) } class Ye { constructor(t, e, n, l) { this._scrollDispatcher = t, this._viewportRuler = e, this._ngZone = n, this._config = l, this._scrollSubscription = null } attach(t) { if (this._overlayRef) throw qe(); this._overlayRef = t } enable() { this._scrollSubscription || (this._scrollSubscription = this._scrollDispatcher.scrolled(this._config ? this._config.scrollThrottle : 0).subscribe(() => { if (this._overlayRef.updatePosition(), this._config && this._config.autoClose) { const t = this._overlayRef.overlayElement.getBoundingClientRect(), { width: e, height: n } = this._viewportRuler.getViewportSize(); Je(t, [{ width: e, height: n, bottom: n, right: e, top: 0, left: 0 }]) && (this.disable(), this._ngZone.run(() => this._overlayRef.detach())) } })) } disable() { this._scrollSubscription && (this._scrollSubscription.unsubscribe(), this._scrollSubscription = null) } } class Xe { constructor(t, e, n, l) { this._scrollDispatcher = t, this._viewportRuler = e, this._ngZone = n, this.noop = (() => new Be), this.close = (t => new Qe(this._scrollDispatcher, this._ngZone, this._viewportRuler, t)), this.block = (() => new Ke(this._viewportRuler, this._document)), this.reposition = (t => new Ye(this._scrollDispatcher, this._viewportRuler, this._ngZone, t)), this._document = l } } class tn { constructor(t, e, n, l, s, i) { this._portalOutlet = t, this._pane = e, this._config = n, this._ngZone = l, this._keyboardDispatcher = s, this._document = i, this._backdropElement = null, this._backdropClick = new St.a, this._attachments = new St.a, this._detachments = new St.a, this._keydownEvents = new St.a, n.scrollStrategy && n.scrollStrategy.attach(this) } get overlayElement() { return this._pane } get backdropElement() { return this._backdropElement } attach(t) { let e = this._portalOutlet.attach(t); return this._config.positionStrategy && this._config.positionStrategy.attach(this), this._updateStackingOrder(), this._updateElementSize(), this._updateElementDirection(), this._config.scrollStrategy && this._config.scrollStrategy.enable(), this._ngZone.onStable.asObservable().pipe(h(1)).subscribe(() => { this.hasAttached() && this.updatePosition() }), this._togglePointerEvents(!0), this._config.hasBackdrop && this._attachBackdrop(), this._config.panelClass && (Array.isArray(this._config.panelClass) ? this._config.panelClass.forEach(t => this._pane.classList.add(t)) : this._pane.classList.add(this._config.panelClass)), this._attachments.next(), this._keyboardDispatcher.add(this), e } detach() { if (!this.hasAttached()) return; this.detachBackdrop(), this._togglePointerEvents(!1), this._config.positionStrategy && this._config.positionStrategy.detach && this._config.positionStrategy.detach(), this._config.scrollStrategy && this._config.scrollStrategy.disable(); const t = this._portalOutlet.detach(); return this._detachments.next(), this._keyboardDispatcher.remove(this), t } dispose() { const t = this.hasAttached(); this._config.positionStrategy && this._config.positionStrategy.dispose(), this._config.scrollStrategy && this._config.scrollStrategy.disable(), this.detachBackdrop(), this._keyboardDispatcher.remove(this), this._portalOutlet.dispose(), this._attachments.complete(), this._backdropClick.complete(), this._keydownEvents.complete(), t && this._detachments.next(), this._detachments.complete() } hasAttached() { return this._portalOutlet.hasAttached() } backdropClick() { return this._backdropClick.asObservable() } attachments() { return this._attachments.asObservable() } detachments() { return this._detachments.asObservable() } keydownEvents() { return this._keydownEvents.asObservable() } getConfig() { return this._config } updatePosition() { this._config.positionStrategy && this._config.positionStrategy.apply() } updateSize(t) { this._config = Object.assign({}, this._config, t), this._updateElementSize() } setDirection(t) { this._config = Object.assign({}, this._config, { direction: t }), this._updateElementDirection() } _updateElementDirection() { this._pane.setAttribute("dir", this._config.direction) } _updateElementSize() { (this._config.width || 0 === this._config.width) && (this._pane.style.width = en(this._config.width)), (this._config.height || 0 === this._config.height) && (this._pane.style.height = en(this._config.height)), (this._config.minWidth || 0 === this._config.minWidth) && (this._pane.style.minWidth = en(this._config.minWidth)), (this._config.minHeight || 0 === this._config.minHeight) && (this._pane.style.minHeight = en(this._config.minHeight)), (this._config.maxWidth || 0 === this._config.maxWidth) && (this._pane.style.maxWidth = en(this._config.maxWidth)), (this._config.maxHeight || 0 === this._config.maxHeight) && (this._pane.style.maxHeight = en(this._config.maxHeight)) } _togglePointerEvents(t) { this._pane.style.pointerEvents = t ? "auto" : "none" } _attachBackdrop() { this._backdropElement = this._document.createElement("div"), this._backdropElement.classList.add("cdk-overlay-backdrop"), this._config.backdropClass && this._backdropElement.classList.add(this._config.backdropClass), this._pane.parentElement.insertBefore(this._backdropElement, this._pane), this._backdropElement.addEventListener("click", t => this._backdropClick.next(t)), "undefined" != typeof requestAnimationFrame ? this._ngZone.runOutsideAngular(() => { requestAnimationFrame(() => { this._backdropElement && this._backdropElement.classList.add("cdk-overlay-backdrop-showing") }) }) : this._backdropElement.classList.add("cdk-overlay-backdrop-showing") } _updateStackingOrder() { this._pane.nextSibling && this._pane.parentNode.appendChild(this._pane) } detachBackdrop() { let t = this._backdropElement; if (t) { let e = () => { t && t.parentNode && t.parentNode.removeChild(t), this._backdropElement == t && (this._backdropElement = null) }; t.classList.remove("cdk-overlay-backdrop-showing"), this._config.backdropClass && t.classList.remove(this._config.backdropClass), t.addEventListener("transitionend", e), t.style.pointerEvents = "none", this._ngZone.runOutsideAngular(() => { setTimeout(e, 500) }) } } } function en(t) { return "string" == typeof t ? t : `${t}px` } class nn { constructor(t, e, n, l, s) { this._connectedTo = n, this._viewportRuler = l, this._document = s, this._dir = "ltr", this._offsetX = 0, this._offsetY = 0, this.scrollables = [], this._resizeSubscription = Et.a.EMPTY, this._preferredPositions = [], this._applied = !1, this._positionLocked = !1, this._onPositionChange = new St.a, this._origin = this._connectedTo.nativeElement, this.withFallbackPosition(t, e) } get _isRtl() { return "rtl" === this._dir } get onPositionChange() { return this._onPositionChange.asObservable() } get positions() { return this._preferredPositions } attach(t) { this._pane = t.overlayElement, this._resizeSubscription.unsubscribe(), this._resizeSubscription = this._viewportRuler.change().subscribe(() => this.apply()) } dispose() { this._applied = !1, this._resizeSubscription.unsubscribe(), this._onPositionChange.complete() } detach() { this._applied = !1, this._resizeSubscription.unsubscribe() } apply() { if (this._applied && this._positionLocked && this._lastConnectedPosition) return void this.recalculateLastPosition(); this._applied = !0; const t = this._pane, e = this._origin.getBoundingClientRect(), n = t.getBoundingClientRect(), l = this._viewportRuler.getViewportSize(); let s, i; for (let r of this._preferredPositions) { let o = this._getOriginConnectionPoint(e, r), a = this._getOverlayPoint(o, n, l, r); if (a.fitsInViewport) return this._setElementPosition(t, n, a, r), void (this._lastConnectedPosition = r); (!s || s.visibleArea < a.visibleArea) && (s = a, i = r) } this._setElementPosition(t, n, s, i) } recalculateLastPosition() { if (!this._lastConnectedPosition) return; const t = this._origin.getBoundingClientRect(), e = this._pane.getBoundingClientRect(), n = this._viewportRuler.getViewportSize(), l = this._lastConnectedPosition || this._preferredPositions[0]; let s = this._getOriginConnectionPoint(t, l), i = this._getOverlayPoint(s, e, n, l); this._setElementPosition(this._pane, e, i, l) } withScrollableContainers(t) { this.scrollables = t } withFallbackPosition(t, e, n, l) { const s = new We(t, e, n, l); return this._preferredPositions.push(s), this } withDirection(t) { return this._dir = t, this } withOffsetX(t) { return this._offsetX = t, this } withOffsetY(t) { return this._offsetY = t, this } withLockedPosition(t) { return this._positionLocked = t, this } withPositions(t) { return this._preferredPositions = t.slice(), this } setOrigin(t) { return this._origin = t.nativeElement, this } _getStartX(t) { return this._isRtl ? t.right : t.left } _getEndX(t) { return this._isRtl ? t.left : t.right } _getOriginConnectionPoint(t, e) { const n = this._getStartX(t), l = this._getEndX(t); let s, i; return { x: s = "center" == e.originX ? n + t.width / 2 : "start" == e.originX ? n : l, y: i = "center" == e.originY ? t.top + t.height / 2 : "top" == e.originY ? t.top : t.bottom } } _getOverlayPoint(t, e, n, l) { let s, i, r = t.x + (s = "center" == l.overlayX ? -e.width / 2 : "start" === l.overlayX ? this._isRtl ? -e.width : 0 : this._isRtl ? 0 : -e.width) + ("undefined" == typeof l.offsetX ? this._offsetX : l.offsetX), o = t.y + (i = "center" == l.overlayY ? -e.height / 2 : "top" == l.overlayY ? 0 : -e.height) + ("undefined" == typeof l.offsetY ? this._offsetY : l.offsetY), a = 0 - o, u = o + e.height - n.height, c = this._subtractOverflows(e.width, 0 - r, r + e.width - n.width) * this._subtractOverflows(e.height, a, u); return { x: r, y: o, fitsInViewport: e.width * e.height === c, visibleArea: c } } _getScrollVisibility(t) { const e = this._origin.getBoundingClientRect(), n = t.getBoundingClientRect(), l = this.scrollables.map(t => t.getElementRef().nativeElement.getBoundingClientRect()); return { isOriginClipped: Ze(e, l), isOriginOutsideView: Je(e, l), isOverlayClipped: Ze(n, l), isOverlayOutsideView: Je(n, l) } } _setElementPosition(t, e, n, l) { let s, i = "bottom" === l.overlayY ? "bottom" : "top", r = "top" === i ? n.y : this._document.documentElement.clientHeight - (n.y + e.height), o = "left" == (s = "rtl" === this._dir ? "end" === l.overlayX ? "left" : "right" : "end" === l.overlayX ? "right" : "left") ? n.x : this._document.documentElement.clientWidth - (n.x + e.width);["top", "bottom", "left", "right"].forEach(e => t.style[e] = null), t.style[i] = `${r}px`, t.style[s] = `${o}px`; const a = this._getScrollVisibility(t), u = new Ge(l, a); this._onPositionChange.next(u) } _subtractOverflows(t, ...e) { return e.reduce((t, e) => t - Math.max(e, 0), t) } } class ln { constructor(t) { this._document = t, this._cssPosition = "static", this._topOffset = "", this._bottomOffset = "", this._leftOffset = "", this._rightOffset = "", this._alignItems = "", this._justifyContent = "", this._width = "", this._height = "", this._wrapper = null } attach(t) { const e = t.getConfig(); this._overlayRef = t, this._width && !e.width && t.updateSize({ width: this._width }), this._height && !e.height && t.updateSize({ height: this._height }) } top(t = "") { return this._bottomOffset = "", this._topOffset = t, this._alignItems = "flex-start", this } left(t = "") { return this._rightOffset = "", this._leftOffset = t, this._justifyContent = "flex-start", this } bottom(t = "") { return this._topOffset = "", this._bottomOffset = t, this._alignItems = "flex-end", this } right(t = "") { return this._leftOffset = "", this._rightOffset = t, this._justifyContent = "flex-end", this } width(t = "") { return this._overlayRef ? this._overlayRef.updateSize({ width: t }) : this._width = t, this } height(t = "") { return this._overlayRef ? this._overlayRef.updateSize({ height: t }) : this._height = t, this } centerHorizontally(t = "") { return this.left(t), this._justifyContent = "center", this } centerVertically(t = "") { return this.top(t), this._alignItems = "center", this } apply() { if (!this._overlayRef.hasAttached()) return; const t = this._overlayRef.overlayElement; !this._wrapper && t.parentNode && (this._wrapper = this._document.createElement("div"), this._wrapper.classList.add("cdk-global-overlay-wrapper"), t.parentNode.insertBefore(this._wrapper, t), this._wrapper.appendChild(t)); const e = t.style, n = t.parentNode.style, l = this._overlayRef.getConfig(); e.position = this._cssPosition, e.marginLeft = "100%" === l.width ? "0" : this._leftOffset, e.marginTop = "100%" === l.height ? "0" : this._topOffset, e.marginBottom = this._bottomOffset, e.marginRight = this._rightOffset, n.justifyContent = "100%" === l.width ? "flex-start" : this._justifyContent, n.alignItems = "100%" === l.height ? "flex-start" : this._alignItems } dispose() { this._wrapper && this._wrapper.parentNode && (this._wrapper.parentNode.removeChild(this._wrapper), this._wrapper = null) } } class sn { constructor(t, e) { this._viewportRuler = t, this._document = e } global() { return new ln(this._document) } connectedTo(t, e, n) { return new nn(e, n, t, this._viewportRuler, this._document) } } class rn { constructor(t) { this._document = t, this._attachedOverlays = [] } ngOnDestroy() { this._unsubscribeFromKeydownEvents() } add(t) { this._keydownEventSubscription || this._subscribeToKeydownEvents(), this._attachedOverlays.push(t) } remove(t) { const e = this._attachedOverlays.indexOf(t); e > -1 && this._attachedOverlays.splice(e, 1), 0 === this._attachedOverlays.length && this._unsubscribeFromKeydownEvents() } _subscribeToKeydownEvents() { const t = me(this._document.body, "keydown", !0); this._keydownEventSubscription = t.pipe(Rt(() => !!this._attachedOverlays.length)).subscribe(t => { this._selectOverlayFromEvent(t)._keydownEvents.next(t) }) } _unsubscribeFromKeydownEvents() { this._keydownEventSubscription && (this._keydownEventSubscription.unsubscribe(), this._keydownEventSubscription = null) } _selectOverlayFromEvent(t) { return this._attachedOverlays.find(e => e.overlayElement === t.target || e.overlayElement.contains(t.target)) || this._attachedOverlays[this._attachedOverlays.length - 1] } } function on(t, e) { return t || new rn(e) } new l.y, new l.G; class an { constructor(t) { this._document = t } ngOnDestroy() { this._containerElement && this._containerElement.parentNode && this._containerElement.parentNode.removeChild(this._containerElement) } getContainerElement() { return this._containerElement || this._createContainer(), this._containerElement } _createContainer() { const t = this._document.createElement("div"); t.classList.add("cdk-overlay-container"), this._document.body.appendChild(t), this._containerElement = t } } function un(t, e) { return t || new an(e) } new l.y, new l.G; let cn = 0; class hn { constructor(t, e, n, l, s, i, r, o, a) { this.scrollStrategies = t, this._overlayContainer = e, this._componentFactoryResolver = n, this._positionBuilder = l, this._keyboardDispatcher = s, this._appRef = i, this._injector = r, this._ngZone = o, this._document = a } create(t) { const e = this._createPaneElement(), n = this._createPortalOutlet(e); return new tn(n, e, new $e(t), this._ngZone, this._keyboardDispatcher, this._document) } position() { return this._positionBuilder } _createPaneElement() { const t = this._document.createElement("div"); return t.id = `cdk-overlay-${cn++}`, t.classList.add("cdk-overlay-pane"), this._overlayContainer.getContainerElement().appendChild(t), t } _createPortalOutlet(t) { return new ze(t, this._componentFactoryResolver, this._appRef, this._injector) } } new We({ originX: "start", originY: "bottom" }, { overlayX: "start", overlayY: "top" }), new We({ originX: "start", originY: "top" }, { overlayX: "start", overlayY: "bottom" }), new We({ originX: "end", originY: "top" }, { overlayX: "end", overlayY: "bottom" }), new We({ originX: "end", originY: "bottom" }, { overlayX: "end", overlayY: "top" }); const dn = new l.o("cdk-connected-overlay-scroll-strategy"); function pn(t) { return () => t.scrollStrategies.reposition() } class mn { } let gn = null; function fn() { return gn } class _n { constructor() { this.resourceLoaderType = null } get attrToPropMap() { return this._attrToPropMap } set attrToPropMap(t) { this._attrToPropMap = t } } class yn extends _n { constructor() { super(), this._animationPrefix = null, this._transitionEnd = null; try { const t = this.createElement("div", document); if (null != this.getStyle(t, "animationName")) this._animationPrefix = ""; else { const e = ["Webkit", "Moz", "O", "ms"]; for (let n = 0; n < e.length; n++)if (null != this.getStyle(t, e[n] + "AnimationName")) { this._animationPrefix = "-" + e[n].toLowerCase() + "-"; break } } const e = { WebkitTransition: "webkitTransitionEnd", MozTransition: "transitionend", OTransition: "oTransitionEnd otransitionend", transition: "transitionend" }; Object.keys(e).forEach(n => { null != this.getStyle(t, n) && (this._transitionEnd = e[n]) }) } catch (t) { this._animationPrefix = null, this._transitionEnd = null } } getDistributedNodes(t) { return t.getDistributedNodes() } resolveAndSetHref(t, e, n) { t.href = null == n ? e : e + "/../" + n } supportsDOMEvents() { return !0 } supportsNativeShadowDOM() { return "function" == typeof document.body.createShadowRoot } getAnimationPrefix() { return this._animationPrefix ? this._animationPrefix : "" } getTransitionEnd() { return this._transitionEnd ? this._transitionEnd : "" } supportsAnimation() { return null != this._animationPrefix && null != this._transitionEnd } } const bn = { class: "className", innerHtml: "innerHTML", readonly: "readOnly", tabindex: "tabIndex" }, wn = 3, vn = { "\b": "Backspace", "\t": "Tab", "\x7f": "Delete", "\x1b": "Escape", Del: "Delete", Esc: "Escape", Left: "ArrowLeft", Right: "ArrowRight", Up: "ArrowUp", Down: "ArrowDown", Menu: "ContextMenu", Scroll: "ScrollLock", Win: "OS" }, xn = { A: "1", B: "2", C: "3", D: "4", E: "5", F: "6", G: "7", H: "8", I: "9", J: "*", K: "+", M: "-", N: ".", O: "/", "`": "0", "\x90": "NumLock" }; let Cn; l._4.Node && (Cn = l._4.Node.prototype.contains || function (t) { return !!(16 & this.compareDocumentPosition(t)) }); class Sn extends yn { parse(t) { throw new Error("parse not implemented") } static makeCurrent() { !function (t) { gn || (gn = t) }(new Sn) } hasProperty(t, e) { return e in t } setProperty(t, e, n) { t[e] = n } getProperty(t, e) { return t[e] } invoke(t, e, n) { t[e](...n) } logError(t) { window.console && (console.error ? console.error(t) : console.log(t)) } log(t) { window.console && window.console.log && window.console.log(t) } logGroup(t) { window.console && window.console.group && window.console.group(t) } logGroupEnd() { window.console && window.console.groupEnd && window.console.groupEnd() } get attrToPropMap() { return bn } contains(t, e) { return Cn.call(t, e) } querySelector(t, e) { return t.querySelector(e) } querySelectorAll(t, e) { return t.querySelectorAll(e) } on(t, e, n) { t.addEventListener(e, n, !1) } onAndCancel(t, e, n) { return t.addEventListener(e, n, !1), () => { t.removeEventListener(e, n, !1) } } dispatchEvent(t, e) { t.dispatchEvent(e) } createMouseEvent(t) { const e = this.getDefaultDocument().createEvent("MouseEvent"); return e.initEvent(t, !0, !0), e } createEvent(t) { const e = this.getDefaultDocument().createEvent("Event"); return e.initEvent(t, !0, !0), e } preventDefault(t) { t.preventDefault(), t.returnValue = !1 } isPrevented(t) { return t.defaultPrevented || null != t.returnValue && !t.returnValue } getInnerHTML(t) { return t.innerHTML } getTemplateContent(t) { return "content" in t && this.isTemplateElement(t) ? t.content : null } getOuterHTML(t) { return t.outerHTML } nodeName(t) { return t.nodeName } nodeValue(t) { return t.nodeValue } type(t) { return t.type } content(t) { return this.hasProperty(t, "content") ? t.content : t } firstChild(t) { return t.firstChild } nextSibling(t) { return t.nextSibling } parentElement(t) { return t.parentNode } childNodes(t) { return t.childNodes } childNodesAsList(t) { const e = t.childNodes, n = new Array(e.length); for (let l = 0; l < e.length; l++)n[l] = e[l]; return n } clearNodes(t) { for (; t.firstChild;)t.removeChild(t.firstChild) } appendChild(t, e) { t.appendChild(e) } removeChild(t, e) { t.removeChild(e) } replaceChild(t, e, n) { t.replaceChild(e, n) } remove(t) { return t.parentNode && t.parentNode.removeChild(t), t } insertBefore(t, e, n) { t.insertBefore(n, e) } insertAllBefore(t, e, n) { n.forEach(n => t.insertBefore(n, e)) } insertAfter(t, e, n) { t.insertBefore(n, e.nextSibling) } setInnerHTML(t, e) { t.innerHTML = e } getText(t) { return t.textContent } setText(t, e) { t.textContent = e } getValue(t) { return t.value } setValue(t, e) { t.value = e } getChecked(t) { return t.checked } setChecked(t, e) { t.checked = e } createComment(t) { return this.getDefaultDocument().createComment(t) } createTemplate(t) { const e = this.getDefaultDocument().createElement("template"); return e.innerHTML = t, e } createElement(t, e) { return (e = e || this.getDefaultDocument()).createElement(t) } createElementNS(t, e, n) { return (n = n || this.getDefaultDocument()).createElementNS(t, e) } createTextNode(t, e) { return (e = e || this.getDefaultDocument()).createTextNode(t) } createScriptTag(t, e, n) { const l = (n = n || this.getDefaultDocument()).createElement("SCRIPT"); return l.setAttribute(t, e), l } createStyleElement(t, e) { const n = (e = e || this.getDefaultDocument()).createElement("style"); return this.appendChild(n, this.createTextNode(t, e)), n } createShadowRoot(t) { return t.createShadowRoot() } getShadowRoot(t) { return t.shadowRoot } getHost(t) { return t.host } clone(t) { return t.cloneNode(!0) } getElementsByClassName(t, e) { return t.getElementsByClassName(e) } getElementsByTagName(t, e) { return t.getElementsByTagName(e) } classList(t) { return Array.prototype.slice.call(t.classList, 0) } addClass(t, e) { t.classList.add(e) } removeClass(t, e) { t.classList.remove(e) } hasClass(t, e) { return t.classList.contains(e) } setStyle(t, e, n) { t.style[e] = n } removeStyle(t, e) { t.style[e] = "" } getStyle(t, e) { return t.style[e] } hasStyle(t, e, n) { const l = this.getStyle(t, e) || ""; return n ? l == n : l.length > 0 } tagName(t) { return t.tagName } attributeMap(t) { const e = new Map, n = t.attributes; for (let l = 0; l < n.length; l++) { const t = n.item(l); e.set(t.name, t.value) } return e } hasAttribute(t, e) { return t.hasAttribute(e) } hasAttributeNS(t, e, n) { return t.hasAttributeNS(e, n) } getAttribute(t, e) { return t.getAttribute(e) } getAttributeNS(t, e, n) { return t.getAttributeNS(e, n) } setAttribute(t, e, n) { t.setAttribute(e, n) } setAttributeNS(t, e, n, l) { t.setAttributeNS(e, n, l) } removeAttribute(t, e) { t.removeAttribute(e) } removeAttributeNS(t, e, n) { t.removeAttributeNS(e, n) } templateAwareRoot(t) { return this.isTemplateElement(t) ? this.content(t) : t } createHtmlDocument() { return document.implementation.createHTMLDocument("fakeTitle") } getDefaultDocument() { return document } getBoundingClientRect(t) { try { return t.getBoundingClientRect() } catch (t) { return { top: 0, bottom: 0, left: 0, right: 0, width: 0, height: 0 } } } getTitle(t) { return t.title } setTitle(t, e) { t.title = e || "" } elementMatches(t, e) { return !!this.isElementNode(t) && (t.matches && t.matches(e) || t.msMatchesSelector && t.msMatchesSelector(e) || t.webkitMatchesSelector && t.webkitMatchesSelector(e)) } isTemplateElement(t) { return this.isElementNode(t) && "TEMPLATE" === t.nodeName } isTextNode(t) { return t.nodeType === Node.TEXT_NODE } isCommentNode(t) { return t.nodeType === Node.COMMENT_NODE } isElementNode(t) { return t.nodeType === Node.ELEMENT_NODE } hasShadowRoot(t) { return null != t.shadowRoot && t instanceof HTMLElement } isShadowRoot(t) { return t instanceof DocumentFragment } importIntoDoc(t) { return document.importNode(this.templateAwareRoot(t), !0) } adoptNode(t) { return document.adoptNode(t) } getHref(t) { return t.getAttribute("href") } getEventKey(t) { let e = t.key; if (null == e) { if (null == (e = t.keyIdentifier)) return "Unidentified"; e.startsWith("U+") && (e = String.fromCharCode(parseInt(e.substring(2), 16)), t.location === wn && xn.hasOwnProperty(e) && (e = xn[e])) } return vn[e] || e } getGlobalEventTarget(t, e) { return "window" === e ? window : "document" === e ? t : "body" === e ? t.body : null } getHistory() { return window.history } getLocation() { return window.location } getBaseHref(t) { const e = kn || (kn = document.querySelector("base")) ? kn.getAttribute("href") : null; return null == e ? null : function (t) { return En || (En = document.createElement("a")), En.setAttribute("href", t), "/" === En.pathname.charAt(0) ? En.pathname : "/" + En.pathname }(e) } resetBaseElement() { kn = null } getUserAgent() { return window.navigator.userAgent } setData(t, e, n) { this.setAttribute(t, "data-" + e, n) } getData(t, e) { return this.getAttribute(t, "data-" + e) } getComputedStyle(t) { return getComputedStyle(t) } supportsWebAnimation() { return "function" == typeof Element.prototype.animate } performanceNow() { return window.performance && window.performance.now ? window.performance.now() : (new Date).getTime() } supportsCookies() { return !0 } getCookie(t) { return function (t, e) { e = encodeURIComponent(e); for (const n of t.split(";")) { const t = n.indexOf("="), [l, s] = -1 == t ? [n, ""] : [n.slice(0, t), n.slice(t + 1)]; if (l.trim() === e) return decodeURIComponent(s) } return null }(document.cookie, t) } setCookie(t, e) { document.cookie = encodeURIComponent(t) + "=" + encodeURIComponent(e) } } let En, kn = null; const Tn = Ct; function On() { return !!window.history.pushState } class An extends b { constructor(t) { super(), this._doc = t, this._init() } _init() { this.location = fn().getLocation(), this._history = fn().getHistory() } getBaseHrefFromDOM() { return fn().getBaseHref(this._doc) } onPopState(t) { fn().getGlobalEventTarget(this._doc, "window").addEventListener("popstate", t, !1) } onHashChange(t) { fn().getGlobalEventTarget(this._doc, "window").addEventListener("hashchange", t, !1) } get pathname() { return this.location.pathname } get search() { return this.location.search } get hash() { return this.location.hash } set pathname(t) { this.location.pathname = t } pushState(t, e, n) { On() ? this._history.pushState(t, e, n) : this.location.hash = n } replaceState(t, e, n) { On() ? this._history.replaceState(t, e, n) : this.location.hash = n } forward() { this._history.forward() } back() { this._history.back() } } An.ctorParameters = (() => [{ type: void 0, decorators: [{ type: l.n, args: [Tn] }] }]); class In { constructor(t) { this._doc = t, this._dom = fn() } addTag(t, e = !1) { return t ? this._getOrCreateElement(t, e) : null } addTags(t, e = !1) { return t ? t.reduce((t, n) => (n && t.push(this._getOrCreateElement(n, e)), t), []) : [] } getTag(t) { return t && this._dom.querySelector(this._doc, `meta[${t}]`) || null } getTags(t) { if (!t) return []; const e = this._dom.querySelectorAll(this._doc, `meta[${t}]`); return e ? [].slice.call(e) : [] } updateTag(t, e) { if (!t) return null; e = e || this._parseSelector(t); const n = this.getTag(e); return n ? this._setMetaElementAttributes(t, n) : this._getOrCreateElement(t, !0) } removeTag(t) { this.removeTagElement(this.getTag(t)) } removeTagElement(t) { t && this._dom.remove(t) } _getOrCreateElement(t, e = !1) { if (!e) { const e = this._parseSelector(t), n = this.getTag(e); if (n && this._containsAttributes(t, n)) return n } const n = this._dom.createElement("meta"); this._setMetaElementAttributes(t, n); const l = this._dom.getElementsByTagName(this._doc, "head")[0]; return this._dom.appendChild(l, n), n } _setMetaElementAttributes(t, e) { return Object.keys(t).forEach(n => this._dom.setAttribute(e, n, t[n])), e } _parseSelector(t) { const e = t.name ? "name" : "property"; return `${e}="${t[e]}"` } _containsAttributes(t, e) { return Object.keys(t).every(n => this._dom.getAttribute(e, n) === t[n]) } } const Mn = new l.o("TRANSITION_ID"), Rn = [{ provide: l.d, useFactory: function (t, e, n) { return () => { n.get(l.e).donePromise.then(() => { const n = fn(); Array.prototype.slice.apply(n.querySelectorAll(e, "style[ng-transition]")).filter(e => n.getAttribute(e, "ng-transition") === t).forEach(t => n.remove(t)) }) } }, deps: [Mn, Tn, l.p], multi: !0 }]; class Pn { static init() { Object(l.V)(new Pn) } addToWindow(t) { l._4.getAngularTestability = ((e, n = !0) => { const l = t.findTestabilityInTree(e, n); if (null == l) throw new Error("Could not find testability for element."); return l }), l._4.getAllAngularTestabilities = (() => t.getAllTestabilities()), l._4.getAllAngularRootElements = (() => t.getAllRootElements()), l._4.frameworkStabilizers || (l._4.frameworkStabilizers = []), l._4.frameworkStabilizers.push(t => { const e = l._4.getAllAngularTestabilities(); let n = e.length, s = !1; const i = function (e) { s = s || e, 0 == --n && t(s) }; e.forEach(function (t) { t.whenStable(i) }) }) } findTestabilityInTree(t, e, n) { if (null == e) return null; const l = t.getTestability(e); return null != l ? l : n ? fn().isShadowRoot(e) ? this.findTestabilityInTree(t, fn().getHost(e), !0) : this.findTestabilityInTree(t, fn().parentElement(e), !0) : null } } class Nn { constructor(t) { this._doc = t } getTitle() { return fn().getTitle(this._doc) } setTitle(t) { fn().setTitle(this._doc, t) } } function Dn(t, e) { "undefined" != typeof COMPILED && COMPILED || ((l._4.ng = l._4.ng || {})[t] = e) } const Vn = { ApplicationRef: l.g, NgZone: l.x }; function jn(t) { return Object(l.S)(t) } new l.y; const Fn = new l.o("EventManagerPlugins"); class Ln { constructor(t, e) { this._zone = e, this._eventNameToPlugin = new Map, t.forEach(t => t.manager = this), this._plugins = t.slice().reverse() } addEventListener(t, e, n) { return this._findPluginFor(e).addEventListener(t, e, n) } addGlobalEventListener(t, e, n) { return this._findPluginFor(e).addGlobalEventListener(t, e, n) } getZone() { return this._zone } _findPluginFor(t) { const e = this._eventNameToPlugin.get(t); if (e) return e; const n = this._plugins; for (let l = 0; l < n.length; l++) { const e = n[l]; if (e.supports(t)) return this._eventNameToPlugin.set(t, e), e } throw new Error(`No event manager plugin found for event ${t}`) } } class zn { constructor(t) { this._doc = t } addGlobalEventListener(t, e, n) { const l = fn().getGlobalEventTarget(this._doc, t); if (!l) throw new Error(`Unsupported event target ${l} for event ${e}`); return this.addEventListener(l, e, n) } } class Hn { constructor() { this._stylesSet = new Set } addStyles(t) { const e = new Set; t.forEach(t => { this._stylesSet.has(t) || (this._stylesSet.add(t), e.add(t)) }), this.onStylesAdded(e) } onStylesAdded(t) { } getAllStyles() { return Array.from(this._stylesSet) } } class Un extends Hn { constructor(t) { super(), this._doc = t, this._hostNodes = new Set, this._styleNodes = new Set, this._hostNodes.add(t.head) } _addStylesToHost(t, e) { t.forEach(t => { const n = this._doc.createElement("style"); n.textContent = t, this._styleNodes.add(e.appendChild(n)) }) } addHost(t) { this._addStylesToHost(this._stylesSet, t), this._hostNodes.add(t) } removeHost(t) { this._hostNodes.delete(t) } onStylesAdded(t) { this._hostNodes.forEach(e => this._addStylesToHost(t, e)) } ngOnDestroy() { this._styleNodes.forEach(t => fn().remove(t)) } } const Bn = { svg: "http://www.w3.org/2000/svg", xhtml: "http://www.w3.org/1999/xhtml", xlink: "http://www.w3.org/1999/xlink", xml: "http://www.w3.org/XML/1998/namespace", xmlns: "http://www.w3.org/2000/xmlns/" }, $n = /%COMP%/g, Wn = "_nghost-%COMP%", Gn = "_ngcontent-%COMP%"; function qn(t, e, n) { for (let l = 0; l < e.length; l++) { let s = e[l]; Array.isArray(s) ? qn(t, s, n) : (s = s.replace($n, t), n.push(s)) } return n } function Qn(t) { return e => { !1 === t(e) && (e.preventDefault(), e.returnValue = !1) } } class Kn { constructor(t, e) { this.eventManager = t, this.sharedStylesHost = e, this.rendererByCompId = new Map, this.defaultRenderer = new Jn(t) } createRenderer(t, e) { if (!t || !e) return this.defaultRenderer; switch (e.encapsulation) { case l.N.Emulated: { let n = this.rendererByCompId.get(e.id); return n || (n = new Xn(this.eventManager, this.sharedStylesHost, e), this.rendererByCompId.set(e.id, n)), n.applyToHost(t), n } case l.N.Native: return new tl(this.eventManager, this.sharedStylesHost, t, e); default: if (!this.rendererByCompId.has(e.id)) { const t = qn(e.id, e.styles, []); this.sharedStylesHost.addStyles(t), this.rendererByCompId.set(e.id, this.defaultRenderer) } return this.defaultRenderer } } begin() { } end() { } } class Jn { constructor(t) { this.eventManager = t, this.data = Object.create(null) } destroy() { } createElement(t, e) { return e ? document.createElementNS(Bn[e], t) : document.createElement(t) } createComment(t) { return document.createComment(t) } createText(t) { return document.createTextNode(t) } appendChild(t, e) { t.appendChild(e) } insertBefore(t, e, n) { t && t.insertBefore(e, n) } removeChild(t, e) { t && t.removeChild(e) } selectRootElement(t) { let e = "string" == typeof t ? document.querySelector(t) : t; if (!e) throw new Error(`The selector "${t}" did not match any elements`); return e.textContent = "", e } parentNode(t) { return t.parentNode } nextSibling(t) { return t.nextSibling } setAttribute(t, e, n, l) { if (l) { e = `${l}:${e}`; const s = Bn[l]; s ? t.setAttributeNS(s, e, n) : t.setAttribute(e, n) } else t.setAttribute(e, n) } removeAttribute(t, e, n) { if (n) { const l = Bn[n]; l ? t.removeAttributeNS(l, e) : t.removeAttribute(`${n}:${e}`) } else t.removeAttribute(e) } addClass(t, e) { t.classList.add(e) } removeClass(t, e) { t.classList.remove(e) } setStyle(t, e, n, s) { s & l.D.DashCase ? t.style.setProperty(e, n, s & l.D.Important ? "important" : "") : t.style[e] = n } removeStyle(t, e, n) { n & l.D.DashCase ? t.style.removeProperty(e) : t.style[e] = "" } setProperty(t, e, n) { Yn(e, "property"), t[e] = n } setValue(t, e) { t.nodeValue = e } listen(t, e, n) { return Yn(e, "listener"), "string" == typeof t ? this.eventManager.addGlobalEventListener(t, e, Qn(n)) : this.eventManager.addEventListener(t, e, Qn(n)) } } const Zn = "@".charCodeAt(0); function Yn(t, e) { if (t.charCodeAt(0) === Zn) throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`) } class Xn extends Jn { constructor(t, e, n) { super(t), this.component = n; const l = qn(n.id, n.styles, []); e.addStyles(l), this.contentAttr = Gn.replace($n, n.id), this.hostAttr = Wn.replace($n, n.id) } applyToHost(t) { super.setAttribute(t, this.hostAttr, "") } createElement(t, e) { const n = super.createElement(t, e); return super.setAttribute(n, this.contentAttr, ""), n } } class tl extends Jn { constructor(t, e, n, l) { super(t), this.sharedStylesHost = e, this.hostEl = n, this.component = l, this.shadowRoot = n.createShadowRoot(), this.sharedStylesHost.addHost(this.shadowRoot); const s = qn(l.id, l.styles, []); for (let i = 0; i < s.length; i++) { const t = document.createElement("style"); t.textContent = s[i], this.shadowRoot.appendChild(t) } } nodeOrShadowRoot(t) { return t === this.hostEl ? this.shadowRoot : t } destroy() { this.sharedStylesHost.removeHost(this.shadowRoot) } appendChild(t, e) { return super.appendChild(this.nodeOrShadowRoot(t), e) } insertBefore(t, e, n) { return super.insertBefore(this.nodeOrShadowRoot(t), e, n) } removeChild(t, e) { return super.removeChild(this.nodeOrShadowRoot(t), e) } parentNode(t) { return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t))) } } const el = "undefined" != typeof Zone && Zone.__symbol__ || function (t) { return "__zone_symbol__" + t }, nl = el("addEventListener"), ll = el("removeEventListener"), sl = {}, il = "__zone_symbol__propagationStopped", rl = "undefined" != typeof Zone && Zone[el("BLACK_LISTED_EVENTS")]; let ol; rl && (ol = {}, rl.forEach(t => { ol[t] = t })); const al = function (t) { return !!ol && ol.hasOwnProperty(t) }, ul = function (t) { const e = sl[t.type]; if (!e) return; const n = this[e]; if (!n) return; const l = [t]; if (1 === n.length) { const t = n[0]; return t.zone !== Zone.current ? t.zone.run(t.handler, this, l) : t.handler.apply(this, l) } { const e = n.slice(); for (let n = 0; n < e.length && !0 !== t[il]; n++) { const t = e[n]; t.zone !== Zone.current ? t.zone.run(t.handler, this, l) : t.handler.apply(this, l) } } }, cl = { pan: !0, panstart: !0, panmove: !0, panend: !0, pancancel: !0, panleft: !0, panright: !0, panup: !0, pandown: !0, pinch: !0, pinchstart: !0, pinchmove: !0, pinchend: !0, pinchcancel: !0, pinchin: !0, pinchout: !0, press: !0, pressup: !0, rotate: !0, rotatestart: !0, rotatemove: !0, rotateend: !0, rotatecancel: !0, swipe: !0, swipeleft: !0, swiperight: !0, swipeup: !0, swipedown: !0, tap: !0 }, hl = new l.o("HammerGestureConfig"); class dl { constructor() { this.events = [], this.overrides = {} } buildHammer(t) { const e = new Hammer(t); e.get("pinch").set({ enable: !0 }), e.get("rotate").set({ enable: !0 }); for (const n in this.overrides) e.get(n).set(this.overrides[n]); return e } } const pl = ["alt", "control", "meta", "shift"], ml = { alt: t => t.altKey, control: t => t.ctrlKey, meta: t => t.metaKey, shift: t => t.shiftKey }; class gl extends zn { constructor(t) { super(t) } supports(t) { return null != gl.parseEventName(t) } addEventListener(t, e, n) { const l = gl.parseEventName(e), s = gl.eventCallback(l.fullKey, n, this.manager.getZone()); return this.manager.getZone().runOutsideAngular(() => fn().onAndCancel(t, l.domEventName, s)) } static parseEventName(t) { const e = t.toLowerCase().split("."), n = e.shift(); if (0 === e.length || "keydown" !== n && "keyup" !== n) return null; const l = gl._normalizeKey(e.pop()); let s = ""; if (pl.forEach(t => { const n = e.indexOf(t); n > -1 && (e.splice(n, 1), s += t + ".") }), s += l, 0 != e.length || 0 === l.length) return null; const i = {}; return i.domEventName = n, i.fullKey = s, i } static getEventFullKey(t) { let e = "", n = fn().getEventKey(t); return " " === (n = n.toLowerCase()) ? n = "space" : "." === n && (n = "dot"), pl.forEach(l => { l != n && (0, ml[l])(t) && (e += l + ".") }), e += n } static eventCallback(t, e, n) { return l => { gl.getEventFullKey(l) === t && n.runGuarded(() => e(l)) } } static _normalizeKey(t) { switch (t) { case "esc": return "escape"; default: return t } } } class fl { constructor(t, e) { this.defaultDoc = t, this.DOM = e; const n = this.DOM.createHtmlDocument(); if (this.inertBodyElement = n.body, null == this.inertBodyElement) { const t = this.DOM.createElement("html", n); this.inertBodyElement = this.DOM.createElement("body", n), this.DOM.appendChild(t, this.inertBodyElement), this.DOM.appendChild(n, t) } this.DOM.setInnerHTML(this.inertBodyElement, '<svg><g onload="this.parentNode.remove()"></g></svg>'), !this.inertBodyElement.querySelector || this.inertBodyElement.querySelector("svg") ? (this.DOM.setInnerHTML(this.inertBodyElement, '<svg><p><style><img src="</style><img src=x onerror=alert(1)//">'), this.getInertBodyElement = this.inertBodyElement.querySelector && this.inertBodyElement.querySelector("svg img") && function () { try { return !!window.DOMParser } catch (t) { return !1 } }() ? this.getInertBodyElement_DOMParser : this.getInertBodyElement_InertDocument) : this.getInertBodyElement = this.getInertBodyElement_XHR } getInertBodyElement_XHR(t) { t = "<body><remove></remove>" + t + "</body>"; try { t = encodeURI(t) } catch (t) { return null } const e = new XMLHttpRequest; e.responseType = "document", e.open("GET", "data:text/html;charset=utf-8," + t, !1), e.send(null); const n = e.response.body; return n.removeChild(n.firstChild), n } getInertBodyElement_DOMParser(t) { t = "<body><remove></remove>" + t + "</body>"; try { const e = (new window.DOMParser).parseFromString(t, "text/html").body; return e.removeChild(e.firstChild), e } catch (t) { return null } } getInertBodyElement_InertDocument(t) { const e = this.DOM.createElement("template"); return "content" in e ? (this.DOM.setInnerHTML(e, t), e) : (this.DOM.setInnerHTML(this.inertBodyElement, t), this.defaultDoc.documentMode && this.stripCustomNsAttrs(this.inertBodyElement), this.inertBodyElement) } stripCustomNsAttrs(t) { this.DOM.attributeMap(t).forEach((e, n) => { "xmlns:ns1" !== n && 0 !== n.indexOf("ns1:") || this.DOM.removeAttribute(t, n) }); for (const e of this.DOM.childNodesAsList(t)) this.DOM.isElementNode(e) && this.stripCustomNsAttrs(e) } } const _l = /^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi, yl = /^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i; function bl(t) { return (t = String(t)).match(_l) || t.match(yl) ? t : (Object(l.T)() && fn().log(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`), "unsafe:" + t) } function wl(t) { const e = {}; for (const n of t.split(",")) e[n] = !0; return e } function vl(...t) { const e = {}; for (const n of t) for (const t in n) n.hasOwnProperty(t) && (e[t] = !0); return e } const xl = wl("area,br,col,hr,img,wbr"), Cl = wl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"), Sl = wl("rp,rt"), El = vl(Sl, Cl), kl = vl(Cl, wl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")), Tl = vl(Sl, wl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")), Ol = vl(xl, kl, Tl, El), Al = wl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"), Il = wl("srcset"), Ml = wl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"), Rl = vl(Al, Il, Ml); class Pl { constructor() { this.sanitizedSomething = !1, this.buf = [], this.DOM = fn() } sanitizeChildren(t) { let e = this.DOM.firstChild(t); for (; e;)if (this.DOM.isElementNode(e) ? this.startElement(e) : this.DOM.isTextNode(e) ? this.chars(this.DOM.nodeValue(e)) : this.sanitizedSomething = !0, this.DOM.firstChild(e)) e = this.DOM.firstChild(e); else for (; e;) { this.DOM.isElementNode(e) && this.endElement(e); let t = this.checkClobberedElement(e, this.DOM.nextSibling(e)); if (t) { e = t; break } e = this.checkClobberedElement(e, this.DOM.parentElement(e)) } return this.buf.join("") } startElement(t) { const e = this.DOM.nodeName(t).toLowerCase(); Ol.hasOwnProperty(e) ? (this.buf.push("<"), this.buf.push(e), this.DOM.attributeMap(t).forEach((t, e) => { const n = e.toLowerCase(); Rl.hasOwnProperty(n) ? (Al[n] && (t = bl(t)), Il[n] && (t = String(t).split(",").map(t => bl(t.trim())).join(", ")), this.buf.push(" "), this.buf.push(e), this.buf.push('="'), this.buf.push(Vl(t)), this.buf.push('"')) : this.sanitizedSomething = !0 }), this.buf.push(">")) : this.sanitizedSomething = !0 } endElement(t) { const e = this.DOM.nodeName(t).toLowerCase(); Ol.hasOwnProperty(e) && !xl.hasOwnProperty(e) && (this.buf.push("</"), this.buf.push(e), this.buf.push(">")) } chars(t) { this.buf.push(Vl(t)) } checkClobberedElement(t, e) { if (e && this.DOM.contains(t, e)) throw new Error(`Failed to sanitize html because the element is clobbered: ${this.DOM.getOuterHTML(t)}`); return e } } const Nl = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g, Dl = /([^\#-~ |!])/g; function Vl(t) { return t.replace(/&/g, "&amp;").replace(Nl, function (t) { return "&#" + (1024 * (t.charCodeAt(0) - 55296) + (t.charCodeAt(1) - 56320) + 65536) + ";" }).replace(Dl, function (t) { return "&#" + t.charCodeAt(0) + ";" }).replace(/</g, "&lt;").replace(/>/g, "&gt;") } let jl; const Fl = new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$", "g"), Ll = /^url\(([^)]+)\)$/; class zl { } class Hl extends zl { constructor(t) { super(), this._doc = t } sanitize(t, e) { if (null == e) return null; switch (t) { case l.F.NONE: return e; case l.F.HTML: return e instanceof Bl ? e.changingThisBreaksApplicationSecurity : (this.checkNotSafeValue(e, "HTML"), function (t, e) { const n = fn(); let s = null; try { jl = jl || new fl(t, n); let i = e ? String(e) : ""; s = jl.getInertBodyElement(i); let r = 5, o = i; do { if (0 === r) throw new Error("Failed to sanitize html because the input is unstable"); r-- , i = o, o = n.getInnerHTML(s), s = jl.getInertBodyElement(i) } while (i !== o); const a = new Pl, u = a.sanitizeChildren(n.getTemplateContent(s) || s); return Object(l.T)() && a.sanitizedSomething && n.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."), u } finally { if (s) { const t = n.getTemplateContent(s) || s; for (const e of n.childNodesAsList(t)) n.removeChild(t, e) } } }(this._doc, String(e))); case l.F.STYLE: return e instanceof $l ? e.changingThisBreaksApplicationSecurity : (this.checkNotSafeValue(e, "Style"), function (t) { if (!(t = String(t).trim())) return ""; const e = t.match(Ll); return e && bl(e[1]) === e[1] || t.match(Fl) && function (t) { let e = !0, n = !0; for (let l = 0; l < t.length; l++) { const s = t.charAt(l); "'" === s && n ? e = !e : '"' === s && e && (n = !n) } return e && n }(t) ? t : (Object(l.T)() && fn().log(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`), "unsafe") }(e)); case l.F.SCRIPT: if (e instanceof Wl) return e.changingThisBreaksApplicationSecurity; throw this.checkNotSafeValue(e, "Script"), new Error("unsafe value used in a script context"); case l.F.URL: return e instanceof ql || e instanceof Gl ? e.changingThisBreaksApplicationSecurity : (this.checkNotSafeValue(e, "URL"), bl(String(e))); case l.F.RESOURCE_URL: if (e instanceof ql) return e.changingThisBreaksApplicationSecurity; throw this.checkNotSafeValue(e, "ResourceURL"), new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)"); default: throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`) } } checkNotSafeValue(t, e) { if (t instanceof Ul) throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} ` + "(see http://g.co/ng/security#xss)") } bypassSecurityTrustHtml(t) { return new Bl(t) } bypassSecurityTrustStyle(t) { return new $l(t) } bypassSecurityTrustScript(t) { return new Wl(t) } bypassSecurityTrustUrl(t) { return new Gl(t) } bypassSecurityTrustResourceUrl(t) { return new ql(t) } } class Ul { constructor(t) { this.changingThisBreaksApplicationSecurity = t } toString() { return `SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}` + " (see http://g.co/ng/security#xss)" } } class Bl extends Ul { getTypeName() { return "HTML" } } class $l extends Ul { getTypeName() { return "Style" } } class Wl extends Ul { getTypeName() { return "Script" } } class Gl extends Ul { getTypeName() { return "URL" } } class ql extends Ul { getTypeName() { return "ResourceURL" } } const Ql = [{ provide: l.z, useValue: "browser" }, { provide: l.A, useValue: function () { Sn.makeCurrent(), Pn.init() }, multi: !0 }, { provide: b, useClass: An, deps: [Tn] }, { provide: Tn, useFactory: function () { return document }, deps: [] }], Kl = Object(l.P)(l.U, "browser", Ql); function Jl() { return new l.l } class Zl { constructor(t) { if (t) throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.") } static withServerTransition(t) { return { ngModule: Zl, providers: [{ provide: l.c, useValue: t.appId }, { provide: Mn, useExisting: l.c }, Rn] } } } "undefined" != typeof window && window, new l.L("5.2.9"); class Yl { } Yl.STANDARD_CURVE = "cubic-bezier(0.4,0.0,0.2,1)", Yl.DECELERATION_CURVE = "cubic-bezier(0.0,0.0,0.2,1)", Yl.ACCELERATION_CURVE = "cubic-bezier(0.4,0.0,1,1)", Yl.SHARP_CURVE = "cubic-bezier(0.4,0.0,0.6,1)"; class Xl { } Xl.COMPLEX = "375ms", Xl.ENTERING = "225ms", Xl.EXITING = "195ms"; const ts = new l.o("mat-sanity-checks"); class es { constructor(t) { this._sanityChecksEnabled = t, this._hasDoneGlobalChecks = !1, this._hasCheckedHammer = !1, this._document = "object" == typeof document && document ? document : null, this._window = "object" == typeof window && window ? window : null, this._areChecksEnabled() && !this._hasDoneGlobalChecks && (this._checkDoctypeIsDefined(), this._checkThemeIsPresent(), this._hasDoneGlobalChecks = !0) } _areChecksEnabled() { return this._sanityChecksEnabled && Object(l.T)() && !this._isTestEnv() } _isTestEnv() { return this._window && (this._window.__karma__ || this._window.jasmine) } _checkDoctypeIsDefined() { this._document && !this._document.doctype && console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.") } _checkThemeIsPresent() { if (this._document && "function" == typeof getComputedStyle) { const t = this._document.createElement("div"); t.classList.add("mat-theme-loaded-marker"), this._document.body.appendChild(t); const e = getComputedStyle(t); e && "none" !== e.display && console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"), this._document.body.removeChild(t) } } _checkHammerIsAvailable() { !this._hasCheckedHammer && this._window && (this._areChecksEnabled() && !this._window.Hammer && console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."), this._hasCheckedHammer = !0) } } function ns(t) { return class extends t { constructor(...t) { super(...t), this._disabled = !1 } get disabled() { return this._disabled } set disabled(t) { this._disabled = r(t) } } } function ls(t, e) { return class extends t { get color() { return this._color } set color(t) { const n = t || e; n !== this._color && (this._color && this._elementRef.nativeElement.classList.remove(`mat-${this._color}`), n && this._elementRef.nativeElement.classList.add(`mat-${n}`), this._color = n) } constructor(...t) { super(...t), this.color = e } } } new l.o("MAT_DATE_LOCALE"), new l.o("mat-date-formats"), function (t, e) { const n = Array(31); for (let l = 0; l < 31; l++)n[l] = e(l) }(0, t => String(t + 1)), new l.o("MAT_HAMMER_OPTIONS"); class ss { } const is = function () { var t = { FADING_IN: 0, VISIBLE: 1, FADING_OUT: 2, HIDDEN: 3 }; return t[t.FADING_IN] = "FADING_IN", t[t.VISIBLE] = "VISIBLE", t[t.FADING_OUT] = "FADING_OUT", t[t.HIDDEN] = "HIDDEN", t }(); class rs { constructor(t, e, n) { this._renderer = t, this.element = e, this.config = n, this.state = is.HIDDEN } fadeOut() { this._renderer.fadeOutRipple(this) } } const os = { enterDuration: 450, exitDuration: 400 }, as = 800; class us { constructor(t, e, n, l) { this._target = t, this._ngZone = e, this._isPointerDown = !1, this._triggerEvents = new Map, this._activeRipples = new Set, this._eventOptions = !!_() && { passive: !0 }, this.onMousedown = (t => { const e = this._lastTouchStartEvent && Date.now() < this._lastTouchStartEvent + as; this._target.rippleDisabled || e || (this._isPointerDown = !0, this.fadeInRipple(t.clientX, t.clientY, this._target.rippleConfig)) }), this.onTouchStart = (t => { this._target.rippleDisabled || (this._lastTouchStartEvent = Date.now(), this._isPointerDown = !0, this.fadeInRipple(t.touches[0].clientX, t.touches[0].clientY, this._target.rippleConfig)) }), this.onPointerUp = (() => { this._isPointerDown && (this._isPointerDown = !1, this._activeRipples.forEach(t => { !t.config.persistent && (t.state === is.VISIBLE || t.config.terminateOnPointerUp && t.state === is.FADING_IN) && t.fadeOut() })) }), l.isBrowser && (this._containerElement = n.nativeElement, this._triggerEvents.set("mousedown", this.onMousedown), this._triggerEvents.set("mouseup", this.onPointerUp), this._triggerEvents.set("mouseleave", this.onPointerUp), this._triggerEvents.set("touchstart", this.onTouchStart), this._triggerEvents.set("touchend", this.onPointerUp)) } fadeInRipple(t, e, n = {}) { const l = this._containerElement.getBoundingClientRect(), s = Object.assign({}, os, n.animation); n.centered && (t = l.left + l.width / 2, e = l.top + l.height / 2); const i = n.radius || function (t, e, n) { const l = Math.max(Math.abs(t - n.left), Math.abs(t - n.right)), s = Math.max(Math.abs(e - n.top), Math.abs(e - n.bottom)); return Math.sqrt(l * l + s * s) }(t, e, l), r = t - l.left, o = e - l.top, a = s.enterDuration / (n.speedFactor || 1), u = document.createElement("div"); u.classList.add("mat-ripple-element"), u.style.left = `${r - i}px`, u.style.top = `${o - i}px`, u.style.height = `${2 * i}px`, u.style.width = `${2 * i}px`, u.style.backgroundColor = n.color || null, u.style.transitionDuration = `${a}ms`, this._containerElement.appendChild(u), window.getComputedStyle(u).getPropertyValue("opacity"), u.style.transform = "scale(1)"; const c = new rs(this, u, n); return c.state = is.FADING_IN, this._activeRipples.add(c), this.runTimeoutOutsideZone(() => { c.state = is.VISIBLE, n.persistent || this._isPointerDown || c.fadeOut() }, a), c } fadeOutRipple(t) { if (!this._activeRipples.delete(t)) return; const e = t.element, n = Object.assign({}, os, t.config.animation); e.style.transitionDuration = `${n.exitDuration}ms`, e.style.opacity = "0", t.state = is.FADING_OUT, this.runTimeoutOutsideZone(() => { t.state = is.HIDDEN, e.parentNode.removeChild(e) }, n.exitDuration) } fadeOutAll() { this._activeRipples.forEach(t => t.fadeOut()) } setupTriggerEvents(t) { t && t !== this._triggerElement && (this._removeTriggerEvents(), this._ngZone.runOutsideAngular(() => { this._triggerEvents.forEach((e, n) => t.addEventListener(n, e, this._eventOptions)) }), this._triggerElement = t) } runTimeoutOutsideZone(t, e = 0) { this._ngZone.runOutsideAngular(() => setTimeout(t, e)) } _removeTriggerEvents() { this._triggerElement && this._triggerEvents.forEach((t, e) => { this._triggerElement.removeEventListener(e, t, this._eventOptions) }) } } const cs = new l.o("mat-ripple-global-options"); class hs { constructor(t, e, n, l) { this._elementRef = t, this.radius = 0, this.speedFactor = 1, this._disabled = !1, this._isInitialized = !1, this._globalOptions = l || {}, this._rippleRenderer = new us(this, e, t, n) } get disabled() { return this._disabled } set disabled(t) { this._disabled = t, this._setupTriggerEventsIfEnabled() } get trigger() { return this._trigger || this._elementRef.nativeElement } set trigger(t) { this._trigger = t, this._setupTriggerEventsIfEnabled() } ngOnInit() { this._isInitialized = !0, this._setupTriggerEventsIfEnabled() } ngOnDestroy() { this._rippleRenderer._removeTriggerEvents() } fadeOutAll() { this._rippleRenderer.fadeOutAll() } get rippleConfig() { return { centered: this.centered, radius: this.radius, color: this.color, animation: Object.assign({}, this._globalOptions.animation, this.animation), terminateOnPointerUp: this._globalOptions.terminateOnPointerUp, speedFactor: this.speedFactor * (this._globalOptions.baseSpeedFactor || 1) } } get rippleDisabled() { return this.disabled || !!this._globalOptions.disabled } _setupTriggerEventsIfEnabled() { !this.disabled && this._isInitialized && this._rippleRenderer.setupTriggerEvents(this.trigger) } launch(t, e = 0, n) { return "number" == typeof t ? this._rippleRenderer.fadeInRipple(t, e, Object.assign({}, this.rippleConfig, n)) : this._rippleRenderer.fadeInRipple(0, 0, Object.assign({}, this.rippleConfig, t)) } } class ds { } ns(class { }), new l.o("MAT_OPTION_PARENT_COMPONENT"), new l.o("mat-label-global-options"); var ps = n("R3ym"), ms = n("crq8"), gs = n("jzaW"); class fs extends ae.a { constructor(t, e) { super(), this.promise = t, this.scheduler = e } static create(t, e) { return new fs(t, e) } _subscribe(t) { const e = this.promise, n = this.scheduler; if (null == n) this._isScalar ? t.closed || (t.next(this.value), t.complete()) : e.then(e => { this.value = e, this._isScalar = !0, t.closed || (t.next(e), t.complete()) }, e => { t.closed || t.error(e) }).then(null, t => { At.a.setTimeout(() => { throw t }) }); else if (this._isScalar) { if (!t.closed) return n.schedule(_s, 0, { value: this.value, subscriber: t }) } else e.then(e => { this.value = e, this._isScalar = !0, t.closed || t.add(n.schedule(_s, 0, { value: e, subscriber: t })) }, e => { t.closed || t.add(n.schedule(ys, 0, { err: e, subscriber: t })) }).then(null, t => { At.a.setTimeout(() => { throw t }) }) } } function _s(t) { const { value: e, subscriber: n } = t; n.closed || (n.next(e), n.complete()) } function ys(t) { const { err: e, subscriber: n } = t; n.closed || n.error(e) } var bs = n("dzdQ"); class ws extends ae.a { constructor(t, e) { if (super(), this.scheduler = e, null == t) throw new Error("iterator cannot be null."); this.iterator = Cs(t) } static create(t, e) { return new ws(t, e) } static dispatch(t) { const { index: e, hasError: n, iterator: l, subscriber: s } = t; if (n) return void s.error(t.error); let i = l.next(); i.done ? s.complete() : (s.next(i.value), t.index = e + 1, s.closed ? "function" == typeof l.return && l.return() : this.schedule(t)) } _subscribe(t) { const { iterator: e, scheduler: n } = this; if (n) return n.schedule(ws.dispatch, 0, { index: 0, iterator: e, subscriber: t }); for (; ;) { let n = e.next(); if (n.done) { t.complete(); break } if (t.next(n.value), t.closed) { "function" == typeof e.return && e.return(); break } } } } class vs { constructor(t, e = 0, n = t.length) { this.str = t, this.idx = e, this.len = n } [bs.a]() { return this } next() { return this.idx < this.len ? { done: !1, value: this.str.charAt(this.idx++) } : { done: !0, value: void 0 } } } class xs { constructor(t, e = 0, n = function (e) { let n = +t.length; return isNaN(n) ? 0 : 0 !== n && "number" == typeof n && At.a.isFinite(n) ? (n = function (t) { let e = +n; return 0 === e ? e : isNaN(e) ? e : e < 0 ? -1 : 1 }() * Math.floor(Math.abs(n))) <= 0 ? 0 : n > Ss ? Ss : n : n }()) { this.arr = t, this.idx = e, this.len = n } [bs.a]() { return this } next() { return this.idx < this.len ? { done: !1, value: this.arr[this.idx++] } : { done: !0, value: void 0 } } } function Cs(t) { const e = t[bs.a]; if (!e && "string" == typeof t) return new vs(t); if (!e && void 0 !== t.length) return new xs(t); if (!e) throw new TypeError("object is not iterable"); return t[bs.a]() } const Ss = Math.pow(2, 53) - 1; class Es extends ae.a { constructor(t, e) { super(), this.arrayLike = t, this.scheduler = e, e || 1 !== t.length || (this._isScalar = !0, this.value = t[0]) } static create(t, e) { const n = t.length; return 0 === n ? new c.a : 1 === n ? new ps.a(t[0], e) : new Es(t, e) } static dispatch(t) { const { arrayLike: e, index: n, length: l, subscriber: s } = t; s.closed || (n >= l ? s.complete() : (s.next(e[n]), t.index = n + 1, this.schedule(t))) } _subscribe(t) { const { arrayLike: e, scheduler: n } = this, l = e.length; if (n) return n.schedule(Es.dispatch, 0, { arrayLike: e, index: 0, length: l, subscriber: t }); for (let s = 0; s < l && !t.closed; s++)t.next(e[s]); t.complete() } } class ks { constructor(t, e, n) { this.kind = t, this.value = e, this.error = n, this.hasValue = "N" === t } observe(t) { switch (this.kind) { case "N": return t.next && t.next(this.value); case "E": return t.error && t.error(this.error); case "C": return t.complete && t.complete() } } do(t, e, n) { switch (this.kind) { case "N": return t && t(this.value); case "E": return e && e(this.error); case "C": return n && n() } } accept(t, e, n) { return t && "function" == typeof t.next ? this.observe(t) : this.do(t, e, n) } toObservable() { switch (this.kind) { case "N": return ae.a.of(this.value); case "E": return ae.a.throw(this.error); case "C": return ae.a.empty() }throw new Error("unexpected notification kind value") } static createNext(t) { return "undefined" != typeof t ? new ks("N", t) : ks.undefinedValueNotification } static createError(t) { return new ks("E", void 0, t) } static createComplete() { return ks.completeNotification } } ks.completeNotification = new ks("C"), ks.undefinedValueNotification = new ks("N", void 0); class Ts extends a.a { constructor(t, e, n = 0) { super(t), this.scheduler = e, this.delay = n } static dispatch(t) { const { notification: e, destination: n } = t; e.observe(n), this.unsubscribe() } scheduleMessage(t) { this.add(this.scheduler.schedule(Ts.dispatch, this.delay, new Os(t, this.destination))) } _next(t) { this.scheduleMessage(ks.createNext(t)) } _error(t) { this.scheduleMessage(ks.createError(t)) } _complete() { this.scheduleMessage(ks.createComplete()) } } class Os { constructor(t, e) { this.notification = t, this.destination = e } } var As = n("zOxy"); class Is extends ae.a { constructor(t, e) { super(null), this.ish = t, this.scheduler = e } static create(t, e) { if (null != t) { if ("function" == typeof t[As.a]) return t instanceof ae.a && !e ? t : new Is(t, e); if (Object(be.a)(t)) return new Ft.a(t, e); if (Object(gs.a)(t)) return new fs(t, e); if ("function" == typeof t[bs.a] || "string" == typeof t) return new ws(t, e); if (Object(ms.a)(t)) return new Es(t, e) } throw new TypeError((null !== t && typeof t || t) + " is not observable") } _subscribe(t) { const e = this.ish, n = this.scheduler; return null == n ? e[As.a]().subscribe(t) : e[As.a]().subscribe(new Ts(t, n, 0)) } } const Ms = Is.create; var Rs = n("Ynfn"); function Ps() { return Object(Rs.a)(1) } function Ns(...t) { return e => { let n = t[t.length - 1]; Object(we.a)(n) ? t.pop() : n = null; const l = t.length; return function (...t) { return 1 === t.length || 2 === t.length && Object(we.a)(t[1]) ? Ms(t[0]) : Ps()(Lt(...t)) }(1 === l ? new ps.a(t[0], n) : l > 1 ? new Ft.a(t, n) : new c.a(n), e) } } class Ds { constructor(t) { this.notifier = t } call(t, e) { return e.subscribe(new Vs(t, this.notifier)) } } class Vs extends ge.a { constructor(t, e) { super(t), this.notifier = e, this.add(Object(fe.a)(this, e)) } notifyNext(t, e, n, l, s) { this.complete() } notifyComplete() { } } const js = {}; class Fs { constructor(t) { this.project = t } call(t, e) { return e.subscribe(new Ls(t, this.project)) } } class Ls extends ge.a { constructor(t, e) { super(t), this.project = e, this.active = 0, this.values = [], this.observables = [] } _next(t) { this.values.push(js), this.observables.push(t) } _complete() { const t = this.observables, e = t.length; if (0 === e) this.destination.complete(); else { this.active = e, this.toRespond = e; for (let n = 0; n < e; n++) { const e = t[n]; this.add(Object(fe.a)(this, e, e, n)) } } } notifyComplete(t) { 0 == (this.active -= 1) && this.destination.complete() } notifyNext(t, e, n, l, s) { const i = this.values, r = this.toRespond ? i[n] === js ? --this.toRespond : this.toRespond : 0; i[n] = e, 0 === r && (this.project ? this._tryProject(i) : this.destination.next(i.slice())) } _tryProject(t) { let e; try { e = this.project.apply(this, t) } catch (t) { return void this.destination.error(t) } this.destination.next(e) } } class zs extends ae.a { constructor(t, e, n) { super(), this.addHandler = t, this.removeHandler = e, this.selector = n } static create(t, e, n) { return new zs(t, e, n) } _subscribe(t) { const e = this.removeHandler, n = this.selector ? (...e) => { this._callSelector(t, e) } : function (e) { t.next(e) }, l = this._callAddHandler(n, t); Object(ce.a)(e) && t.add(new Et.a(() => { e(n, l) })) } _callSelector(t, e) { try { const n = this.selector(...e); t.next(n) } catch (e) { t.error(e) } } _callAddHandler(t, e) { try { return this.addHandler(t) || null } catch (t) { e.error(t) } } } const Hs = zs.create, Us = new Map; class Bs { constructor(t) { this.platform = t, this._matchMedia = this.platform.isBrowser && window.matchMedia ? window.matchMedia.bind(window) : $s } matchMedia(t) { return this.platform.WEBKIT && function (t) { if (!Us.has(t)) try { const e = document.createElement("style"); if (e.setAttribute("type", "text/css"), !e.sheet) { const n = `@media ${t} {.fx-query-test{ }}`; e.appendChild(document.createTextNode(n)) } document.getElementsByTagName("head")[0].appendChild(e), Us.set(t, e) } catch (t) { console.error(t) } }(t), this._matchMedia(t) } } function $s(t) { return { matches: "all" === t || "" === t, media: t, addListener: () => { }, removeListener: () => { } } } class Ws { constructor(t, e) { this.mediaMatcher = t, this.zone = e, this._queries = new Map, this._destroySubject = new St.a } ngOnDestroy() { this._destroySubject.next(), this._destroySubject.complete() } isMatched(t) { return o(t).some(t => this._registerQuery(t).mql.matches) } observe(t) { return function (...t) { let e = null, n = null; return Object(we.a)(t[t.length - 1]) && (n = t.pop()), "function" == typeof t[t.length - 1] && (e = t.pop()), 1 === t.length && Object(be.a)(t[0]) && (t = t[0]), new Ft.a(t, n).lift(new Fs(e)) }(o(t).map(t => this._registerQuery(t).observable), (t, e) => ({ matches: !!(t && t.matches || e && e.matches) })) } _registerQuery(t) { if (this._queries.has(t)) return this._queries.get(t); let e = this.mediaMatcher.matchMedia(t), n = { observable: Hs(t => { e.addListener(e => this.zone.run(() => t(e))) }, t => { e.removeListener(e => this.zone.run(() => t(e))) }).pipe(function (t) { return e => e.lift(new Ds(t)) }(this._destroySubject), Ns(e), Dt(t => ({ matches: t.matches }))), mql: e }; return this._queries.set(t, n), n } } const Gs = { XSmall: "(max-width: 599px)", Small: "(min-width: 600px) and (max-width: 959px)", Medium: "(min-width: 960px) and (max-width: 1279px)", Large: "(min-width: 1280px) and (max-width: 1919px)", XLarge: "(min-width: 1920px)", Handset: "(max-width: 599px) and (orientation: portrait), (max-width: 959px) and (orientation: landscape)", Tablet: "(min-width: 600px) and (max-width: 839px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279px) and (orientation: landscape)", Web: "(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)", HandsetPortrait: "(max-width: 599px) and (orientation: portrait)", TabletPortrait: "(min-width: 600px) and (max-width: 839px) and (orientation: portrait)", WebPortrait: "(min-width: 840px) and (orientation: portrait)", HandsetLandscape: "(max-width: 959px) and (orientation: landscape)", TabletLandscape: "(min-width: 960px) and (max-width: 1279px) and (orientation: landscape)", WebLandscape: "(min-width: 1280px) and (orientation: landscape)" }; class qs { } class Qs { } class Ks { } const Js = "*"; function Zs(t, e) { return { type: 7, name: t, definitions: e, options: {} } } function Ys(t, e = null) { return { type: 4, styles: e, timings: t } } function Xs(t, e = null) { return { type: 2, steps: t, options: e } } function ti(t) { return { type: 6, styles: t, offset: null } } function ei(t, e, n) { return { type: 0, name: t, styles: e, options: n } } function ni(t, e, n = null) { return { type: 1, expr: t, animation: e, options: n } } function li(t) { Promise.resolve(null).then(t) } class si { constructor() { this._onDoneFns = [], this._onStartFns = [], this._onDestroyFns = [], this._started = !1, this._destroyed = !1, this._finished = !1, this.parentPlayer = null, this.totalTime = 0 } _onFinish() { this._finished || (this._finished = !0, this._onDoneFns.forEach(t => t()), this._onDoneFns = []) } onStart(t) { this._onStartFns.push(t) } onDone(t) { this._onDoneFns.push(t) } onDestroy(t) { this._onDestroyFns.push(t) } hasStarted() { return this._started } init() { } play() { this.hasStarted() || (this._onStart(), this.triggerMicrotask()), this._started = !0 } triggerMicrotask() { li(() => this._onFinish()) } _onStart() { this._onStartFns.forEach(t => t()), this._onStartFns = [] } pause() { } restart() { } finish() { this._onFinish() } destroy() { this._destroyed || (this._destroyed = !0, this.hasStarted() || this._onStart(), this.finish(), this._onDestroyFns.forEach(t => t()), this._onDestroyFns = []) } reset() { } setPosition(t) { } getPosition() { return 0 } triggerCallback(t) { const e = "start" == t ? this._onStartFns : this._onDoneFns; e.forEach(t => t()), e.length = 0 } } class ii { constructor(t) { this._onDoneFns = [], this._onStartFns = [], this._finished = !1, this._started = !1, this._destroyed = !1, this._onDestroyFns = [], this.parentPlayer = null, this.totalTime = 0, this.players = t; let e = 0, n = 0, l = 0; const s = this.players.length; 0 == s ? li(() => this._onFinish()) : this.players.forEach(t => { t.onDone(() => { ++e == s && this._onFinish() }), t.onDestroy(() => { ++n == s && this._onDestroy() }), t.onStart(() => { ++l == s && this._onStart() }) }), this.totalTime = this.players.reduce((t, e) => Math.max(t, e.totalTime), 0) } _onFinish() { this._finished || (this._finished = !0, this._onDoneFns.forEach(t => t()), this._onDoneFns = []) } init() { this.players.forEach(t => t.init()) } onStart(t) { this._onStartFns.push(t) } _onStart() { this.hasStarted() || (this._started = !0, this._onStartFns.forEach(t => t()), this._onStartFns = []) } onDone(t) { this._onDoneFns.push(t) } onDestroy(t) { this._onDestroyFns.push(t) } hasStarted() { return this._started } play() { this.parentPlayer || this.init(), this._onStart(), this.players.forEach(t => t.play()) } pause() { this.players.forEach(t => t.pause()) } restart() { this.players.forEach(t => t.restart()) } finish() { this._onFinish(), this.players.forEach(t => t.finish()) } destroy() { this._onDestroy() } _onDestroy() { this._destroyed || (this._destroyed = !0, this._onFinish(), this.players.forEach(t => t.destroy()), this._onDestroyFns.forEach(t => t()), this._onDestroyFns = []) } reset() { this.players.forEach(t => t.reset()), this._destroyed = !1, this._finished = !1, this._started = !1 } setPosition(t) { const e = t * this.totalTime; this.players.forEach(t => { const n = t.totalTime ? Math.min(1, e / t.totalTime) : 1; t.setPosition(n) }) } getPosition() { let t = 0; return this.players.forEach(e => { const n = e.getPosition(); t = Math.min(n, t) }), t } beforeDestroy() { this.players.forEach(t => { t.beforeDestroy && t.beforeDestroy() }) } triggerCallback(t) { const e = "start" == t ? this._onStartFns : this._onDoneFns; e.forEach(t => t()), e.length = 0 } } const ri = "!", oi = (Zs("state", [ei("initial, void, hidden", ti({ transform: "scale(0)" })), ei("visible", ti({ transform: "scale(1)" })), ni("* => visible", Ys("150ms cubic-bezier(0.0, 0.0, 0.2, 1)")), ni("* => hidden", Ys("150ms cubic-bezier(0.4, 0.0, 1, 1)"))]), 20), ai = "mat-tooltip-panel"; function ui(t) { return Error(`Tooltip position "${t}" is invalid.`) } const ci = new l.o("mat-tooltip-scroll-strategy"); function hi(t) { return () => t.scrollStrategies.reposition({ scrollThrottle: oi }) } const di = new l.o("mat-tooltip-default-options"); class pi { constructor(t, e, n, l, s, i, r, o, a, u, c) { this._overlay = t, this._elementRef = e, this._scrollDispatcher = n, this._viewContainerRef = l, this._ngZone = s, this._platform = i, this._ariaDescriber = r, this._focusMonitor = o, this._scrollStrategy = a, this._dir = u, this._defaultOptions = c, this._position = "below", this._disabled = !1, this.showDelay = this._defaultOptions ? this._defaultOptions.showDelay : 0, this.hideDelay = this._defaultOptions ? this._defaultOptions.hideDelay : 0, this._message = "", this._manualListeners = new Map; const h = e.nativeElement; i.IOS ? "INPUT" !== h.nodeName && "TEXTAREA" !== h.nodeName || (h.style.webkitUserSelect = h.style.userSelect = "") : (this._manualListeners.set("mouseenter", () => this.show()), this._manualListeners.set("mouseleave", () => this.hide()), this._manualListeners.forEach((t, n) => e.nativeElement.addEventListener(n, t))), o.monitor(h).subscribe(t => { t ? "program" !== t && s.run(() => this.show()) : s.run(() => this.hide(0)) }) } get position() { return this._position } set position(t) { t !== this._position && (this._position = t, this._tooltipInstance && this._disposeTooltip()) } get disabled() { return this._disabled } set disabled(t) { this._disabled = r(t), this._disabled && this.hide(0) } get _positionDeprecated() { return this._position } set _positionDeprecated(t) { this._position = t } get message() { return this._message } set message(t) { this._ariaDescriber.removeDescription(this._elementRef.nativeElement, this._message), this._message = null != t ? `${t}`.trim() : "", !this._message && this._isTooltipVisible() ? this.hide(0) : (this._updateTooltipMessage(), this._ariaDescriber.describe(this._elementRef.nativeElement, this.message)) } get tooltipClass() { return this._tooltipClass } set tooltipClass(t) { this._tooltipClass = t, this._tooltipInstance && this._setTooltipClass(this._tooltipClass) } ngOnDestroy() { this._tooltipInstance && this._disposeTooltip(), this._platform.IOS || (this._manualListeners.forEach((t, e) => { this._elementRef.nativeElement.removeEventListener(e, t) }), this._manualListeners.clear()), this._ariaDescriber.removeDescription(this._elementRef.nativeElement, this.message), this._focusMonitor.stopMonitoring(this._elementRef.nativeElement) } show(t = this.showDelay) { !this.disabled && this.message && (this._tooltipInstance || this._createTooltip(), this._setTooltipClass(this._tooltipClass), this._updateTooltipMessage(), this._tooltipInstance.show(this._position, t)) } hide(t = this.hideDelay) { this._tooltipInstance && this._tooltipInstance.hide(t) } toggle() { this._isTooltipVisible() ? this.hide() : this.show() } _isTooltipVisible() { return !!this._tooltipInstance && this._tooltipInstance.isVisible() } _handleKeydown(t) { this._isTooltipVisible() && t.keyCode === Ot && (t.stopPropagation(), this.hide(0)) } _handleTouchend() { this.hide(this._defaultOptions ? this._defaultOptions.touchendHideDelay : 1500) } _createTooltip() { const t = this._createOverlay(), e = new je(mi, this._viewContainerRef); this._tooltipInstance = t.attach(e).instance, Object(Se.a)(this._tooltipInstance.afterHidden(), t.detachments()).subscribe(() => { this._tooltipInstance && this._disposeTooltip() }) } _createOverlay() { const t = this._getOrigin(), e = this._getOverlayPosition(), n = this._overlay.position().connectedTo(this._elementRef, t.main, e.main).withFallbackPosition(t.fallback, e.fallback), l = this._scrollDispatcher.getAncestorScrollContainers(this._elementRef); n.withScrollableContainers(l), n.onPositionChange.subscribe(t => { this._tooltipInstance && (t.scrollableViewProperties.isOverlayClipped && this._tooltipInstance.isVisible() ? this._ngZone.run(() => this.hide(0)) : this._tooltipInstance._setTransformOrigin(t.connectionPair)) }); const s = new $e({ direction: this._dir ? this._dir.value : "ltr", positionStrategy: n, panelClass: ai, scrollStrategy: this._scrollStrategy() }); return this._overlayRef = this._overlay.create(s), this._overlayRef } _disposeTooltip() { this._overlayRef && (this._overlayRef.dispose(), this._overlayRef = null), this._tooltipInstance = null } _getOrigin() { const t = !this._dir || "ltr" == this._dir.value; let e; if ("above" == this.position || "below" == this.position) e = { originX: "center", originY: "above" == this.position ? "top" : "bottom" }; else if ("left" == this.position || "before" == this.position && t || "after" == this.position && !t) e = { originX: "start", originY: "center" }; else { if (!("right" == this.position || "after" == this.position && t || "before" == this.position && !t)) throw ui(this.position); e = { originX: "end", originY: "center" } } const { x: n, y: l } = this._invertPosition(e.originX, e.originY); return { main: e, fallback: { originX: n, originY: l } } } _getOverlayPosition() { const t = !this._dir || "ltr" == this._dir.value; let e; if ("above" == this.position) e = { overlayX: "center", overlayY: "bottom" }; else if ("below" == this.position) e = { overlayX: "center", overlayY: "top" }; else if ("left" == this.position || "before" == this.position && t || "after" == this.position && !t) e = { overlayX: "end", overlayY: "center" }; else { if (!("right" == this.position || "after" == this.position && t || "before" == this.position && !t)) throw ui(this.position); e = { overlayX: "start", overlayY: "center" } } const { x: n, y: l } = this._invertPosition(e.overlayX, e.overlayY); return { main: e, fallback: { overlayX: n, overlayY: l } } } _updateTooltipMessage() { this._tooltipInstance && (this._tooltipInstance.message = this.message, this._tooltipInstance._markForCheck(), this._ngZone.onMicrotaskEmpty.asObservable().pipe(h(1)).subscribe(() => { this._tooltipInstance && this._overlayRef.updatePosition() })) } _setTooltipClass(t) { this._tooltipInstance && (this._tooltipInstance.tooltipClass = t, this._tooltipInstance._markForCheck()) } _invertPosition(t, e) { return "above" === this.position || "below" === this.position ? "top" === e ? e = "bottom" : "bottom" === e && (e = "top") : "end" === t ? t = "start" : "start" === t && (t = "end"), { x: t, y: e } } } class mi { constructor(t, e) { this._changeDetectorRef = t, this._breakpointObserver = e, this._visibility = "initial", this._closeOnInteraction = !1, this._transformOrigin = "bottom", this._onHide = new St.a, this._isHandset = this._breakpointObserver.observe(Gs.Handset) } show(t, e) { this._hideTimeoutId && clearTimeout(this._hideTimeoutId), this._closeOnInteraction = !0, this._position = t, this._showTimeoutId = setTimeout(() => { this._visibility = "visible", this._markForCheck() }, e) } hide(t) { this._showTimeoutId && clearTimeout(this._showTimeoutId), this._hideTimeoutId = setTimeout(() => { this._visibility = "hidden", this._markForCheck() }, t) } afterHidden() { return this._onHide.asObservable() } isVisible() { return "visible" === this._visibility } _setTransformOrigin(t) { const e = "X" == ("above" === this._position || "below" === this._position ? "Y" : "X") ? t.overlayX : t.overlayY; if ("top" === e || "bottom" === e) this._transformOrigin = e; else if ("start" === e) this._transformOrigin = "left"; else { if ("end" !== e) throw ui(this._position); this._transformOrigin = "right" } } _animationStart() { this._closeOnInteraction = !1 } _animationDone(t) { const e = t.toState; "hidden" !== e || this.isVisible() || this._onHide.next(), "visible" !== e && "hidden" !== e || (this._closeOnInteraction = !0) } _handleBodyInteraction() { this._closeOnInteraction && this.hide(0) } _markForCheck() { this._changeDetectorRef.markForCheck() } } class gi { } var fi = l._1({ encapsulation: 2, styles: [".mat-tooltip-panel{pointer-events:none!important}.mat-tooltip{color:#fff;border-radius:2px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px}@media screen and (-ms-high-contrast:active){.mat-tooltip{outline:solid 1px}}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}"], data: { animation: [{ type: 7, name: "state", definitions: [{ type: 0, name: "initial, void, hidden", styles: { type: 6, styles: { transform: "scale(0)" }, offset: null }, options: void 0 }, { type: 0, name: "visible", styles: { type: 6, styles: { transform: "scale(1)" }, offset: null }, options: void 0 }, { type: 1, expr: "* => visible", animation: { type: 4, styles: null, timings: "150ms cubic-bezier(0.0, 0.0, 0.2, 1)" }, options: null }, { type: 1, expr: "* => hidden", animation: { type: 4, styles: null, timings: "150ms cubic-bezier(0.4, 0.0, 1, 1)" }, options: null }], options: {} }] } }); function _i(t) { return l._26(2, [(t()(), l._3(0, 0, null, null, 3, "div", [["class", "mat-tooltip"]], [[2, "mat-tooltip-handset", null], [4, "transform-origin", null], [24, "@state", 0]], [[null, "@state.start"], [null, "@state.done"]], function (t, e, n) { var l = !0, s = t.component; return "@state.start" === e && (l = !1 !== s._animationStart() && l), "@state.done" === e && (l = !1 !== s._animationDone(n) && l), l }, null, null)), l._2(1, 278528, null, 0, j, [l.q, l.r, l.k, l.B], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), l._17(131072, wt, [l.h]), (t()(), l._24(3, null, ["", ""]))], function (t, e) { t(e, 1, 0, "mat-tooltip", e.component.tooltipClass) }, function (t, e) { var n = e.component; t(e, 0, 0, l._25(e, 0, 0, l._15(e, 2).transform(n._isHandset)).matches, n._transformOrigin, n._visibility), t(e, 3, 0, n.message) }) } var yi = l.Z("mat-tooltip-component", mi, function (t) { return l._26(0, [(t()(), l._3(0, 0, null, null, 1, "mat-tooltip-component", [["aria-hidden", "true"]], [[4, "zoom", null]], [["body", "click"]], function (t, e, n) { var s = !0; return "body:click" === e && (s = !1 !== l._15(t, 1)._handleBodyInteraction() && s), s }, _i, fi)), l._2(1, 49152, null, 0, mi, [l.h, Ws], null, null)], null, function (t, e) { t(e, 0, 0, "visible" === l._15(e, 1)._visibility ? 1 : null) }) }, {}, {}, []); const bi = "accent", wi = "primary", vi = ["mat-button", "mat-flat-button", "mat-icon-button", "mat-raised-button", "mat-stroked-button", "mat-mini-fab", "mat-fab"], xi = ls(ns(class extends class { constructor(t) { this._elementRef = t } }{ constructor(...t) { super(...t), this._disableRipple = !1 } get disableRipple() { return this._disableRipple } set disableRipple(t) { this._disableRipple = r(t) } })); class Ci extends xi { constructor(t, e, n) { super(t), this._platform = e, this._focusMonitor = n, this._isRoundButton = this._hasHostAttributes("mat-fab", "mat-mini-fab"), this._isIconButton = this._hasHostAttributes("mat-icon-button"); for (const l of vi) this._hasHostAttributes(l) && t.nativeElement.classList.add(l); this._focusMonitor.monitor(this._elementRef.nativeElement, !0), this._isRoundButton ? this.color = bi : this._hasHostAttributes("mat-flat-button") && (this.color = wi) } ngOnDestroy() { this._focusMonitor.stopMonitoring(this._elementRef.nativeElement) } focus() { this._getHostElement().focus() } _getHostElement() { return this._elementRef.nativeElement } _isRippleDisabled() { return this.disableRipple || this.disabled } _hasHostAttributes(...t) { return !!this._platform.isBrowser && t.some(t => this._getHostElement().hasAttribute(t)) } } class Si extends Ci { constructor(t, e, n) { super(n, t, e) } _haltDisabledEvents(t) { this.disabled && (t.preventDefault(), t.stopImmediatePropagation()) } } class Ei { } var ki = l._1({ encapsulation: 2, styles: [".mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{transition:none;opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:1}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-raised-button:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-raised-button[disabled]{box-shadow:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button:not([class*=mat-elevation-z]){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-flat-button:not([class*=mat-elevation-z]){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-fab::-moz-focus-inner{border:0}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-fab[disabled]{box-shadow:none}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-mini-fab[disabled]{box-shadow:none}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button,.mat-fab,.mat-icon-button,.mat-mini-fab,.mat-raised-button{color:currentColor}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*{vertical-align:middle}.mat-button-focus-overlay,.mat-button-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-focus-overlay{background-color:rgba(0,0,0,.12);border-radius:inherit;opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}@media screen and (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:rgba(255,255,255,.5)}}.mat-button-ripple-round{border-radius:50%;z-index:1}@media screen and (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"], data: {} }); function Ti(t) { return l._26(2, [l._22(402653184, 1, { ripple: 0 }), (t()(), l._3(1, 0, null, null, 1, "span", [["class", "mat-button-wrapper"]], null, null, null, null, null)), l._14(null, 0), (t()(), l._3(3, 0, null, null, 1, "div", [["class", "mat-button-ripple mat-ripple"], ["matRipple", ""]], [[2, "mat-button-ripple-round", null], [2, "mat-ripple-unbounded", null]], null, null, null, null)), l._2(4, 212992, [[1, 4]], 0, hs, [l.k, l.x, g, [2, cs]], { centered: [0, "centered"], disabled: [1, "disabled"], trigger: [2, "trigger"] }, null), (t()(), l._3(5, 0, null, null, 0, "div", [["class", "mat-button-focus-overlay"]], null, null, null, null, null))], function (t, e) { var n = e.component; t(e, 4, 0, n._isIconButton, n._isRippleDisabled(), n._getHostElement()) }, function (t, e) { var n = e.component; t(e, 3, 0, n._isRoundButton || n._isIconButton, l._15(e, 4).unbounded) }) } var Oi = l._1({ encapsulation: 2, styles: [".mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{transition:none;opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:1}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-raised-button:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-raised-button[disabled]{box-shadow:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button:not([class*=mat-elevation-z]){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-flat-button:not([class*=mat-elevation-z]){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-fab::-moz-focus-inner{border:0}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-fab[disabled]{box-shadow:none}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-mini-fab[disabled]{box-shadow:none}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button,.mat-fab,.mat-icon-button,.mat-mini-fab,.mat-raised-button{color:currentColor}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*{vertical-align:middle}.mat-button-focus-overlay,.mat-button-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-focus-overlay{background-color:rgba(0,0,0,.12);border-radius:inherit;opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}@media screen and (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:rgba(255,255,255,.5)}}.mat-button-ripple-round{border-radius:50%;z-index:1}@media screen and (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"], data: {} }); function Ai(t) { return l._26(2, [l._22(402653184, 1, { ripple: 0 }), (t()(), l._3(1, 0, null, null, 1, "span", [["class", "mat-button-wrapper"]], null, null, null, null, null)), l._14(null, 0), (t()(), l._3(3, 0, null, null, 1, "div", [["class", "mat-button-ripple mat-ripple"], ["matRipple", ""]], [[2, "mat-button-ripple-round", null], [2, "mat-ripple-unbounded", null]], null, null, null, null)), l._2(4, 212992, [[1, 4]], 0, hs, [l.k, l.x, g, [2, cs]], { centered: [0, "centered"], disabled: [1, "disabled"], trigger: [2, "trigger"] }, null), (t()(), l._3(5, 0, null, null, 0, "div", [["class", "mat-button-focus-overlay"]], null, null, null, null, null))], function (t, e) { var n = e.component; t(e, 4, 0, n._isIconButton, n._isRippleDisabled(), n._getHostElement()) }, function (t, e) { var n = e.component; t(e, 3, 0, n._isRoundButton || n._isIconButton, l._15(e, 4).unbounded) }) } const Ii = ls(class { constructor(t) { this._elementRef = t } }); class Mi { } class Ri extends Ii { constructor(t, e, n) { super(t), this._platform = e, this._document = n } ngAfterViewInit() { Object(l.T)() && this._platform.isBrowser && (this._checkToolbarMixedModes(), this._toolbarRows.changes.subscribe(() => this._checkToolbarMixedModes())) } _checkToolbarMixedModes() { this._toolbarRows.length && [].slice.call(this._elementRef.nativeElement.childNodes).filter(t => !(t.classList && t.classList.contains("mat-toolbar-row"))).filter(t => t.nodeType !== (this._document ? this._document.COMMENT_NODE : 8)).some(t => t.textContent.trim()) && function () { throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.") }() } } class Pi { } var Ni = l._1({ encapsulation: 2, styles: [".mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width:599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}"], data: {} }); function Di(t) { return l._26(2, [l._14(null, 0), l._14(null, 1)], null, null) } class Vi { } class ji { } class Fi { } class Li { } class zi { } var Hi = l._1({ encapsulation: 2, styles: [".mat-card{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:24px;border-radius:2px}.mat-card:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-card .mat-divider{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider{left:auto;right:0}.mat-card .mat-divider.mat-divider-inset{position:static;margin:0}@media screen and (-ms-high-contrast:active){.mat-card{outline:solid 1px}}.mat-card-flat{box-shadow:none}.mat-card-actions,.mat-card-content,.mat-card-subtitle,.mat-card-title{display:block;margin-bottom:16px}.mat-card-actions{margin-left:-16px;margin-right:-16px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 48px);margin:0 -24px 16px -24px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-footer{display:block;margin:0 -24px -24px -24px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button{margin:0 4px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header-text{margin:0 8px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0}.mat-card-lg-image,.mat-card-md-image,.mat-card-sm-image{margin:-8px 0}.mat-card-title-group{display:flex;justify-content:space-between;margin:0 -8px}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}@media (max-width:599px){.mat-card{padding:24px 16px}.mat-card-actions{margin-left:-8px;margin-right:-8px}.mat-card-image{width:calc(100% + 32px);margin:16px -16px}.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}.mat-card-header{margin:-8px 0 0 0}.mat-card-footer{margin-left:-16px;margin-right:-16px}}.mat-card-content>:first-child,.mat-card>:first-child{margin-top:0}.mat-card-content>:last-child:not(.mat-card-footer),.mat-card>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-24px}.mat-card>.mat-card-actions:last-child{margin-bottom:-16px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child{margin-left:0;margin-right:0}.mat-card-subtitle:not(:first-child),.mat-card-title:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"], data: {} }); function Ui(t) { return l._26(2, [l._14(null, 0), l._14(null, 1)], null, null) } var Bi = l._1({ encapsulation: 2, styles: [], data: {} }); function $i(t) { return l._26(2, [l._14(null, 0), (t()(), l._3(1, 0, null, null, 1, "div", [["class", "mat-card-header-text"]], null, null, null, null, null)), l._14(null, 1), l._14(null, 2)], null, null) } class Wi extends ae.a { constructor(t, e) { super(), this.sources = t, this.resultSelector = e } static create(...t) { if (null === t || 0 === arguments.length) return new c.a; let e = null; return "function" == typeof t[t.length - 1] && (e = t.pop()), 1 === t.length && Object(be.a)(t[0]) && (t = t[0]), 0 === t.length ? new c.a : new Wi(t, e) } _subscribe(t) { return new Gi(t, this.sources, this.resultSelector) } } class Gi extends ge.a { constructor(t, e, n) { super(t), this.sources = e, this.resultSelector = n, this.completed = 0, this.haveValues = 0; const l = e.length; this.total = l, this.values = new Array(l); for (let s = 0; s < l; s++) { const t = e[s], n = Object(fe.a)(this, t, null, s); n && (n.outerIndex = s, this.add(n)) } } notifyNext(t, e, n, l, s) { this.values[n] = e, s._hasValue || (s._hasValue = !0, this.haveValues++) } notifyComplete(t) { const e = this.destination, { haveValues: n, resultSelector: l, values: s } = this, i = s.length; if (t._hasValue) { if (this.completed++ , this.completed === i) { if (n === i) { const t = l ? l.apply(this, s) : s; e.next(t) } e.complete() } } else e.complete() } } const qi = Wi.create, Qi = fs.create; function Ki(t, e) { return Dt(t, e)(this) } class Ji { get value() { return this.control ? this.control.value : null } get valid() { return this.control ? this.control.valid : null } get invalid() { return this.control ? this.control.invalid : null } get pending() { return this.control ? this.control.pending : null } get disabled() { return this.control ? this.control.disabled : null } get enabled() { return this.control ? this.control.enabled : null } get errors() { return this.control ? this.control.errors : null } get pristine() { return this.control ? this.control.pristine : null } get dirty() { return this.control ? this.control.dirty : null } get touched() { return this.control ? this.control.touched : null } get status() { return this.control ? this.control.status : null } get untouched() { return this.control ? this.control.untouched : null } get statusChanges() { return this.control ? this.control.statusChanges : null } get valueChanges() { return this.control ? this.control.valueChanges : null } get path() { return null } reset(t) { this.control && this.control.reset(t) } hasError(t, e) { return !!this.control && this.control.hasError(t, e) } getError(t, e) { return this.control ? this.control.getError(t, e) : null } } class Zi extends Ji { get formDirective() { return null } get path() { return null } } function Yi(t) { return null == t || 0 === t.length } new l.o("NgValidators"), new l.o("NgAsyncValidators"); const Xi = /^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/; class tr { static min(t) { return e => { if (Yi(e.value) || Yi(t)) return null; const n = parseFloat(e.value); return !isNaN(n) && n < t ? { min: { min: t, actual: e.value } } : null } } static max(t) { return e => { if (Yi(e.value) || Yi(t)) return null; const n = parseFloat(e.value); return !isNaN(n) && n > t ? { max: { max: t, actual: e.value } } : null } } static required(t) { return Yi(t.value) ? { required: !0 } : null } static requiredTrue(t) { return !0 === t.value ? null : { required: !0 } } static email(t) { return Xi.test(t.value) ? null : { email: !0 } } static minLength(t) { return e => { if (Yi(e.value)) return null; const n = e.value ? e.value.length : 0; return n < t ? { minlength: { requiredLength: t, actualLength: n } } : null } } static maxLength(t) { return e => { const n = e.value ? e.value.length : 0; return n > t ? { maxlength: { requiredLength: t, actualLength: n } } : null } } static pattern(t) { if (!t) return tr.nullValidator; let e, n; return "string" == typeof t ? (n = "", "^" !== t.charAt(0) && (n += "^"), n += t, "$" !== t.charAt(t.length - 1) && (n += "$"), e = new RegExp(n)) : (n = t.toString(), e = t), t => { if (Yi(t.value)) return null; const l = t.value; return e.test(l) ? null : { pattern: { requiredPattern: n, actualValue: l } } } } static nullValidator(t) { return null } static compose(t) { if (!t) return null; const e = t.filter(er); return 0 == e.length ? null : function (t) { return lr(function (t, n) { return e.map(e => e(t)) }(t)) } } static composeAsync(t) { if (!t) return null; const e = t.filter(er); return 0 == e.length ? null : function (t) { const n = function (t, n) { return e.map(e => e(t)) }(t).map(nr); return Ki.call(qi(n), lr) } } } function er(t) { return null != t } function nr(t) { const e = Object(l._9)(t) ? Qi(t) : t; if (!Object(l._8)(e)) throw new Error("Expected validator to return Promise or Observable."); return e } function lr(t) { const e = t.reduce((t, e) => null != e ? Object.assign({}, t, e) : t, {}); return 0 === Object.keys(e).length ? null : e } const sr = new l.o("NgValueAccessor"); Object(l.R)(() => ir); class ir { constructor(t, e) { this._renderer = t, this._elementRef = e, this.onChange = (t => { }), this.onTouched = (() => { }) } writeValue(t) { this._renderer.setProperty(this._elementRef.nativeElement, "checked", t) } registerOnChange(t) { this.onChange = t } registerOnTouched(t) { this.onTouched = t } setDisabledState(t) { this._renderer.setProperty(this._elementRef.nativeElement, "disabled", t) } } Object(l.R)(() => rr), new l.o("CompositionEventMode"); class rr { constructor(t, e, n) { this._renderer = t, this._elementRef = e, this._compositionMode = n, this.onChange = (t => { }), this.onTouched = (() => { }), this._composing = !1, null == this._compositionMode && (this._compositionMode = !function () { const t = fn() ? fn().getUserAgent() : ""; return /android (\d+)/.test(t.toLowerCase()) }()) } writeValue(t) { this._renderer.setProperty(this._elementRef.nativeElement, "value", null == t ? "" : t) } registerOnChange(t) { this.onChange = t } registerOnTouched(t) { this.onTouched = t } setDisabledState(t) { this._renderer.setProperty(this._elementRef.nativeElement, "disabled", t) } _handleInput(t) { (!this._compositionMode || this._compositionMode && !this._composing) && this.onChange(t) } _compositionStart() { this._composing = !0 } _compositionEnd(t) { this._composing = !1, this._compositionMode && this.onChange(t) } } function or(t) { return t.validate ? e => t.validate(e) : t } function ar(t) { return t.validate ? e => t.validate(e) : t } Object(l.R)(() => ur); class ur { constructor(t, e) { this._renderer = t, this._elementRef = e, this.onChange = (t => { }), this.onTouched = (() => { }) } writeValue(t) { this._renderer.setProperty(this._elementRef.nativeElement, "value", null == t ? "" : t) } registerOnChange(t) { this.onChange = (e => { t("" == e ? null : parseFloat(e)) }) } registerOnTouched(t) { this.onTouched = t } setDisabledState(t) { this._renderer.setProperty(this._elementRef.nativeElement, "disabled", t) } } function cr() { throw new Error("unimplemented") } class hr extends Ji { constructor() { super(...arguments), this._parent = null, this.name = null, this.valueAccessor = null, this._rawValidators = [], this._rawAsyncValidators = [] } get validator() { return cr() } get asyncValidator() { return cr() } } Object(l.R)(() => dr); class dr { constructor(t, e, n, l) { this._renderer = t, this._elementRef = e, this._registry = n, this._injector = l, this.onChange = (() => { }), this.onTouched = (() => { }) } ngOnInit() { this._control = this._injector.get(hr), this._checkName(), this._registry.add(this._control, this) } ngOnDestroy() { this._registry.remove(this) } writeValue(t) { this._state = t === this.value, this._renderer.setProperty(this._elementRef.nativeElement, "checked", this._state) } registerOnChange(t) { this._fn = t, this.onChange = (() => { t(this.value), this._registry.select(this) }) } fireUncheck(t) { this.writeValue(t) } registerOnTouched(t) { this.onTouched = t } setDisabledState(t) { this._renderer.setProperty(this._elementRef.nativeElement, "disabled", t) } _checkName() { this.name && this.formControlName && this.name !== this.formControlName && this._throwNameError(), !this.name && this.formControlName && (this.name = this.formControlName) } _throwNameError() { throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ') } } Object(l.R)(() => pr); class pr { constructor(t, e) { this._renderer = t, this._elementRef = e, this.onChange = (t => { }), this.onTouched = (() => { }) } writeValue(t) { this._renderer.setProperty(this._elementRef.nativeElement, "value", parseFloat(t)) } registerOnChange(t) { this.onChange = (e => { t("" == e ? null : parseFloat(e)) }) } registerOnTouched(t) { this.onTouched = t } setDisabledState(t) { this._renderer.setProperty(this._elementRef.nativeElement, "disabled", t) } } Object(l.R)(() => mr); class mr { constructor(t, e) { this._renderer = t, this._elementRef = e, this._optionMap = new Map, this._idCounter = 0, this.onChange = (t => { }), this.onTouched = (() => { }), this._compareWith = l._10 } set compareWith(t) { if ("function" != typeof t) throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`); this._compareWith = t } writeValue(t) { this.value = t; const e = this._getOptionId(t); null == e && this._renderer.setProperty(this._elementRef.nativeElement, "selectedIndex", -1); const n = function (t, e) { return null == t ? `${e}` : (e && "object" == typeof e && (e = "Object"), `${t}: ${e}`.slice(0, 50)) }(e, t); this._renderer.setProperty(this._elementRef.nativeElement, "value", n) } registerOnChange(t) { this.onChange = (e => { this.value = this._getOptionValue(e), t(this.value) }) } registerOnTouched(t) { this.onTouched = t } setDisabledState(t) { this._renderer.setProperty(this._elementRef.nativeElement, "disabled", t) } _registerOption() { return (this._idCounter++).toString() } _getOptionId(t) { for (const e of Array.from(this._optionMap.keys())) if (this._compareWith(this._optionMap.get(e), t)) return e; return null } _getOptionValue(t) { const e = function (t) { return t.split(":")[0] }(t); return this._optionMap.has(e) ? this._optionMap.get(e) : t } } Object(l.R)(() => gr); class gr { constructor(t, e) { this._renderer = t, this._elementRef = e, this._optionMap = new Map, this._idCounter = 0, this.onChange = (t => { }), this.onTouched = (() => { }), this._compareWith = l._10 } set compareWith(t) { if ("function" != typeof t) throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`); this._compareWith = t } writeValue(t) { let e; if (this.value = t, Array.isArray(t)) { const n = t.map(t => this._getOptionId(t)); e = ((t, e) => { t._setSelected(n.indexOf(e.toString()) > -1) }) } else e = ((t, e) => { t._setSelected(!1) }); this._optionMap.forEach(e) } registerOnChange(t) { this.onChange = (e => { const n = []; if (e.hasOwnProperty("selectedOptions")) { const t = e.selectedOptions; for (let e = 0; e < t.length; e++) { const l = t.item(e), s = this._getOptionValue(l.value); n.push(s) } } else { const t = e.options; for (let e = 0; e < t.length; e++) { const l = t.item(e); if (l.selected) { const t = this._getOptionValue(l.value); n.push(t) } } } this.value = n, t(n) }) } registerOnTouched(t) { this.onTouched = t } setDisabledState(t) { this._renderer.setProperty(this._elementRef.nativeElement, "disabled", t) } _registerOption(t) { const e = (this._idCounter++).toString(); return this._optionMap.set(e, t), e } _getOptionId(t) { for (const e of Array.from(this._optionMap.keys())) if (this._compareWith(this._optionMap.get(e)._value, t)) return e; return null } _getOptionValue(t) { const e = function (t) { return t.split(":")[0] }(t); return this._optionMap.has(e) ? this._optionMap.get(e)._value : t } } function fr(t, e) { return [...e.path, t] } function _r(t, e) { t || vr(e, "Cannot find control with"), e.valueAccessor || vr(e, "No value accessor for form control with"), t.validator = tr.compose([t.validator, e.validator]), t.asyncValidator = tr.composeAsync([t.asyncValidator, e.asyncValidator]), e.valueAccessor.writeValue(t.value), function (t, e) { e.valueAccessor.registerOnChange(n => { t._pendingValue = n, t._pendingChange = !0, t._pendingDirty = !0, "change" === t.updateOn && yr(t, e) }) }(t, e), function (t, e) { t.registerOnChange((t, n) => { e.valueAccessor.writeValue(t), n && e.viewToModelUpdate(t) }) }(t, e), function (t, e) { e.valueAccessor.registerOnTouched(() => { t._pendingTouched = !0, "blur" === t.updateOn && t._pendingChange && yr(t, e), "submit" !== t.updateOn && t.markAsTouched() }) }(t, e), e.valueAccessor.setDisabledState && t.registerOnDisabledChange(t => { e.valueAccessor.setDisabledState(t) }), e._rawValidators.forEach(e => { e.registerOnValidatorChange && e.registerOnValidatorChange(() => t.updateValueAndValidity()) }), e._rawAsyncValidators.forEach(e => { e.registerOnValidatorChange && e.registerOnValidatorChange(() => t.updateValueAndValidity()) }) } function yr(t, e) { e.viewToModelUpdate(t._pendingValue), t._pendingDirty && t.markAsDirty(), t.setValue(t._pendingValue, { emitModelToViewChange: !1 }), t._pendingChange = !1 } function br(t, e) { null == t && vr(e, "Cannot find control with"), t.validator = tr.compose([t.validator, e.validator]), t.asyncValidator = tr.composeAsync([t.asyncValidator, e.asyncValidator]) } function wr(t) { return vr(t, "There is no FormControl instance attached to form control element with") } function vr(t, e) { let n; throw n = t.path.length > 1 ? `path: '${t.path.join(" -> ")}'` : t.path[0] ? `name: '${t.path}'` : "unspecified name attribute", new Error(`${e} ${n}`) } function xr(t) { return null != t ? tr.compose(t.map(or)) : null } function Cr(t) { return null != t ? tr.composeAsync(t.map(ar)) : null } function Sr(t, e) { if (!t.hasOwnProperty("model")) return !1; const n = t.model; return !!n.isFirstChange() || !Object(l._10)(e, n.currentValue) } const Er = [ir, pr, ur, mr, gr, dr]; function kr(t, e) { t._syncPendingControls(), e.forEach(t => { const e = t.control; "submit" === e.updateOn && e._pendingChange && (t.viewToModelUpdate(e._pendingValue), e._pendingChange = !1) }) } function Tr(t, e) { if (!e) return null; let n = void 0, l = void 0, s = void 0; return e.forEach(e => { e.constructor === rr ? n = e : function (t) { return Er.some(e => t.constructor === e) }(e) ? (l && vr(t, "More than one built-in value accessor matches form control with"), l = e) : (s && vr(t, "More than one custom value accessor matches form control with"), s = e) }), s || l || n || (vr(t, "No valid value accessor for form control with"), null) } function Or(t, e) { const n = t.indexOf(e); n > -1 && t.splice(n, 1) } class Ar extends Zi { ngOnInit() { this._checkParentType(), this.formDirective.addFormGroup(this) } ngOnDestroy() { this.formDirective && this.formDirective.removeFormGroup(this) } get control() { return this.formDirective.getFormGroup(this) } get path() { return fr(this.name, this._parent) } get formDirective() { return this._parent ? this._parent.formDirective : null } get validator() { return xr(this._validators) } get asyncValidator() { return Cr(this._asyncValidators) } _checkParentType() { } } const Ir = "VALID", Mr = "INVALID", Rr = "PENDING", Pr = "DISABLED"; function Nr(t) { const e = Vr(t) ? t.validators : t; return Array.isArray(e) ? xr(e) : e || null } function Dr(t, e) { const n = Vr(e) ? e.asyncValidators : t; return Array.isArray(n) ? Cr(n) : n || null } function Vr(t) { return null != t && !Array.isArray(t) && "object" == typeof t } class jr { constructor(t, e) { this.validator = t, this.asyncValidator = e, this._onCollectionChange = (() => { }), this.pristine = !0, this.touched = !1, this._onDisabledChange = [] } get parent() { return this._parent } get valid() { return this.status === Ir } get invalid() { return this.status === Mr } get pending() { return this.status == Rr } get disabled() { return this.status === Pr } get enabled() { return this.status !== Pr } get dirty() { return !this.pristine } get untouched() { return !this.touched } get updateOn() { return this._updateOn ? this._updateOn : this.parent ? this.parent.updateOn : "change" } setValidators(t) { this.validator = Nr(t) } setAsyncValidators(t) { this.asyncValidator = Dr(t) } clearValidators() { this.validator = null } clearAsyncValidators() { this.asyncValidator = null } markAsTouched(t = {}) { this.touched = !0, this._parent && !t.onlySelf && this._parent.markAsTouched(t) } markAsUntouched(t = {}) { this.touched = !1, this._pendingTouched = !1, this._forEachChild(t => { t.markAsUntouched({ onlySelf: !0 }) }), this._parent && !t.onlySelf && this._parent._updateTouched(t) } markAsDirty(t = {}) { this.pristine = !1, this._parent && !t.onlySelf && this._parent.markAsDirty(t) } markAsPristine(t = {}) { this.pristine = !0, this._pendingDirty = !1, this._forEachChild(t => { t.markAsPristine({ onlySelf: !0 }) }), this._parent && !t.onlySelf && this._parent._updatePristine(t) } markAsPending(t = {}) { this.status = Rr, this._parent && !t.onlySelf && this._parent.markAsPending(t) } disable(t = {}) { this.status = Pr, this.errors = null, this._forEachChild(e => { e.disable(Object.assign({}, t, { onlySelf: !0 })) }), this._updateValue(), !1 !== t.emitEvent && (this.valueChanges.emit(this.value), this.statusChanges.emit(this.status)), this._updateAncestors(t), this._onDisabledChange.forEach(t => t(!0)) } enable(t = {}) { this.status = Ir, this._forEachChild(e => { e.enable(Object.assign({}, t, { onlySelf: !0 })) }), this.updateValueAndValidity({ onlySelf: !0, emitEvent: t.emitEvent }), this._updateAncestors(t), this._onDisabledChange.forEach(t => t(!1)) } _updateAncestors(t) { this._parent && !t.onlySelf && (this._parent.updateValueAndValidity(t), this._parent._updatePristine(), this._parent._updateTouched()) } setParent(t) { this._parent = t } updateValueAndValidity(t = {}) { this._setInitialStatus(), this._updateValue(), this.enabled && (this._cancelExistingSubscription(), this.errors = this._runValidator(), this.status = this._calculateStatus(), this.status !== Ir && this.status !== Rr || this._runAsyncValidator(t.emitEvent)), !1 !== t.emitEvent && (this.valueChanges.emit(this.value), this.statusChanges.emit(this.status)), this._parent && !t.onlySelf && this._parent.updateValueAndValidity(t) } _updateTreeValidity(t = { emitEvent: !0 }) { this._forEachChild(e => e._updateTreeValidity(t)), this.updateValueAndValidity({ onlySelf: !0, emitEvent: t.emitEvent }) } _setInitialStatus() { this.status = this._allControlsDisabled() ? Pr : Ir } _runValidator() { return this.validator ? this.validator(this) : null } _runAsyncValidator(t) { if (this.asyncValidator) { this.status = Rr; const e = nr(this.asyncValidator(this)); this._asyncValidationSubscription = e.subscribe(e => this.setErrors(e, { emitEvent: t })) } } _cancelExistingSubscription() { this._asyncValidationSubscription && this._asyncValidationSubscription.unsubscribe() } setErrors(t, e = {}) { this.errors = t, this._updateControlsErrors(!1 !== e.emitEvent) } get(t) { return function (t, e, n) { return null == e ? null : (e instanceof Array || (e = e.split(".")), e instanceof Array && 0 === e.length ? null : e.reduce((t, e) => t instanceof Lr ? t.controls[e] || null : t instanceof zr && t.at(e) || null, t)) }(this, t) } getError(t, e) { const n = e ? this.get(e) : this; return n && n.errors ? n.errors[t] : null } hasError(t, e) { return !!this.getError(t, e) } get root() { let t = this; for (; t._parent;)t = t._parent; return t } _updateControlsErrors(t) { this.status = this._calculateStatus(), t && this.statusChanges.emit(this.status), this._parent && this._parent._updateControlsErrors(t) } _initObservables() { this.valueChanges = new l.m, this.statusChanges = new l.m } _calculateStatus() { return this._allControlsDisabled() ? Pr : this.errors ? Mr : this._anyControlsHaveStatus(Rr) ? Rr : this._anyControlsHaveStatus(Mr) ? Mr : Ir } _anyControlsHaveStatus(t) { return this._anyControls(e => e.status === t) } _anyControlsDirty() { return this._anyControls(t => t.dirty) } _anyControlsTouched() { return this._anyControls(t => t.touched) } _updatePristine(t = {}) { this.pristine = !this._anyControlsDirty(), this._parent && !t.onlySelf && this._parent._updatePristine(t) } _updateTouched(t = {}) { this.touched = this._anyControlsTouched(), this._parent && !t.onlySelf && this._parent._updateTouched(t) } _isBoxedValue(t) { return "object" == typeof t && null !== t && 2 === Object.keys(t).length && "value" in t && "disabled" in t } _registerOnCollectionChange(t) { this._onCollectionChange = t } _setUpdateStrategy(t) { Vr(t) && null != t.updateOn && (this._updateOn = t.updateOn) } } class Fr extends jr { constructor(t = null, e, n) { super(Nr(e), Dr(n, e)), this._onChange = [], this._applyFormState(t), this._setUpdateStrategy(e), this.updateValueAndValidity({ onlySelf: !0, emitEvent: !1 }), this._initObservables() } setValue(t, e = {}) { this.value = this._pendingValue = t, this._onChange.length && !1 !== e.emitModelToViewChange && this._onChange.forEach(t => t(this.value, !1 !== e.emitViewToModelChange)), this.updateValueAndValidity(e) } patchValue(t, e = {}) { this.setValue(t, e) } reset(t = null, e = {}) { this._applyFormState(t), this.markAsPristine(e), this.markAsUntouched(e), this.setValue(this.value, e), this._pendingChange = !1 } _updateValue() { } _anyControls(t) { return !1 } _allControlsDisabled() { return this.disabled } registerOnChange(t) { this._onChange.push(t) } _clearChangeFns() { this._onChange = [], this._onDisabledChange = [], this._onCollectionChange = (() => { }) } registerOnDisabledChange(t) { this._onDisabledChange.push(t) } _forEachChild(t) { } _syncPendingControls() { return !("submit" !== this.updateOn || (this._pendingDirty && this.markAsDirty(), this._pendingTouched && this.markAsTouched(), !this._pendingChange) || (this.setValue(this._pendingValue, { onlySelf: !0, emitModelToViewChange: !1 }), 0)) } _applyFormState(t) { this._isBoxedValue(t) ? (this.value = this._pendingValue = t.value, t.disabled ? this.disable({ onlySelf: !0, emitEvent: !1 }) : this.enable({ onlySelf: !0, emitEvent: !1 })) : this.value = this._pendingValue = t } } class Lr extends jr { constructor(t, e, n) { super(Nr(e), Dr(n, e)), this.controls = t, this._initObservables(), this._setUpdateStrategy(e), this._setUpControls(), this.updateValueAndValidity({ onlySelf: !0, emitEvent: !1 }) } registerControl(t, e) { return this.controls[t] ? this.controls[t] : (this.controls[t] = e, e.setParent(this), e._registerOnCollectionChange(this._onCollectionChange), e) } addControl(t, e) { this.registerControl(t, e), this.updateValueAndValidity(), this._onCollectionChange() } removeControl(t) { this.controls[t] && this.controls[t]._registerOnCollectionChange(() => { }), delete this.controls[t], this.updateValueAndValidity(), this._onCollectionChange() } setControl(t, e) { this.controls[t] && this.controls[t]._registerOnCollectionChange(() => { }), delete this.controls[t], e && this.registerControl(t, e), this.updateValueAndValidity(), this._onCollectionChange() } contains(t) { return this.controls.hasOwnProperty(t) && this.controls[t].enabled } setValue(t, e = {}) { this._checkAllValuesPresent(t), Object.keys(t).forEach(n => { this._throwIfControlMissing(n), this.controls[n].setValue(t[n], { onlySelf: !0, emitEvent: e.emitEvent }) }), this.updateValueAndValidity(e) } patchValue(t, e = {}) { Object.keys(t).forEach(n => { this.controls[n] && this.controls[n].patchValue(t[n], { onlySelf: !0, emitEvent: e.emitEvent }) }), this.updateValueAndValidity(e) } reset(t = {}, e = {}) { this._forEachChild((n, l) => { n.reset(t[l], { onlySelf: !0, emitEvent: e.emitEvent }) }), this.updateValueAndValidity(e), this._updatePristine(e), this._updateTouched(e) } getRawValue() { return this._reduceChildren({}, (t, e, n) => (t[n] = e instanceof Fr ? e.value : e.getRawValue(), t)) } _syncPendingControls() { let t = this._reduceChildren(!1, (t, e) => !!e._syncPendingControls() || t); return t && this.updateValueAndValidity({ onlySelf: !0 }), t } _throwIfControlMissing(t) { if (!Object.keys(this.controls).length) throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      "); if (!this.controls[t]) throw new Error(`Cannot find form control with name: ${t}.`) } _forEachChild(t) { Object.keys(this.controls).forEach(e => t(this.controls[e], e)) } _setUpControls() { this._forEachChild(t => { t.setParent(this), t._registerOnCollectionChange(this._onCollectionChange) }) } _updateValue() { this.value = this._reduceValue() } _anyControls(t) { let e = !1; return this._forEachChild((n, l) => { e = e || this.contains(l) && t(n) }), e } _reduceValue() { return this._reduceChildren({}, (t, e, n) => ((e.enabled || this.disabled) && (t[n] = e.value), t)) } _reduceChildren(t, e) { let n = t; return this._forEachChild((t, l) => { n = e(n, t, l) }), n } _allControlsDisabled() { for (const t of Object.keys(this.controls)) if (this.controls[t].enabled) return !1; return Object.keys(this.controls).length > 0 || this.disabled } _checkAllValuesPresent(t) { this._forEachChild((e, n) => { if (void 0 === t[n]) throw new Error(`Must supply a value for form control with name: '${n}'.`) }) } } class zr extends jr { constructor(t, e, n) { super(Nr(e), Dr(n, e)), this.controls = t, this._initObservables(), this._setUpdateStrategy(e), this._setUpControls(), this.updateValueAndValidity({ onlySelf: !0, emitEvent: !1 }) } at(t) { return this.controls[t] } push(t) { this.controls.push(t), this._registerControl(t), this.updateValueAndValidity(), this._onCollectionChange() } insert(t, e) { this.controls.splice(t, 0, e), this._registerControl(e), this.updateValueAndValidity() } removeAt(t) { this.controls[t] && this.controls[t]._registerOnCollectionChange(() => { }), this.controls.splice(t, 1), this.updateValueAndValidity() } setControl(t, e) { this.controls[t] && this.controls[t]._registerOnCollectionChange(() => { }), this.controls.splice(t, 1), e && (this.controls.splice(t, 0, e), this._registerControl(e)), this.updateValueAndValidity(), this._onCollectionChange() } get length() { return this.controls.length } setValue(t, e = {}) { this._checkAllValuesPresent(t), t.forEach((t, n) => { this._throwIfControlMissing(n), this.at(n).setValue(t, { onlySelf: !0, emitEvent: e.emitEvent }) }), this.updateValueAndValidity(e) } patchValue(t, e = {}) { t.forEach((t, n) => { this.at(n) && this.at(n).patchValue(t, { onlySelf: !0, emitEvent: e.emitEvent }) }), this.updateValueAndValidity(e) } reset(t = [], e = {}) { this._forEachChild((n, l) => { n.reset(t[l], { onlySelf: !0, emitEvent: e.emitEvent }) }), this.updateValueAndValidity(e), this._updatePristine(e), this._updateTouched(e) } getRawValue() { return this.controls.map(t => t instanceof Fr ? t.value : t.getRawValue()) } _syncPendingControls() { let t = this.controls.reduce((t, e) => !!e._syncPendingControls() || t, !1); return t && this.updateValueAndValidity({ onlySelf: !0 }), t } _throwIfControlMissing(t) { if (!this.controls.length) throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      "); if (!this.at(t)) throw new Error(`Cannot find form control at index ${t}`) } _forEachChild(t) { this.controls.forEach((e, n) => { t(e, n) }) } _updateValue() { this.value = this.controls.filter(t => t.enabled || this.disabled).map(t => t.value) } _anyControls(t) { return this.controls.some(e => e.enabled && t(e)) } _setUpControls() { this._forEachChild(t => this._registerControl(t)) } _checkAllValuesPresent(t) { this._forEachChild((e, n) => { if (void 0 === t[n]) throw new Error(`Must supply a value for form control at index: ${n}.`) }) } _allControlsDisabled() { for (const t of this.controls) if (t.enabled) return !1; return this.controls.length > 0 || this.disabled } _registerControl(t) { t.setParent(this), t._registerOnCollectionChange(this._onCollectionChange) } } Object(l.R)(() => Ur); const Hr = Promise.resolve(null); class Ur extends Zi { constructor(t, e) { super(), this.submitted = !1, this._directives = [], this.ngSubmit = new l.m, this.form = new Lr({}, xr(t), Cr(e)) } ngAfterViewInit() { this._setUpdateStrategy() } get formDirective() { return this } get control() { return this.form } get path() { return [] } get controls() { return this.form.controls } addControl(t) { Hr.then(() => { const e = this._findContainer(t.path); t.control = e.registerControl(t.name, t.control), _r(t.control, t), t.control.updateValueAndValidity({ emitEvent: !1 }), this._directives.push(t) }) } getControl(t) { return this.form.get(t.path) } removeControl(t) { Hr.then(() => { const e = this._findContainer(t.path); e && e.removeControl(t.name), Or(this._directives, t) }) } addFormGroup(t) { Hr.then(() => { const e = this._findContainer(t.path), n = new Lr({}); br(n, t), e.registerControl(t.name, n), n.updateValueAndValidity({ emitEvent: !1 }) }) } removeFormGroup(t) { Hr.then(() => { const e = this._findContainer(t.path); e && e.removeControl(t.name) }) } getFormGroup(t) { return this.form.get(t.path) } updateModel(t, e) { Hr.then(() => { this.form.get(t.path).setValue(e) }) } setValue(t) { this.control.setValue(t) } onSubmit(t) { return this.submitted = !0, kr(this.form, this._directives), this.ngSubmit.emit(t), !1 } onReset() { this.resetForm() } resetForm(t) { this.form.reset(t), this.submitted = !1 } _setUpdateStrategy() { this.options && null != this.options.updateOn && (this.form._updateOn = this.options.updateOn) } _findContainer(t) { return t.pop(), t.length ? this.form.get(t) : this.form } } const Br = { formControlName: '\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });', formGroupName: '\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });', formArrayName: '\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });', ngModelGroup: '\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>', ngModelWithFormGroup: '\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ' }; class $r { static modelParentException() { throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${Br.formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${Br.ngModelWithFormGroup}`) } static formGroupNameException() { throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${Br.formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Br.ngModelGroup}`) } static missingNameException() { throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">') } static modelGroupParentException() { throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${Br.formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Br.ngModelGroup}`) } } Object(l.R)(() => Wr); class Wr extends Ar { constructor(t, e, n) { super(), this._parent = t, this._validators = e, this._asyncValidators = n } _checkParentType() { this._parent instanceof Wr || this._parent instanceof Ur || $r.modelGroupParentException() } } Object(l.R)(() => (class extends hr { constructor(t, e, n, s) { super(), this.control = new Fr, this._registered = !1, this.update = new l.m, this._parent = t, this._rawValidators = e || [], this._rawAsyncValidators = n || [], this.valueAccessor = Tr(this, s) } ngOnChanges(t) { this._checkForErrors(), this._registered || this._setUpControl(), "isDisabled" in t && this._updateDisabled(t), Sr(t, this.viewModel) && (this._updateValue(this.model), this.viewModel = this.model) } ngOnDestroy() { this.formDirective && this.formDirective.removeControl(this) } get path() { return this._parent ? fr(this.name, this._parent) : [this.name] } get formDirective() { return this._parent ? this._parent.formDirective : null } get validator() { return xr(this._rawValidators) } get asyncValidator() { return Cr(this._rawAsyncValidators) } viewToModelUpdate(t) { this.viewModel = t, this.update.emit(t) } _setUpControl() { this._setUpdateStrategy(), this._isStandalone() ? this._setUpStandalone() : this.formDirective.addControl(this), this._registered = !0 } _setUpdateStrategy() { this.options && null != this.options.updateOn && (this.control._updateOn = this.options.updateOn) } _isStandalone() { return !this._parent || !(!this.options || !this.options.standalone) } _setUpStandalone() { _r(this.control, this), this.control.updateValueAndValidity({ emitEvent: !1 }) } _checkForErrors() { this._isStandalone() || this._checkParentType(), this._checkName() } _checkParentType() { !(this._parent instanceof Wr) && this._parent instanceof Ar ? $r.formGroupNameException() : this._parent instanceof Wr || this._parent instanceof Ur || $r.modelParentException() } _checkName() { this.options && this.options.name && (this.name = this.options.name), this._isStandalone() || this.name || $r.missingNameException() } _updateValue(t) { Gr.then(() => { this.control.setValue(t, { emitViewToModelChange: !1 }) }) } _updateDisabled(t) { const e = t.isDisabled.currentValue, n = "" === e || e && "false" !== e; Gr.then(() => { n && !this.control.disabled ? this.control.disable() : !n && this.control.disabled && this.control.enable() }) } })); const Gr = Promise.resolve(null); class qr { static controlParentException() { throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Br.formControlName}`) } static ngModelGroupException() { throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${Br.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${Br.ngModelGroup}`) } static missingFormException() { throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${Br.formControlName}`) } static groupParentException() { throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Br.formGroupName}`) } static arrayParentException() { throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${Br.formArrayName}`) } static disabledAttrWarning() { console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ") } } Object(l.R)(() => (class extends hr { constructor(t, e, n) { super(), this.update = new l.m, this._rawValidators = t || [], this._rawAsyncValidators = e || [], this.valueAccessor = Tr(this, n) } set isDisabled(t) { qr.disabledAttrWarning() } ngOnChanges(t) { this._isControlChanged(t) && (_r(this.form, this), this.control.disabled && this.valueAccessor.setDisabledState && this.valueAccessor.setDisabledState(!0), this.form.updateValueAndValidity({ emitEvent: !1 })), Sr(t, this.viewModel) && (this.form.setValue(this.model), this.viewModel = this.model) } get path() { return [] } get validator() { return xr(this._rawValidators) } get asyncValidator() { return Cr(this._rawAsyncValidators) } get control() { return this.form } viewToModelUpdate(t) { this.viewModel = t, this.update.emit(t) } _isControlChanged(t) { return t.hasOwnProperty("form") } })), Object(l.R)(() => Qr); class Qr extends Zi { constructor(t, e) { super(), this._validators = t, this._asyncValidators = e, this.submitted = !1, this.directives = [], this.form = null, this.ngSubmit = new l.m } ngOnChanges(t) { this._checkFormPresent(), t.hasOwnProperty("form") && (this._updateValidators(), this._updateDomValue(), this._updateRegistrations()) } get formDirective() { return this } get control() { return this.form } get path() { return [] } addControl(t) { const e = this.form.get(t.path); return _r(e, t), e.updateValueAndValidity({ emitEvent: !1 }), this.directives.push(t), e } getControl(t) { return this.form.get(t.path) } removeControl(t) { Or(this.directives, t) } addFormGroup(t) { const e = this.form.get(t.path); br(e, t), e.updateValueAndValidity({ emitEvent: !1 }) } removeFormGroup(t) { } getFormGroup(t) { return this.form.get(t.path) } addFormArray(t) { const e = this.form.get(t.path); br(e, t), e.updateValueAndValidity({ emitEvent: !1 }) } removeFormArray(t) { } getFormArray(t) { return this.form.get(t.path) } updateModel(t, e) { this.form.get(t.path).setValue(e) } onSubmit(t) { return this.submitted = !0, kr(this.form, this.directives), this.ngSubmit.emit(t), !1 } onReset() { this.resetForm() } resetForm(t) { this.form.reset(t), this.submitted = !1 } _updateDomValue() { this.directives.forEach(t => { const e = this.form.get(t.path); t.control !== e && (function (t, e) { e.valueAccessor.registerOnChange(() => wr(e)), e.valueAccessor.registerOnTouched(() => wr(e)), e._rawValidators.forEach(t => { t.registerOnValidatorChange && t.registerOnValidatorChange(null) }), e._rawAsyncValidators.forEach(t => { t.registerOnValidatorChange && t.registerOnValidatorChange(null) }), t && t._clearChangeFns() }(t.control, t), e && _r(e, t), t.control = e) }), this.form._updateTreeValidity({ emitEvent: !1 }) } _updateRegistrations() { this.form._registerOnCollectionChange(() => this._updateDomValue()), this._oldForm && this._oldForm._registerOnCollectionChange(() => { }), this._oldForm = this.form } _updateValidators() { const t = xr(this._validators); this.form.validator = tr.compose([this.form.validator, t]); const e = Cr(this._asyncValidators); this.form.asyncValidator = tr.composeAsync([this.form.asyncValidator, e]) } _checkFormPresent() { this.form || qr.missingFormException() } } Object(l.R)(() => Kr); class Kr extends Ar { constructor(t, e, n) { super(), this._parent = t, this._validators = e, this._asyncValidators = n } _checkParentType() { Zr(this._parent) && qr.groupParentException() } } Object(l.R)(() => Jr); class Jr extends Zi { constructor(t, e, n) { super(), this._parent = t, this._validators = e, this._asyncValidators = n } ngOnInit() { this._checkParentType(), this.formDirective.addFormArray(this) } ngOnDestroy() { this.formDirective && this.formDirective.removeFormArray(this) } get control() { return this.formDirective.getFormArray(this) } get formDirective() { return this._parent ? this._parent.formDirective : null } get path() { return fr(this.name, this._parent) } get validator() { return xr(this._validators) } get asyncValidator() { return Cr(this._asyncValidators) } _checkParentType() { Zr(this._parent) && qr.arrayParentException() } } function Zr(t) { return !(t instanceof Kr || t instanceof Qr || t instanceof Jr) } Object(l.R)(() => (class extends hr { constructor(t, e, n, s) { super(), this._added = !1, this.update = new l.m, this._parent = t, this._rawValidators = e || [], this._rawAsyncValidators = n || [], this.valueAccessor = Tr(this, s) } set isDisabled(t) { qr.disabledAttrWarning() } ngOnChanges(t) { this._added || this._setUpControl(), Sr(t, this.viewModel) && (this.viewModel = this.model, this.formDirective.updateModel(this, this.model)) } ngOnDestroy() { this.formDirective && this.formDirective.removeControl(this) } viewToModelUpdate(t) { this.viewModel = t, this.update.emit(t) } get path() { return fr(this.name, this._parent) } get formDirective() { return this._parent ? this._parent.formDirective : null } get validator() { return xr(this._rawValidators) } get asyncValidator() { return Cr(this._rawAsyncValidators) } _checkParentType() { !(this._parent instanceof Kr) && this._parent instanceof Ar ? qr.ngModelGroupException() : this._parent instanceof Kr || this._parent instanceof Qr || this._parent instanceof Jr || qr.controlParentException() } _setUpControl() { this._checkParentType(), this.control = this.formDirective.addControl(this), this.control.disabled && this.valueAccessor.setDisabledState && this.valueAccessor.setDisabledState(!0), this._added = !0 } })), Object(l.R)(() => Yr), Object(l.R)(() => (class extends Yr { validate(t) { return this.required ? tr.requiredTrue(t) : null } })); class Yr { get required() { return this._required } set required(t) { this._required = null != t && !1 !== t && "false" !== `${t}`, this._onChange && this._onChange() } validate(t) { return this.required ? tr.required(t) : null } registerOnValidatorChange(t) { this._onChange = t } } Object(l.R)(() => (class { set email(t) { this._enabled = "" === t || !0 === t || "true" === t, this._onChange && this._onChange() } validate(t) { return this._enabled ? tr.email(t) : null } registerOnValidatorChange(t) { this._onChange = t } })), Object(l.R)(() => (class { ngOnChanges(t) { "minlength" in t && (this._createValidator(), this._onChange && this._onChange()) } validate(t) { return null == this.minlength ? null : this._validator(t) } registerOnValidatorChange(t) { this._onChange = t } _createValidator() { this._validator = tr.minLength(parseInt(this.minlength, 10)) } })), Object(l.R)(() => (class { ngOnChanges(t) { "maxlength" in t && (this._createValidator(), this._onChange && this._onChange()) } validate(t) { return null != this.maxlength ? this._validator(t) : null } registerOnValidatorChange(t) { this._onChange = t } _createValidator() { this._validator = tr.maxLength(parseInt(this.maxlength, 10)) } })), Object(l.R)(() => (class { ngOnChanges(t) { "pattern" in t && (this._createValidator(), this._onChange && this._onChange()) } validate(t) { return this._validator(t) } registerOnValidatorChange(t) { this._onChange = t } _createValidator() { this._validator = tr.pattern(this.pattern) } })), new l.L("5.2.9"); class Xr { constructor() { this._listeners = [] } notify(t, e) { for (let n of this._listeners) n(t, e) } listen(t) { return this._listeners.push(t), () => { this._listeners = this._listeners.filter(e => t !== e) } } ngOnDestroy() { this._listeners = [] } } function to(t) { return t || new Xr } new l.y, new l.G; const eo = ns(class { }); Object(l.R)(() => so); let no = 0; class lo { } class so extends eo { constructor(t) { super(), this._changeDetector = t, this._controlValueAccessorChangeFn = (() => { }), this._onTouched = (() => { }), this._name = `mat-button-toggle-group-${no++}`, this._vertical = !1, this._value = null, this.valueChange = new l.m, this._selected = null, this.change = new l.m } get name() { return this._name } set name(t) { this._name = t, this._updateButtonToggleNames() } get vertical() { return this._vertical } set vertical(t) { this._vertical = r(t) } get value() { return this._value } set value(t) { this._value != t && (this._value = t, this.valueChange.emit(t), this._updateSelectedButtonToggleFromValue()) } get selected() { return this._selected } set selected(t) { this._selected = t, this.value = t ? t.value : null, t && !t.checked && (t.checked = !0) } _updateButtonToggleNames() { this._buttonToggles && this._buttonToggles.forEach(t => { t.name = this._name }) } _updateSelectedButtonToggleFromValue() { if (null != this._buttonToggles && (null == this._selected || this._selected.value != this._value)) { let t = this._buttonToggles.filter(t => t.value == this._value)[0]; t ? this.selected = t : null == this.value && (this.selected = null, this._buttonToggles.forEach(t => { t.checked = !1 })) } } _emitChangeEvent() { let t = new lo; t.source = this._selected, t.value = this._value, this._controlValueAccessorChangeFn(t.value), this.change.emit(t) } writeValue(t) { this.value = t, this._changeDetector.markForCheck() } registerOnChange(t) { this._controlValueAccessorChangeFn = t } registerOnTouched(t) { this._onTouched = t } setDisabledState(t) { this.disabled = t, this._markButtonTogglesForCheck() } _markButtonTogglesForCheck() { this._buttonToggles && this._buttonToggles.forEach(t => t._markForCheck()) } } class io extends eo { constructor() { super(...arguments), this._vertical = !1 } get vertical() { return this._vertical } set vertical(t) { this._vertical = r(t) } } class ro { constructor(t, e, n, s, i, r) { this._changeDetectorRef = n, this._buttonToggleDispatcher = s, this._elementRef = i, this._focusMonitor = r, this.ariaLabel = "", this.ariaLabelledby = null, this._isSingleSelector = !1, this._removeUniqueSelectionListener = (() => { }), this._checked = !1, this._value = null, this._disabled = !1, this.change = new l.m, this.buttonToggleGroup = t, this.buttonToggleGroupMultiple = e, this.buttonToggleGroup ? (this._removeUniqueSelectionListener = s.listen((t, e) => { t != this.id && e == this.name && (this.checked = !1, this._changeDetectorRef.markForCheck()) }), this._type = "radio", this.name = this.buttonToggleGroup.name, this._isSingleSelector = !0) : (this._type = "checkbox", this._isSingleSelector = !1) } get inputId() { return `${this.id}-input` } get checked() { return this._checked } set checked(t) { this._isSingleSelector && t && (this._buttonToggleDispatcher.notify(this.id, this.name), this._changeDetectorRef.markForCheck()), this._checked = t, t && this._isSingleSelector && this.buttonToggleGroup.value != this.value && (this.buttonToggleGroup.selected = this) } get value() { return this._value } set value(t) { this._value != t && (null != this.buttonToggleGroup && this.checked && (this.buttonToggleGroup.value = t), this._value = t) } get disabled() { return this._disabled || null != this.buttonToggleGroup && this.buttonToggleGroup.disabled || null != this.buttonToggleGroupMultiple && this.buttonToggleGroupMultiple.disabled } set disabled(t) { this._disabled = r(t) } ngOnInit() { null == this.id && (this.id = `mat-button-toggle-${no++}`), this.buttonToggleGroup && this._value == this.buttonToggleGroup.value && (this._checked = !0), this._focusMonitor.monitor(this._elementRef.nativeElement, !0) } focus() { this._inputElement.nativeElement.focus() } _toggle() { this.checked = !this.checked } _onInputChange(t) { if (t.stopPropagation(), this._isSingleSelector) { let t = this.buttonToggleGroup.selected != this; this.checked = !0, this.buttonToggleGroup.selected = this, this.buttonToggleGroup._onTouched(), t && this.buttonToggleGroup._emitChangeEvent() } else this._toggle(); this._emitChangeEvent() } _onInputClick(t) { t.stopPropagation() } _emitChangeEvent() { let t = new lo; t.source = this, t.value = this._value, this.change.emit(t) } ngOnDestroy() { this._removeUniqueSelectionListener() } _markForCheck() { this._changeDetectorRef.markForCheck() } } class oo { } var ao = l._1({ encapsulation: 2, styles: [".mat-button-toggle-group,.mat-button-toggle-standalone{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);position:relative;display:inline-flex;flex-direction:row;border-radius:2px;cursor:pointer;white-space:nowrap;overflow:hidden}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle-disabled .mat-button-toggle-label-content{cursor:default}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay,.mat-button-toggle.cdk-program-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;cursor:pointer}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}"], data: {} }); function uo(t) { return l._26(2, [l._22(402653184, 1, { _inputElement: 0 }), (t()(), l._3(1, 0, null, null, 3, "label", [["class", "mat-button-toggle-label"]], [[1, "for", 0]], null, null, null, null)), (t()(), l._3(2, 0, [[1, 0], ["input", 1]], null, 0, "input", [["class", "mat-button-toggle-input cdk-visually-hidden"]], [[8, "type", 0], [8, "id", 0], [8, "checked", 0], [8, "disabled", 0], [1, "name", 0], [1, "aria-label", 0], [1, "aria-labelledby", 0]], [[null, "change"], [null, "click"]], function (t, e, n) { var l = !0, s = t.component; return "change" === e && (l = !1 !== s._onInputChange(n) && l), "click" === e && (l = !1 !== s._onInputClick(n) && l), l }, null, null)), (t()(), l._3(3, 0, null, null, 1, "div", [["class", "mat-button-toggle-label-content"]], null, null, null, null, null)), l._14(null, 0), (t()(), l._3(5, 0, null, null, 0, "div", [["class", "mat-button-toggle-focus-overlay"]], null, null, null, null, null))], null, function (t, e) { var n = e.component; t(e, 1, 0, n.inputId), t(e, 2, 0, n._type, n.inputId, n.checked, n.disabled || null, n.name, n.ariaLabel, n.ariaLabelledby) }) } var co = n("JvE/"); class ho { constructor(t, e) { this.totalItem0Collisions = t, this.totalItem1Collisions = e, this.item0Collisions = 0, this.item1Collisions = 0, this.wallDetectionReward = 0, this.agentDetectionReward = 0 } } class po { constructor(t, e) { this.init(t, e) } init(t, e) { this.resetRewardRecords(t), this.resetItemChangeRecord(); const n = this.getTimestamp(); this.initCollisionHistory(t, n), this.initItemChangeHistory(e, n), this.historicalDataTick = 1 } resetItemChangeRecord() { this.itemChange = [0, 0, 0] } initItemChangeHistory(t, e) { this.itemChangeHistory = new Array; const [n, l] = this.getItemCounts(t); this.itemChangeHistory.push([e, t.length, n, l]) } getItemCounts(t) { let e = 0, n = 0; for (const l of t) 1 === l.type ? e++ : 2 === l.type && n++; return [e, n] } initCollisionHistory(t, e) { this.rewardHistory = new Array; for (const n of t.keys()) this.rewardHistory.push([[e, 0, 0, 0, 0]]) } reset(t, e) { this.init(t, e) } tick(t, e, n, l) { this.logRewards(e), this.logItemChange(n); const s = this.getTimestamp(); this.logRewardHistory(t, s, e, l), this.logItemHistory(t, s, n, l), this.historicalDataTick++ } logRewards(t) { for (const [e, n] of t.entries()) this.recordAgentRewards(e, n) } logItemChange(t) { const [e, n] = this.getItemCounts(t); this.itemChange[0] += t.length, this.itemChange[1] += e, this.itemChange[2] += n } recordAgentRewards(t, e) { this.rewards[t].totalItem0Collisions = e.sensory.totalItem0Collisions, this.rewards[t].totalItem1Collisions = e.sensory.totalItem1Collisions, this.rewards[t].item0Collisions += e.sensory.item0CollisionsPerTick, this.rewards[t].item1Collisions += e.sensory.item1CollisionsPerTick, this.rewards[t].wallDetectionReward += e.sensory.wallDetectionRewardPerTick, this.rewards[t].agentDetectionReward += e.sensory.agentDetectionRewardPerTick } logRewardHistory(t, e, n, l) { if (t % l == 0) { for (const t of n.keys()) this.recordAgentsRewardHistory(t, e, l); this.resetRewardRecords(n) } } getTimestamp() { return (new Date).getTime() } recordAgentsRewardHistory(t, e, n) { this.rewardHistory[t].push([e, this.rewards[t].item0Collisions, this.rewards[t].item1Collisions, this.rewards[t].wallDetectionReward, this.rewards[t].agentDetectionReward]) } resetRewardRecords(t) { this.rewards = new Array(t.length); for (const [e, n] of t.entries()) this.rewards[e] = new ho(n.sensory.totalItem0Collisions, n.sensory.totalItem1Collisions) } logItemHistory(t, e, n, l) { t % l == 0 && (this.itemChangeHistory.push([e, this.itemChange[0] / l, this.itemChange[1] / l, this.itemChange[2] / l]), this.resetItemChangeRecord()) } } class mo { constructor(t, e, n, l, s = 1e3) { this.yInterval = [-140, 15], this.getOptsFor = ((t, e, n = this.yInterval[0], l = this.yInterval[1]) => ({ grid: { borderWidth: 1, minBorderMargin: 20, labelMargin: 10, margin: { top: 10, bottom: 10, left: 10 } }, xaxis: { mode: "time", timeformat: "%I:%M", min: t, max: e, borderWidth: 1 }, yaxis: { min: n, max: l } })), this.container = e.getElementById(t), this.$ = n, this.stats = l, this.xaxisLength = s, this.opt = this.getOptsFor((new Date).getTime(), (new Date).getTime() + 1e3 * this.xaxisLength, this.yInterval[0], this.yInterval[1]) } init() { } reset() { this.init() } plot(t) { const e = Array(); for (let n = 0; n < t; n++) { const l = this.gatherData(n, t); e.push(l[0]), e.push(l[1]), e.push(l[2]), e.push(l[3]) } this.ensureXAxisInterval(), this.$.plot(this.container, e, this.opt) } gatherData(t, e) { const [n, l, s, i] = this.getHistoricalDataForAgent(t, e); return [{ label: "Agent " + (t + 1) + " (item0)", data: n, lines: { fill: !1, lineWidth: .4 }, points: { show: !1 }, shadowSize: 0 }, { label: "Agent " + (t + 1) + " (item1)", data: l, lines: { fill: !1, lineWidth: .4 }, points: { show: !1 }, shadowSize: 0 }, { label: "Agent " + (t + 1) + " (wall)", data: s, lines: { fill: !1, lineWidth: .4 }, points: { show: !1 }, shadowSize: 0 }, { label: "Agent " + (t + 1) + " (agent)", data: i, lines: { fill: !1, lineWidth: .4 }, points: { show: !1 }, shadowSize: 0 }] } getHistoricalDataForAgent(t, e) { const n = new Array(1e3), l = new Array(1e3), s = new Array(1e3), i = new Array(1e3), r = Math.max(0, this.stats.rewardHistory[t].length - 1e3); for (let o = r; o < this.stats.rewardHistory[t].length; o++)n[o - r] = [this.stats.rewardHistory[t][o][0], this.stats.rewardHistory[t][o][1]], l[o - r] = [this.stats.rewardHistory[t][o][0], this.stats.rewardHistory[t][o][2]], s[o - r] = [this.stats.rewardHistory[t][o][0], this.stats.rewardHistory[t][o][3]], i[o - r] = [this.stats.rewardHistory[t][o][0], this.stats.rewardHistory[t][o][4]]; return [n, l, s, i] } ensureXAxisInterval() { const t = this.stats.rewardHistory[0].length; t > this.xaxisLength && (this.opt = this.getOptsFor(this.stats.rewardHistory[0][t - this.xaxisLength - 1][0], this.stats.rewardHistory[0][t - 1][0])) } } class go { constructor(t, e, n, l) { this.agentView = !1, this.defaultFillColor = "rgba(255, 255, 255, 0)", this.defaultStrokeColor = "rgba(70, 70, 70, 1) 0.5px", this.detectedNothingStrokeStyle = "rgba(192, 192, 192, 0.5)", this.detectedWallStrokeStyle = "rgba(70, 70, 70, 1)", this.detectedItem1StrokeStyle = "rgba(0, 120, 0, 0.65)", this.detectedItem2StrokeStyle = "rgba(179, 0, 0, 0.65)", this.detectedItem3StrokeStyle = "rgba(0, 0, 180, 0.9)", this.detectedNothingFillStyle = "rgba(215, 215, 215, 0.15)", this.detectedWallFillStyle = "rgba(70, 70, 70, 0.15)", this.detectedItem1FillStyle = "rgba(0, 240, 0, 0.15)", this.detectedItem2FillStyle = "rgba(240, 0, 0, 0.15)", this.detectedItem3FillStyle = "rgba(0, 0, 240, 0.15)", this.wallStrokeStyle = "rgba(70, 70, 70, 1)", this.item1FillStyle = "rgba(150, 255, 150, 1)", this.item2FillStyle = "rgba(255, 150, 150, 1)", this.identifierFillStyle = "rgba(230, 230, 230, 1)", this.agentFillStyle = (t => "rgb(" + t + ", 55, 55)"), this.ctx = e.getElementById(t).getContext("2d"), this.width = n, this.height = l } draw(t) { this.ctx.clearRect(0, 0, this.width, this.height), this.drawAgents(t.agents), this.drawItems(t.items), this.drawWalls(t.walls) } drawAgents(t) { for (const e of t) this.drawAgentSensory(e); for (const [e, n] of t.entries()) this.drawAgentBody(n), this.drawAgentIdentifier(e + 1, n) } drawAgentSensory(t) { for (const e of t.sensory.sensors) 0 === e.type ? this.drawLidar(t.location, e) : 1 === e.type && this.drawRadar(e) } drawLidar(t, e) { -1 === e.getSensedObject().type ? (this.ctx.strokeStyle = this.detectedNothingStrokeStyle, this.ctx.fillStyle = this.detectedNothingFillStyle) : 0 === e.getSensedObject().type ? (this.ctx.strokeStyle = this.detectedWallStrokeStyle, this.ctx.fillStyle = this.detectedWallFillStyle) : 1 === e.getSensedObject().type ? (this.ctx.strokeStyle = this.detectedItem1StrokeStyle, this.ctx.fillStyle = this.detectedItem1FillStyle) : 2 === e.getSensedObject().type ? (this.ctx.strokeStyle = this.detectedItem2StrokeStyle, this.ctx.fillStyle = this.detectedItem2FillStyle) : 3 === e.getSensedObject().type && (this.ctx.strokeStyle = this.detectedItem3StrokeStyle, this.ctx.fillStyle = this.detectedItem3FillStyle); const n = t.x, l = t.y, s = -1 === e.getSensedObject().type ? e.maxRange : e.sensedObject.proximity, i = t.x + s * Math.sin(e.angle), r = t.y + s * Math.cos(e.angle); this.ctx.beginPath(), this.ctx.moveTo(n, l), this.ctx.lineTo(i, r), this.ctx.stroke() } drawRadar(t) { -1 === t.getSensedObject().type ? (this.ctx.strokeStyle = this.detectedNothingStrokeStyle, this.ctx.fillStyle = this.detectedNothingFillStyle) : 0 === t.getSensedObject().type ? (this.ctx.strokeStyle = this.detectedNothingStrokeStyle, this.ctx.fillStyle = this.detectedWallFillStyle) : 1 === t.getSensedObject().type ? (this.ctx.strokeStyle = this.detectedNothingStrokeStyle, this.ctx.fillStyle = this.detectedItem1FillStyle) : 2 === t.getSensedObject().type ? (this.ctx.strokeStyle = this.detectedNothingStrokeStyle, this.ctx.fillStyle = this.detectedItem2FillStyle) : 3 === t.getSensedObject().type && (this.ctx.strokeStyle = this.detectedNothingStrokeStyle, this.ctx.fillStyle = this.detectedItem3FillStyle); const e = t.location.x, n = t.location.y, l = t.width, s = t.height; this.ctx.fillRect(e, n, l, s), this.ctx.strokeRect(e, n, l, s) } drawAgentBody(t) { this.ctx.strokeStyle = this.defaultStrokeColor, this.ctx.fillStyle = this.agentFillStyle(55), this.ctx.beginPath(), this.ctx.arc(t.location.x, t.location.y, t.size, 0, 2 * Math.PI, !0), this.ctx.fill(), this.ctx.stroke() } drawAgentIdentifier(t, e) { this.ctx.fillStyle = this.identifierFillStyle, this.ctx.font = "12px Roboto"; const n = t < 10 ? -3 : -7; this.ctx.fillText(t.toString(), e.location.x + n, e.location.y + 4) } drawItems(t) { if (this.ctx.strokeStyle = this.defaultStrokeColor, !this.agentView) for (const e of t) 1 === e.type && (this.ctx.fillStyle = this.item1FillStyle), 2 === e.type && (this.ctx.fillStyle = this.item2FillStyle), this.ctx.beginPath(), this.ctx.arc(e.location.x, e.location.y, e.size, 0, 2 * Math.PI, !0), this.ctx.fill(), this.ctx.stroke() } drawWalls(t) { this.ctx.strokeStyle = this.wallStrokeStyle, this.ctx.beginPath(); for (const e of t) this.ctx.lineWidth = .5, this.ctx.moveTo(e.p1.x, e.p1.y), this.ctx.lineTo(e.p2.x, e.p2.y); this.ctx.stroke() } } class fo { constructor() { this.width = 600, this.height = 600, this.maxAgents = 2, this.maxItems = 50, this.simSpeedIndex = 1, this.simBoostIntervals = [1, 1, 3, 3], this.simSpeedIntervals = [150, 41, 41, 41] } ngOnInit() { this.init(), this.initConcrete(), this.start() } init() { this.world = new co.World(this.width, this.height, this.maxAgents, this.maxItems), this.world.setBoundaryCondition("stable"), this.stats = new po(this.world.getAgents(), this.world.getItems()), this.canvas = new go("simulation", document, this.width, this.height), this.chart = new mo("reward-chart", document, $, this.stats), this.isPaused = !1, this.isPausedDrawing = !1, this.isPausedPlotting = !1 } start() { this.logStartMessage(), this.isPaused = !1, this.setSimulationInterval(this.simSpeedIndex), this.setEvaluationInterval() } logStartMessage() { console.log("[" + (new Date).toISOString() + "]: Training of Agent is starting!\nStarting training phase!\nCurrent Timestamp: " + (new Date).getTime()) } pause() { this.isPaused = !0, this.setSimulationInterval(this.simSpeedIndex), this.setEvaluationInterval() } pauseDrawing() { this.isPausedDrawing = !this.isPausedDrawing } pausePlotting() { this.isPausedPlotting = !this.isPausedPlotting, this.setEvaluationInterval() } reset() { this.world.reset(), this.stats.reset(this.world.getAgents(), this.world.getItems()), this.chart.reset(), this.start() } goMax() { this.setSimulationInterval(3) } goFast() { this.setSimulationInterval(2) } goNormal() { this.setSimulationInterval(1) } goSlow() { this.setSimulationInterval(0) } tick() { for (let t = 0; t < this.iterationsPerTick; t++)this.handleEvaluationPeriodActivation(), this.tickSimulationLogic() } tickSimulationLogic() { this.world.tick(), this.stats.tick(this.world.clock(), this.world.getAgents(), this.world.getItems(), this.ticksPerSecond), this.shouldUpdateCanvas() && this.draw() } draw() { this.canvas.draw(this.world) } setSimulationInterval(t = 1) { if (window.clearInterval(this.simIntervalId), this.setSimulationParameters(t), !this.isPaused) { const e = this; this.simIntervalId = setInterval(function () { e.tick() }, this.simSpeedIntervals[t]) } } setSimulationParameters(t) { this.simSpeedIndex = t, this.iterationsPerTick = Math.pow(this.simBoostIntervals[t], this.simSpeedIndex), this.ticksPerSecond = Math.floor(1e3 / this.simSpeedIntervals[this.simSpeedIndex] * this.iterationsPerTick) } setEvaluationInterval(t = 1e3) { if (window.clearInterval(this.simEvaluationIntervalId), !this.isPausedPlotting) { const e = this; this.simEvaluationIntervalId = setInterval(function () { e.updateChart() }, t) } } shouldUpdateCanvas() { return !this.isPausedDrawing } updateChart() { this.chart.plot(this.world.getAgents().length) } } var _o = this && this.__awaiter || function (t, e, n, l) { return new (n || (n = Promise))(function (s, i) { function r(t) { try { a(l.next(t)) } catch (t) { i(t) } } function o(t) { try { a(l.throw(t)) } catch (t) { i(t) } } function a(t) { t.done ? s(t.value) : new n(function (e) { e(t.value) }).then(r, o) } a((l = l.apply(t, e || [])).next()) }) }; class yo extends fo { constructor() { super(), this.baseUrl = "https://rawgit.com/mvrahden/learning-agents/master/src/app/pretrained/brains/agent-brain-state.", this.loadedBrainCounter = 0, this.isFullyLoaded = !1 } reload() { this.initConcrete() } logStartMessage() { console.log("[" + (new Date).toISOString() + "]: Evaluation of Agent is starting!\nStarting evaluation phase!\nCurrent Timestamp: " + (new Date).getTime()) } initConcrete() { this.loadedBrainCounter = 0, this.isFullyLoaded = !1, this.switchAgentsToEvaluationMode(), this.loadBrains() } switchAgentsToEvaluationMode() { this.world.switchTrainingModeOfAgents(!1) } loadBrains() { return _o(this, void 0, void 0, function* () { for (let t = 0; t < this.maxAgents; t++)this.queryBrain(t); return null }) } queryBrain(t) { return _o(this, void 0, void 0, function* () { const e = this.getHttpRequestFor(t), n = this; return new Promise((l, s) => { $.ajax(e).done(e => { n.resolve(t, e) }).fail((e, l, s) => { n.reject(t, e, l, s) }) }) }) } resolve(t, e) { this.loadBrain(t, e), console.log("Trained Model of Agent " + (t + 1) + " loaded successfully!"), this.registerLoading(t) } loadBrain(t, e) { this.world.agents[t].load(e) } registerLoading(t) { this.loadedBrainCounter++ , this.loadedBrainCounter === this.world.agents.length && (this.isFullyLoaded = !0) } reject(t, e, n, l) { console.log("Trained Model of Agent " + (t + 1) + " didn't load successfully!"), console.log(n + ", " + l) } getHttpRequestFor(t) { return { type: "GET", dataType: "json", async: !0, url: this.getUrlFor(t), xhrFields: { withCredentials: !1 } } } getUrlFor(t) { return this.baseUrl + t + ".json" } handleEvaluationPeriodActivation() { } } var bo = l._1({ encapsulation: 0, styles: [["#chart-control-panel[_ngcontent-%COMP%], #sim-control-panel[_ngcontent-%COMP%]{width:100%}.button-row[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin:15px 0}#chart-control-panel[_ngcontent-%COMP%] > .button-row[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:right;-ms-flex-align:right;align-items:right;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin-bottom:5px}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:none;border-collapse:collapse}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:10px 5px;display:table-cell;text-align:center;vertical-align:middle}table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{-ms-flex-line-pack:center;align-content:center;font-size:14px;font-weight:lighter;line-height:1.5;border:0;border-radius:0}table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{-ms-flex-line-pack:center;align-content:center;font-size:14px;font-weight:700;line-height:1.5;border-bottom:1px solid #d0d0d0}table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:hover{-webkit-transition:background-color .25s ease;transition:background-color .25s ease;background-color:#f2f2f2}"]], data: {} }); function wo(t) { return l._26(0, [(t()(), l._3(0, 0, null, null, 2, "button", [["color", "primary"], ["mat-button", ""]], [[8, "disabled", 0]], [[null, "click"]], function (t, e, n) { var l = !0; return "click" === e && (l = !1 !== t.component.pause() && l), l }, Ti, ki)), l._2(1, 180224, null, 0, Ci, [l.k, g, ie], { color: [0, "color"] }, null), (t()(), l._24(-1, 0, ["Pause"]))], function (t, e) { t(e, 1, 0, "primary") }, function (t, e) { t(e, 0, 0, l._15(e, 1).disabled || null) }) } function vo(t) { return l._26(0, [(t()(), l._3(0, 0, null, null, 2, "button", [["color", "warn"], ["mat-button", ""]], [[8, "disabled", 0]], [[null, "click"]], function (t, e, n) { var l = !0; return "click" === e && (l = !1 !== t.component.start() && l), l }, Ti, ki)), l._2(1, 180224, null, 0, Ci, [l.k, g, ie], { color: [0, "color"] }, null), (t()(), l._24(-1, 0, ["Run"]))], function (t, e) { t(e, 1, 0, "warn") }, function (t, e) { t(e, 0, 0, l._15(e, 1).disabled || null) }) } function xo(t) { return l._26(0, [(t()(), l._3(0, 16777216, null, null, 3, "button", [["color", "warn"], ["mat-button", ""], ["matTooltip", "Click to reload the brains from GitHub."], ["matTooltipPosition", "before"]], [[8, "disabled", 0]], [[null, "click"], [null, "longpress"], [null, "keydown"], [null, "touchend"]], function (t, e, n) { var s = !0, i = t.component; return "longpress" === e && (s = !1 !== l._15(t, 2).show() && s), "keydown" === e && (s = !1 !== l._15(t, 2)._handleKeydown(n) && s), "touchend" === e && (s = !1 !== l._15(t, 2)._handleTouchend() && s), "click" === e && (s = !1 !== i.reload() && s), s }, Ti, ki)), l._2(1, 180224, null, 0, Ci, [l.k, g, ie], { color: [0, "color"] }, null), l._2(2, 147456, null, 0, pi, [hn, l.k, ke, l.M, l.x, g, Xt, ie, ci, [2, Pe], [2, di]], { position: [0, "position"], message: [1, "message"] }, null), (t()(), l._24(-1, 0, ["Models didn't load!"])), (t()(), l.Y(0, null, null, 0))], function (t, e) { t(e, 1, 0, "warn"), t(e, 2, 0, "before", "Click to reload the pretrained DQN from GitHub.") }, function (t, e) { t(e, 0, 0, l._15(e, 1).disabled || null) }) } function Co(t) { return l._26(0, [(t()(), l._3(0, 16777216, null, null, 3, "button", [["color", "primary"], ["mat-button", ""], ["matTooltip", "Click to reload the pretrained DQN from GitHub."], ["matTooltipPosition", "before"]], [[8, "disabled", 0]], [[null, "click"], [null, "longpress"], [null, "keydown"], [null, "touchend"]], function (t, e, n) { var s = !0, i = t.component; return "longpress" === e && (s = !1 !== l._15(t, 2).show() && s), "keydown" === e && (s = !1 !== l._15(t, 2)._handleKeydown(n) && s), "touchend" === e && (s = !1 !== l._15(t, 2)._handleTouchend() && s), "click" === e && (s = !1 !== i.reload() && s), s }, Ti, ki)), l._2(1, 180224, null, 0, Ci, [l.k, g, ie], { color: [0, "color"] }, null), l._2(2, 147456, null, 0, pi, [hn, l.k, ke, l.M, l.x, g, Xt, ie, ci, [2, Pe], [2, di]], { position: [0, "position"], message: [1, "message"] }, null), (t()(), l._24(-1, 0, ["Models are loaded"])), (t()(), l.Y(0, null, null, 0))], function (t, e) { t(e, 1, 0, "primary"), t(e, 2, 0, "before","Click to reload the pretrained DQN from GitHub.")},function(t,e){t(e,0,0,l._15(e,1).disabled||null)})}function So(t){return l._26(0,[(t()(),l._3(0,0,null,null,24,"tr",[],[[1,"data-index",0]],null,null,null,null)),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(2,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(3,null,["",""])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(6,null,["",""])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(8,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(9,null,["",""])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(11,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(12,null,["",""])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(14,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(15,null,["",""])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(17,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._24(18,null,["",""])),l._19(19,2),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(21,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._24(22,null,["",""])),l._19(23,2),(t()(),l._24(-1,null,["\n        "]))],null,function(t,e){t(e,0,0,e.context.index),t(e,3,0,e.context.index+1),t(e,6,0,e.context.$implicit.totalItem0Collisions),t(e,9,0,e.context.$implicit.totalItem1Collisions),t(e,12,0,e.context.$implicit.item0Collisions),t(e,15,0,e.context.$implicit.item1Collisions),t(e,18,0,l._25(e,18,0,t(e,19,0,l._15(e.parent,0),e.context.$implicit.wallDetectionReward,"3.2-2"))),t(e,22,0,l._25(e,22,0,t(e,23,0,l._15(e.parent,0),e.context.$implicit.agentDetectionReward,"3.2-2")))})}function Eo(t){return l._26(0,[(t()(),l._3(0,0,null,null,2,"button",[["color","accent"],["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.pausePlotting()&&l),l},Ti,ki)),l._2(1,180224,null,0,Ci,[l.k,g,ie],{color:[0,"color"]},null),(t()(),l._24(-1,0,["Pause Plotting"]))],function(t,e){t(e,1,0,"accent")},function(t,e){t(e,0,0,l._15(e,1).disabled||null)})}function ko(t){return l._26(0,[(t()(),l._3(0,0,null,null,2,"button",[["color","warn"],["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.pausePlotting()&&l),l},Ti,ki)),l._2(1,180224,null,0,Ci,[l.k,g,ie],{color:[0,"color"]},null),(t()(),l._24(-1,0,["Run Plotting"]))],function(t,e){t(e,1,0,"warn")},function(t,e){t(e,0,0,l._15(e,1).disabled||null)})}function To(t){return l._26(0,[l._17(0,vt,[l.s]),(t()(),l._3(1,0,null,null,13,"mat-toolbar",[["class","second-toolbar mat-toolbar"],["color","primary"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,Di,Ni)),l._2(2,4243456,null,1,Ri,[l.k,g,Ct],{color:[0,"color"]},null),l._22(603979776,1,{_toolbarRows:1}),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(5,0,null,1,1,"mat-toolbar-row",[["class","mat-toolbar-row"]],null,null,null,null,null)),l._2(6,16384,[[1,4]],0,Mi,[],null,null),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(8,0,null,1,5,"mat-toolbar-row",[["class","mat-toolbar-row"]],null,null,null,null,null)),l._2(9,16384,[[1,4]],0,Mi,[],null,null),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(11,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Pre-trained Agents"])),(t()(),l._24(-1,null,["\n  "])),(t()(),l._24(-1,0,["\n"])),(t()(),l._24(-1,null,["\n"])),(t()(),l._3(16,0,null,null,126,"mat-card",[["class","mat-card"]],null,null,null,Ui,Hi)),l._2(17,49152,null,0,Fi,[],null,null),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(19,0,null,0,6,"mat-card-header",[["class","mat-card-header"]],null,null,null,$i,Bi)),l._2(20,49152,null,0,Li,[],null,null),(t()(),l._24(-1,2,["\n    "])),(t()(),l._3(22,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),l._2(23,16384,null,0,ji,[],null,null),(t()(),l._24(-1,null,["Simulation"])),(t()(),l._24(-1,2,["\n  "])),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(27,0,null,0,48,"div",[["id","sim-control-panel"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(29,0,null,null,19,"div",[["id","sim-control-buttons"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(31,0,null,null,16,"mat-button-toggle-group",[["class","button-row mat-button-toggle-group"],["role","radiogroup"]],[[2,"mat-button-toggle-vertical",null]],null,null,null,null)),l._20(5120,null,sr,function(t){return[t]},[so]),l._2(33,16384,null,1,so,[l.h],null,null),l._22(603979776,2,{_buttonToggles:1}),(t()(),l._24(-1,null,["\n        "])),(t()(),l.Y(16777216,null,null,1,null,wo)),l._2(37,16384,null,0,H,[l.M,l.J],{ngIf:[0,"ngIf"]},null),(t()(),l._24(-1,null,["\n        "])),(t()(),l.Y(16777216,null,null,1,null,vo)),l._2(40,16384,null,0,H,[l.M,l.J],{ngIf:[0,"ngIf"]},null),(t()(),l._24(-1,null,["\n        "])),(t()(),l.Y(16777216,null,null,1,null,xo)),l._2(43,16384,null,0,H,[l.M,l.J],{ngIf:[0,"ngIf"]},null),(t()(),l._24(-1,null,["\n        "])),(t()(),l.Y(16777216,null,null,1,null,Co)),l._2(46,16384,null,0,H,[l.M,l.J],{ngIf:[0,"ngIf"]},null),(t()(),l._24(-1,null,["\n      "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(50,0,null,null,24,"div",[["id","sim-speed-buttons"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(52,0,null,null,21,"mat-button-toggle-group",[["class","button-row mat-button-toggle-group"],["role","radiogroup"]],[[2,"mat-button-toggle-vertical",null]],null,null,null,null)),l._20(5120,null,sr,function(t){return[t]},[so]),l._2(54,16384,null,1,so,[l.h],{value:[0,"value"]},null),l._22(603979776,3,{_buttonToggles:1}),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(57,16777216,null,null,3,"mat-button-toggle",[["class","mat-button-toggle"],["matTooltip","Depending on your systems CPU, visualization could be lagging. In this case, prefer 'Fast'."],["matTooltipPosition","right"],["value","3"]],[[2,"mat-button-toggle-standalone",null],[2,"mat-button-toggle-checked",null],[2,"mat-button-toggle-disabled",null],[1,"id",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,n){var s=!0,i=t.component;return"longpress"===e&&(s=!1!==l._15(t,59).show()&&s),"keydown"===e&&(s=!1!==l._15(t,59)._handleKeydown(n)&&s),"touchend"===e&&(s=!1!==l._15(t,59)._handleTouchend()&&s),"click"===e&&(s=!1!==i.goMax()&&s),s},uo,ao)),l._2(58,245760,[[3,4]],0,ro,[[2,so],[2,io],l.h,Xr,l.k,ie],{value:[0,"value"]},null),l._2(59,147456,null,0,pi,[hn,l.k,ke,l.M,l.x,g,Xt,ie,ci,[2,Pe],[2,di]],{position:[0,"position"],message:[1,"message"]},null),(t()(),l._24(-1,0,["Max"])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(62,0,null,null,2,"mat-button-toggle",[["class","mat-button-toggle"],["value","2"]],[[2,"mat-button-toggle-standalone",null],[2,"mat-button-toggle-checked",null],[2,"mat-button-toggle-disabled",null],[1,"id",0]],[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.goFast()&&l),l},uo,ao)),l._2(63,245760,[[3,4]],0,ro,[[2,so],[2,io],l.h,Xr,l.k,ie],{value:[0,"value"]},null),(t()(),l._24(-1,0,["Fast"])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(66,0,null,null,2,"mat-button-toggle",[["class","mat-button-toggle"],["value","1"]],[[2,"mat-button-toggle-standalone",null],[2,"mat-button-toggle-checked",null],[2,"mat-button-toggle-disabled",null],[1,"id",0]],[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.goNormal()&&l),l},uo,ao)),l._2(67,245760,[[3,4]],0,ro,[[2,so],[2,io],l.h,Xr,l.k,ie],{value:[0,"value"]},null),(t()(),l._24(-1,0,["Normal"])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(70,0,null,null,2,"mat-button-toggle",[["class","mat-button-toggle"],["value","0"]],[[2,"mat-button-toggle-standalone",null],[2,"mat-button-toggle-checked",null],[2,"mat-button-toggle-disabled",null],[1,"id",0]],[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.goSlow()&&l),l},uo,ao)),l._2(71,245760,[[3,4]],0,ro,[[2,so],[2,io],l.h,Xr,l.k,ie],{value:[0,"value"]},null),(t()(),l._24(-1,0,["Slow"])),(t()(),l._24(-1,null,["\n      "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._24(-1,null,["\n  "])),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(77,0,null,0,0,"canvas",[["id","simulation"]],[[8,"width",0],[8,"height",0]],null,null,null,null)),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(79,0,null,0,44,"div",[["id","data-table"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(81,0,null,null,41,"table",[["class","highlight"],["width","100%"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(83,0,null,null,32,"thead",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(85,0,null,null,29,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(87,16777216,null,null,2,"th",[["matTooltip","Agent Id"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,n){var s=!0;return"longpress"===e&&(s=!1!==l._15(t,88).show()&&s),"keydown"===e&&(s=!1!==l._15(t,88)._handleKeydown(n)&&s),"touchend"===e&&(s=!1!==l._15(t,88)._handleTouchend()&&s),s},null,null)),l._2(88,147456,null,0,pi,[hn,l.k,ke,l.M,l.x,g,Xt,ie,ci,[2,Pe],[2,di]],{message:[0,"message"]},null),(t()(),l._24(-1,null,["Id"])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(91,16777216,null,null,2,"th",[["matTooltip","Total amount of collected green Items"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,n){var s=!0;return"longpress"===e&&(s=!1!==l._15(t,92).show()&&s),"keydown"===e&&(s=!1!==l._15(t,92)._handleKeydown(n)&&s),"touchend"===e&&(s=!1!==l._15(t,92)._handleTouchend()&&s),s},null,null)),l._2(92,147456,null,0,pi,[hn,l.k,ke,l.M,l.x,g,Xt,ie,ci,[2,Pe],[2,di]],{message:[0,"message"]},null),(t()(),l._24(-1,null,["tot. green Items"])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(95,16777216,null,null,2,"th",[["matTooltip","Total amount of collected red Items"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,n){var s=!0;return"longpress"===e&&(s=!1!==l._15(t,96).show()&&s),"keydown"===e&&(s=!1!==l._15(t,96)._handleKeydown(n)&&s),"touchend"===e&&(s=!1!==l._15(t,96)._handleTouchend()&&s),s},null,null)),l._2(96,147456,null,0,pi,[hn,l.k,ke,l.M,l.x,g,Xt,ie,ci,[2,Pe],[2,di]],{message:[0,"message"]},null),(t()(),l._24(-1,null,["tot. red Items"])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(99,16777216,null,null,2,"th",[["matTooltip","Amount of collected green Items per second"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,n){var s=!0;return"longpress"===e&&(s=!1!==l._15(t,100).show()&&s),"keydown"===e&&(s=!1!==l._15(t,100)._handleKeydown(n)&&s),"touchend"===e&&(s=!1!==l._15(t,100)._handleTouchend()&&s),s},null,null)),l._2(100,147456,null,0,pi,[hn,l.k,ke,l.M,l.x,g,Xt,ie,ci,[2,Pe],[2,di]],{message:[0,"message"]},null),(t()(),l._24(-1,null,["curr. green Items"])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(103,16777216,null,null,2,"th",[["matTooltip","Amount of collected red Items per second"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,n){var s=!0;return"longpress"===e&&(s=!1!==l._15(t,104).show()&&s),"keydown"===e&&(s=!1!==l._15(t,104)._handleKeydown(n)&&s),"touchend"===e&&(s=!1!==l._15(t,104)._handleTouchend()&&s),s},null,null)),l._2(104,147456,null,0,pi,[hn,l.k,ke,l.M,l.x,g,Xt,ie,ci,[2,Pe],[2,di]],{message:[0,"message"]},null),(t()(),l._24(-1,null,["curr. red Items"])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(107,16777216,null,null,2,"th",[["matTooltip","Wall detection punishment per second"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,n){var s=!0;return"longpress"===e&&(s=!1!==l._15(t,108).show()&&s),"keydown"===e&&(s=!1!==l._15(t,108)._handleKeydown(n)&&s),"touchend"===e&&(s=!1!==l._15(t,108)._handleTouchend()&&s),s},null,null)),l._2(108,147456,null,0,pi,[hn,l.k,ke,l.M,l.x,g,Xt,ie,ci,[2,Pe],[2,di]],{message:[0,"message"]},null),(t()(),l._24(-1,null,["Walls"])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(111,16777216,null,null,2,"th",[["matTooltip","Agent detection punishment per second"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,n){var s=!0;return"longpress"===e&&(s=!1!==l._15(t,112).show()&&s),"keydown"===e&&(s=!1!==l._15(t,112)._handleKeydown(n)&&s),"touchend"===e&&(s=!1!==l._15(t,112)._handleTouchend()&&s),s},null,null)),l._2(112,147456,null,0,pi,[hn,l.k,ke,l.M,l.x,g,Xt,ie,ci,[2,Pe],[2,di]],{message:[0,"message"]},null),(t()(),l._24(-1,null,["Agents"])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._24(-1,null,["\n      "])),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(117,0,null,null,4,"tbody",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        "])),(t()(),l.Y(16777216,null,null,1,null,So)),l._2(120,802816,null,0,L,[l.M,l.J,l.q],{ngForOf:[0,"ngForOf"]},null),(t()(),l._24(-1,null,["\n      "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._24(-1,null,["\n  "])),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(125,0,null,0,16,"div",[["id","chart-control-panel"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(127,0,null,null,10,"mat-button-toggle-group",[["class","button-row mat-button-toggle-group"],["role","radiogroup"]],[[2,"mat-button-toggle-vertical",null]],null,null,null,null)),l._20(5120,null,sr,function(t){return[t]},[so]),l._2(129,16384,null,1,so,[l.h],null,null),l._22(603979776,4,{_buttonToggles:1}),(t()(),l._24(-1,null,["\n      "])),(t()(),l.Y(16777216,null,null,1,null,Eo)),l._2(133,16384,null,0,H,[l.M,l.J],{ngIf:[0,"ngIf"]},null),(t()(),l._24(-1,null,["\n      "])),(t()(),l.Y(16777216,null,null,1,null,ko)),l._2(136,16384,null,0,H,[l.M,l.J],{ngIf:[0,"ngIf"]},null),(t()(),l._24(-1,null,["\n    "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(139,16777216,null,null,1,"div",[["id","reward-chart"],["matTooltip","Shows the rewards and punishments of the Agents over time."],["matTooltipPosition","above"],["style","width:100%; height: 300px;"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,n){var s=!0;return"longpress"===e&&(s=!1!==l._15(t,140).show()&&s),"keydown"===e&&(s=!1!==l._15(t,140)._handleKeydown(n)&&s),"touchend"===e&&(s=!1!==l._15(t,140)._handleTouchend()&&s),s},null,null)),l._2(140,147456,null,0,pi,[hn,l.k,ke,l.M,l.x,g,Xt,ie,ci,[2,Pe],[2,di]],{position:[0,"position"],message:[1,"message"]},null),(t()(),l._24(-1,null,["\n  "])),(t()(),l._24(-1,0,["\n"])),(t()(),l._24(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,2,0,"primary"),t(e,37,0,!n.isPaused),t(e,40,0,n.isPaused),t(e,43,0,!n.isFullyLoaded),t(e,46,0,n.isFullyLoaded),t(e,54,0,l._6(1,"",n.simSpeedIndex,"")),t(e,58,0,"3"),t(e,59,0,"right","Depending on your systems CPU, visualization could be lagging. In this case, prefer 'Fast'."),t(e,63,0,"2"),t(e,67,0,"1"),t(e,71,0,"0"),t(e,88,0,"Agent Id"),t(e,92,0,"Total amount of collected green Items"),t(e,96,0,"Total amount of collected red Items"),t(e,100,0,"Amount of collected green Items per second"),t(e,104,0,"Amount of collected red Items per second"),t(e,108,0,"Wall detection punishment per second"),t(e,112,0,"Agent detection punishment per second"),t(e,120,0,n.stats.rewards),t(e,133,0,!n.isPausedPlotting),t(e,136,0,n.isPausedPlotting),t(e,140,0,"above","Shows the rewards and punishments of the Agents over time.")},function(t,e){var n=e.component;t(e,1,0,l._15(e,2)._toolbarRows.length,!l._15(e,2)._toolbarRows.length),t(e,31,0,l._15(e,33).vertical),t(e,52,0,l._15(e,54).vertical),t(e,57,0,!l._15(e,58).buttonToggleGroup&&!l._15(e,58).buttonToggleGroupMultiple,l._15(e,58).checked,l._15(e,58).disabled,l._15(e,58).id),t(e,62,0,!l._15(e,63).buttonToggleGroup&&!l._15(e,63).buttonToggleGroupMultiple,l._15(e,63).checked,l._15(e,63).disabled,l._15(e,63).id),t(e,66,0,!l._15(e,67).buttonToggleGroup&&!l._15(e,67).buttonToggleGroupMultiple,l._15(e,67).checked,l._15(e,67).disabled,l._15(e,67).id),t(e,70,0,!l._15(e,71).buttonToggleGroup&&!l._15(e,71).buttonToggleGroupMultiple,l._15(e,71).checked,l._15(e,71).disabled,l._15(e,71).id),t(e,77,0,l._6(1,"",n.width,""),l._6(1,"",n.height,"")),t(e,127,0,l._15(e,129).vertical)})}var Oo=l.Z("app-pretrained",yo,function(t){return l._26(0,[(t()(),l._3(0,0,null,null,1,"app-pretrained",[],null,null,null,To,bo)),l._2(1,114688,null,0,yo,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]);class Ao{constructor(t,e){this.id=t,this.alpha=e.getOpt().get("alpha"),this.epsilon=e.getOpt().get("epsilon"),this.gamma=e.getOpt().get("gamma"),this.experienceSize=e.getOpt().get("experienceSize"),this.experienceAddEvery=e.getOpt().get("experienceAddEvery"),this.learningStepsPerIteration=e.getOpt().get("learningStepsPerIteration"),this.tdErrorClamp=e.getOpt().get("tdErrorClamp"),this.numHiddenUnits=e.getOpt().get("numHiddenUnits")}}class Io extends fo{constructor(){super(),this.trainingPeriod=25e5,this.valueAlternationTick=0}initConcrete(){this.specs=new Array;for(const[t,e]of this.world.agents.entries())this.specs.push(new Ao(t+1,e))}handleEvaluationPeriodActivation(){this.world.clock()===this.trainingPeriod&&(this.switchAgentsToEvaluationMode(),this.activateCurrentEnvironmentSetup(),console.log("["+(new Date).toISOString()+"]: Training of Agent is done!\nStarting evaluation phase with the chosen setup!\nCurrent Timestamp: "+(new Date).getTime()))}switchAgentsToEvaluationMode(){this.world.switchTrainingModeOfAgents(!1)}activateCurrentEnvironmentSetup(){this.world.setBoundaryCondition("scarce")}logEvaluation(){this.logSpecs(),this.logCollisionHistory(),this.logItemChangeHistory(),this.logAgentBrainState()}logSpecs(){console.log("Specs-Log: "),console.log(JSON.stringify(this.specs))}logCollisionHistory(){console.log("Rewards History-Log [logging per Second]: "),console.log("[timestamp, item-0-collisions, item-1-collisions, wall-detection-reward, agent-detection-reward]");for(const t of this.stats.rewardHistory.keys()){let e={};e.agentId=t.toString(),e.rewardHistory=JSON.stringify(this.stats.rewardHistory[t]),console.log(JSON.stringify(e))}}logItemChangeHistory(){console.log("Item Change History-Log [logging per Second]: "),console.log("[timestamp, total-items, amount-item-0, amount-item-1]");let t={};t.itemChangeHistory=JSON.stringify(this.stats.itemChangeHistory),console.log(JSON.stringify(t))}logAgentBrainState(){console.log("Agent Brains-Log: ");for(const[t,e]of this.world.getAgents().entries()){let n={};n.agentId=t.toString(),n.brainState=JSON.stringify(e.brain.toJSON()),console.log(JSON.stringify(n))}}setValueAlternationInterval(t=463e4){if(window.clearInterval(this.simValueAlternationIntervalId),!this.isPaused){const e=this;this.simValueAlternationIntervalId=setInterval(function(){e.alternateValues();const t=e.world.getAgents()[0].sensory.totalItem0Collisions,n=e.world.getAgents()[0].sensory.totalItem1Collisions,l=e.world.getAgents()[1].sensory.totalItem0Collisions,s=e.world.getAgents()[1].sensory.totalItem1Collisions;console.log("["+(new Date).toISOString()+"]: Values: "+co.WorldObject.getValues()+"\t"),console.log("["+(new Date).toISOString()+"]: Agent 1: "+t+" vs. "+n),console.log("["+(new Date).toISOString()+"]: Agent 2: "+l+" vs. "+s)},t)}}alternateValues(){if(this.world.clock()>this.trainingPeriod){this.valueAlternationTick++;let t=[-1,-1,1,-1];this.valueAlternationTick%2==0&&(t=[-1,1,-1,-1]),co.WorldObject.setValues(t)}}}var Mo=l._1({encapsulation:0,styles:[["#chart-control-panel[_ngcontent-%COMP%], #sim-control-panel[_ngcontent-%COMP%]{width:100%}.button-row[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin:15px 0}#chart-control-panel[_ngcontent-%COMP%] > .button-row[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:right;-ms-flex-align:right;align-items:right;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin-bottom:5px}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:none;border-collapse:collapse}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:10px 5px;display:table-cell;text-align:center;vertical-align:middle}table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{-ms-flex-line-pack:center;align-content:center;font-size:14px;font-weight:lighter;line-height:1.5;border:0;border-radius:0}table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{-ms-flex-line-pack:center;align-content:center;font-size:14px;font-weight:700;line-height:1.5;border-bottom:1px solid #d0d0d0}table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:hover{-webkit-transition:background-color .25s ease;transition:background-color .25s ease;background-color:#f2f2f2}"]],data:{}});function Ro(t){return l._26(0,[(t()(),l._3(0,0,null,null,2,"button",[["color","primary"],["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.pause()&&l),l},Ti,ki)),l._2(1,180224,null,0,Ci,[l.k,g,ie],{color:[0,"color"]},null),(t()(),l._24(-1,0,["Pause"]))],function(t,e){t(e,1,0,"primary")},function(t,e){t(e,0,0,l._15(e,1).disabled||null)})}function Po(t){return l._26(0,[(t()(),l._3(0,0,null,null,2,"button",[["color","warn"],["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.start()&&l),l},Ti,ki)),l._2(1,180224,null,0,Ci,[l.k,g,ie],{color:[0,"color"]},null),(t()(),l._24(-1,0,["Run"]))],function(t,e){t(e,1,0,"warn")},function(t,e){t(e,0,0,l._15(e,1).disabled||null)})}function No(t){return l._26(0,[(t()(),l._3(0,0,null,null,2,"button",[["color","accent"],["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.pauseDrawing()&&l),l},Ti,ki)),l._2(1,180224,null,0,Ci,[l.k,g,ie],{color:[0,"color"]},null),(t()(),l._24(-1,0,["Pause Visualization"]))],function(t,e){t(e,1,0,"accent")},function(t,e){t(e,0,0,l._15(e,1).disabled||null)})}function Do(t){return l._26(0,[(t()(),l._3(0,0,null,null,2,"button",[["color","warn"],["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.pauseDrawing()&&l),l},Ti,ki)),l._2(1,180224,null,0,Ci,[l.k,g,ie],{color:[0,"color"]},null),(t()(),l._24(-1,0,["Run Visualization"]))],function(t,e){t(e,1,0,"warn")},function(t,e){t(e,0,0,l._15(e,1).disabled||null)})}function Vo(t){return l._26(0,[(t()(),l._3(0,0,null,null,24,"tr",[],[[1,"data-index",0]],null,null,null,null)),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(2,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(3,null,["",""])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(6,null,["",""])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(8,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(9,null,["",""])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(11,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(12,null,["",""])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(14,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(15,null,["",""])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(17,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._24(18,null,["",""])),l._19(19,2),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(21,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._24(22,null,["",""])),l._19(23,2),(t()(),l._24(-1,null,["\n        "]))],null,function(t,e){t(e,0,0,e.context.index),t(e,3,0,e.context.index+1),t(e,6,0,e.context.$implicit.totalItem0Collisions),t(e,9,0,e.context.$implicit.totalItem1Collisions),t(e,12,0,e.context.$implicit.item0Collisions),t(e,15,0,e.context.$implicit.item1Collisions),t(e,18,0,l._25(e,18,0,t(e,19,0,l._15(e.parent,0),e.context.$implicit.wallDetectionReward,"3.2-2"))),t(e,22,0,l._25(e,22,0,t(e,23,0,l._15(e.parent,0),e.context.$implicit.agentDetectionReward,"3.2-2")))})}function jo(t){return l._26(0,[(t()(),l._3(0,0,null,null,2,"button",[["color","accent"],["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.pausePlotting()&&l),l},Ti,ki)),l._2(1,180224,null,0,Ci,[l.k,g,ie],{color:[0,"color"]},null),(t()(),l._24(-1,0,["Pause Plotting"]))],function(t,e){t(e,1,0,"accent")},function(t,e){t(e,0,0,l._15(e,1).disabled||null)})}function Fo(t){return l._26(0,[(t()(),l._3(0,0,null,null,2,"button",[["color","warn"],["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.pausePlotting()&&l),l},Ti,ki)),l._2(1,180224,null,0,Ci,[l.k,g,ie],{color:[0,"color"]},null),(t()(),l._24(-1,0,["Run Plotting"]))],function(t,e){t(e,1,0,"warn")},function(t,e){t(e,0,0,l._15(e,1).disabled||null)})}function Lo(t){return l._26(0,[l._17(0,vt,[l.s]),(t()(),l._3(1,0,null,null,13,"mat-toolbar",[["class","second-toolbar mat-toolbar"],["color","primary"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,Di,Ni)),l._2(2,4243456,null,1,Ri,[l.k,g,Ct],{color:[0,"color"]},null),l._22(603979776,1,{_toolbarRows:1}),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(5,0,null,1,1,"mat-toolbar-row",[["class","mat-toolbar-row"]],null,null,null,null,null)),l._2(6,16384,[[1,4]],0,Mi,[],null,null),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(8,0,null,1,5,"mat-toolbar-row",[["class","mat-toolbar-row"]],null,null,null,null,null)),l._2(9,16384,[[1,4]],0,Mi,[],null,null),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(11,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Simulation: Learning Agents"])),(t()(),l._24(-1,null,["\n  "])),(t()(),l._24(-1,0,["\n"])),(t()(),l._24(-1,null,["\n"])),(t()(),l._3(16,0,null,null,135,"mat-card",[["class","simulation-panel mat-card"]],null,null,null,Ui,Hi)),l._2(17,49152,null,0,Fi,[],null,null),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(19,0,null,0,6,"mat-card-header",[["class","mat-card-header"]],null,null,null,$i,Bi)),l._2(20,49152,null,0,Li,[],null,null),(t()(),l._24(-1,2,["\n    "])),(t()(),l._3(22,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),l._2(23,16384,null,0,ji,[],null,null),(t()(),l._24(-1,null,["Simulation"])),(t()(),l._24(-1,2,["\n  "])),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(27,0,null,0,52,"div",[["id","sim-control-panel"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(29,0,null,null,23,"div",[["id","sim-control-buttons"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(31,0,null,null,20,"mat-button-toggle-group",[["class","button-row mat-button-toggle-group"],["role","radiogroup"]],[[2,"mat-button-toggle-vertical",null]],null,null,null,null)),l._20(5120,null,sr,function(t){return[t]},[so]),l._2(33,16384,null,1,so,[l.h],null,null),l._22(603979776,2,{_buttonToggles:1}),(t()(),l._24(-1,null,["\n        "])),(t()(),l.Y(16777216,null,null,1,null,Ro)),l._2(37,16384,null,0,H,[l.M,l.J],{ngIf:[0,"ngIf"]},null),(t()(),l._24(-1,null,["\n        "])),(t()(),l.Y(16777216,null,null,1,null,Po)),l._2(40,16384,null,0,H,[l.M,l.J],{ngIf:[0,"ngIf"]},null),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(42,0,null,null,2,"button",[["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.reset()&&l),l},Ti,ki)),l._2(43,180224,null,0,Ci,[l.k,g,ie],null,null),(t()(),l._24(-1,0,["Reset"])),(t()(),l._24(-1,null,["\n        "])),(t()(),l.Y(16777216,null,null,1,null,No)),l._2(47,16384,null,0,H,[l.M,l.J],{ngIf:[0,"ngIf"]},null),(t()(),l._24(-1,null,["\n        "])),(t()(),l.Y(16777216,null,null,1,null,Do)),l._2(50,16384,null,0,H,[l.M,l.J],{ngIf:[0,"ngIf"]},null),(t()(),l._24(-1,null,["\n      "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(54,0,null,null,24,"div",[["id","sim-speed-buttons"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(56,0,null,null,21,"mat-button-toggle-group",[["class","button-row mat-button-toggle-group"],["role","radiogroup"]],[[2,"mat-button-toggle-vertical",null]],null,null,null,null)),l._20(5120,null,sr,function(t){return[t]},[so]),l._2(58,16384,null,1,so,[l.h],{value:[0,"value"]},null),l._22(603979776,3,{_buttonToggles:1}),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(61,16777216,null,null,3,"mat-button-toggle",[["class","mat-button-toggle"],["matTooltip","Depending on your systems CPU, the visualization could be lagging. In this case, prefer 'Fast'."],["matTooltipPosition","right"],["value","3"]],[[2,"mat-button-toggle-standalone",null],[2,"mat-button-toggle-checked",null],[2,"mat-button-toggle-disabled",null],[1,"id",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,n){var s=!0,i=t.component;return"longpress"===e&&(s=!1!==l._15(t,63).show()&&s),"keydown"===e&&(s=!1!==l._15(t,63)._handleKeydown(n)&&s),"touchend"===e&&(s=!1!==l._15(t,63)._handleTouchend()&&s),"click"===e&&(s=!1!==i.goMax()&&s),s},uo,ao)),l._2(62,245760,[[3,4]],0,ro,[[2,so],[2,io],l.h,Xr,l.k,ie],{value:[0,"value"]},null),l._2(63,147456,null,0,pi,[hn,l.k,ke,l.M,l.x,g,Xt,ie,ci,[2,Pe],[2,di]],{position:[0,"position"],message:[1,"message"]},null),(t()(),l._24(-1,0,["Max"])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(66,0,null,null,2,"mat-button-toggle",[["class","mat-button-toggle"],["value","2"]],[[2,"mat-button-toggle-standalone",null],[2,"mat-button-toggle-checked",null],[2,"mat-button-toggle-disabled",null],[1,"id",0]],[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.goFast()&&l),l},uo,ao)),l._2(67,245760,[[3,4]],0,ro,[[2,so],[2,io],l.h,Xr,l.k,ie],{value:[0,"value"]},null),(t()(),l._24(-1,0,["Fast"])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(70,0,null,null,2,"mat-button-toggle",[["class","mat-button-toggle"],["value","1"]],[[2,"mat-button-toggle-standalone",null],[2,"mat-button-toggle-checked",null],[2,"mat-button-toggle-disabled",null],[1,"id",0]],[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.goNormal()&&l),l},uo,ao)),l._2(71,245760,[[3,4]],0,ro,[[2,so],[2,io],l.h,Xr,l.k,ie],{value:[0,"value"]},null),(t()(),l._24(-1,0,["Normal"])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(74,0,null,null,2,"mat-button-toggle",[["class","mat-button-toggle"],["value","0"]],[[2,"mat-button-toggle-standalone",null],[2,"mat-button-toggle-checked",null],[2,"mat-button-toggle-disabled",null],[1,"id",0]],[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.goSlow()&&l),l},uo,ao)),l._2(75,245760,[[3,4]],0,ro,[[2,so],[2,io],l.h,Xr,l.k,ie],{value:[0,"value"]},null),(t()(),l._24(-1,0,["Slow"])),(t()(),l._24(-1,null,["\n      "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._24(-1,null,["\n  "])),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(81,0,null,0,0,"canvas",[["id","simulation"]],[[8,"width",0],[8,"height",0]],null,null,null,null)),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(83,0,null,0,44,"div",[["id","data-table"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(85,0,null,null,41,"table",[["class","highlight"],["width","100%"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(87,0,null,null,32,"thead",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(89,0,null,null,29,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(91,16777216,null,null,2,"th",[["matTooltip","Agent Id"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,n){var s=!0;return"longpress"===e&&(s=!1!==l._15(t,92).show()&&s),"keydown"===e&&(s=!1!==l._15(t,92)._handleKeydown(n)&&s),"touchend"===e&&(s=!1!==l._15(t,92)._handleTouchend()&&s),s},null,null)),l._2(92,147456,null,0,pi,[hn,l.k,ke,l.M,l.x,g,Xt,ie,ci,[2,Pe],[2,di]],{message:[0,"message"]},null),(t()(),l._24(-1,null,["Id"])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(95,16777216,null,null,2,"th",[["matTooltip","Total amount of collected green Items"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,n){var s=!0;return"longpress"===e&&(s=!1!==l._15(t,96).show()&&s),"keydown"===e&&(s=!1!==l._15(t,96)._handleKeydown(n)&&s),"touchend"===e&&(s=!1!==l._15(t,96)._handleTouchend()&&s),s},null,null)),l._2(96,147456,null,0,pi,[hn,l.k,ke,l.M,l.x,g,Xt,ie,ci,[2,Pe],[2,di]],{message:[0,"message"]},null),(t()(),l._24(-1,null,["tot. green Items"])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(99,16777216,null,null,2,"th",[["matTooltip","Total amount of collected red Items"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,n){var s=!0;return"longpress"===e&&(s=!1!==l._15(t,100).show()&&s),"keydown"===e&&(s=!1!==l._15(t,100)._handleKeydown(n)&&s),"touchend"===e&&(s=!1!==l._15(t,100)._handleTouchend()&&s),s},null,null)),l._2(100,147456,null,0,pi,[hn,l.k,ke,l.M,l.x,g,Xt,ie,ci,[2,Pe],[2,di]],{message:[0,"message"]},null),(t()(),l._24(-1,null,["tot. red Items"])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(103,16777216,null,null,2,"th",[["matTooltip","Amount of collected green Items per second"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,n){var s=!0;return"longpress"===e&&(s=!1!==l._15(t,104).show()&&s),"keydown"===e&&(s=!1!==l._15(t,104)._handleKeydown(n)&&s),"touchend"===e&&(s=!1!==l._15(t,104)._handleTouchend()&&s),s},null,null)),l._2(104,147456,null,0,pi,[hn,l.k,ke,l.M,l.x,g,Xt,ie,ci,[2,Pe],[2,di]],{message:[0,"message"]},null),(t()(),l._24(-1,null,["curr. green Items"])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(107,16777216,null,null,2,"th",[["matTooltip","Amount of collected red Items per second"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,n){var s=!0;return"longpress"===e&&(s=!1!==l._15(t,108).show()&&s),"keydown"===e&&(s=!1!==l._15(t,108)._handleKeydown(n)&&s),"touchend"===e&&(s=!1!==l._15(t,108)._handleTouchend()&&s),s},null,null)),l._2(108,147456,null,0,pi,[hn,l.k,ke,l.M,l.x,g,Xt,ie,ci,[2,Pe],[2,di]],{message:[0,"message"]},null),(t()(),l._24(-1,null,["curr. red Items"])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(111,16777216,null,null,2,"th",[["matTooltip","Wall detection punishment per second"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,n){var s=!0;return"longpress"===e&&(s=!1!==l._15(t,112).show()&&s),"keydown"===e&&(s=!1!==l._15(t,112)._handleKeydown(n)&&s),"touchend"===e&&(s=!1!==l._15(t,112)._handleTouchend()&&s),s},null,null)),l._2(112,147456,null,0,pi,[hn,l.k,ke,l.M,l.x,g,Xt,ie,ci,[2,Pe],[2,di]],{message:[0,"message"]},null),(t()(),l._24(-1,null,["Walls"])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(115,16777216,null,null,2,"th",[["matTooltip","Agent detection punishment per second"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,n){var s=!0;return"longpress"===e&&(s=!1!==l._15(t,116).show()&&s),"keydown"===e&&(s=!1!==l._15(t,116)._handleKeydown(n)&&s),"touchend"===e&&(s=!1!==l._15(t,116)._handleTouchend()&&s),s},null,null)),l._2(116,147456,null,0,pi,[hn,l.k,ke,l.M,l.x,g,Xt,ie,ci,[2,Pe],[2,di]],{message:[0,"message"]},null),(t()(),l._24(-1,null,["Agents"])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._24(-1,null,["\n      "])),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(121,0,null,null,4,"tbody",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        "])),(t()(),l.Y(16777216,null,null,1,null,Vo)),l._2(124,802816,null,0,L,[l.M,l.J,l.q],{ngForOf:[0,"ngForOf"]},null),(t()(),l._24(-1,null,["\n      "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._24(-1,null,["\n  "])),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(129,0,null,0,21,"div",[["id","chart-control-panel"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(131,0,null,null,15,"mat-button-toggle-group",[["class","button-row mat-button-toggle-group"],["role","radiogroup"]],[[2,"mat-button-toggle-vertical",null]],null,null,null,null)),l._20(5120,null,sr,function(t){return[t]},[so]),l._2(133,16384,null,1,so,[l.h],null,null),l._22(603979776,4,{_buttonToggles:1}),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(136,16777216,null,null,3,"button",[["mat-button",""],["matTooltip","Logs the current state into your browsers console."],["matTooltipPosition","before"]],[[8,"disabled",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,n){var s=!0,i=t.component;return"longpress"===e&&(s=!1!==l._15(t,138).show()&&s),"keydown"===e&&(s=!1!==l._15(t,138)._handleKeydown(n)&&s),"touchend"===e&&(s=!1!==l._15(t,138)._handleTouchend()&&s),"click"===e&&(s=!1!==i.logEvaluation()&&s),s},Ti,ki)),l._2(137,180224,null,0,Ci,[l.k,g,ie],null,null),l._2(138,147456,null,0,pi,[hn,l.k,ke,l.M,l.x,g,Xt,ie,ci,[2,Pe],[2,di]],{position:[0,"position"],message:[1,"message"]},null),(t()(),l._24(-1,0,["Log Evaluation"])),(t()(),l._24(-1,null,["\n      "])),(t()(),l.Y(16777216,null,null,1,null,jo)),l._2(142,16384,null,0,H,[l.M,l.J],{ngIf:[0,"ngIf"]},null),(t()(),l._24(-1,null,["\n      "])),(t()(),l.Y(16777216,null,null,1,null,Fo)),l._2(145,16384,null,0,H,[l.M,l.J],{ngIf:[0,"ngIf"]},null),(t()(),l._24(-1,null,["\n    "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(148,16777216,null,null,1,"div",[["id","reward-chart"],["matTooltip","Shows the rewards and punishments of the Agents over time."],["matTooltipPosition","above"],["style","width:100%; height: 300px;"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,n){var s=!0;return"longpress"===e&&(s=!1!==l._15(t,149).show()&&s),"keydown"===e&&(s=!1!==l._15(t,149)._handleKeydown(n)&&s),"touchend"===e&&(s=!1!==l._15(t,149)._handleTouchend()&&s),s},null,null)),l._2(149,147456,null,0,pi,[hn,l.k,ke,l.M,l.x,g,Xt,ie,ci,[2,Pe],[2,di]],{position:[0,"position"],message:[1,"message"]},null),(t()(),l._24(-1,null,["\n  "])),(t()(),l._24(-1,0,["\n"])),(t()(),l._24(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,2,0,"primary"),t(e,37,0,!n.isPaused),t(e,40,0,n.isPaused),t(e,47,0,!n.isPausedDrawing),t(e,50,0,n.isPausedDrawing),t(e,58,0,l._6(1,"",n.simSpeedIndex,"")),t(e,62,0,"3"),t(e,63,0,"right","Depending on your systems CPU, the visualization could be lagging. In this case, prefer 'Fast'."),t(e,67,0,"2"),t(e,71,0,"1"),t(e,75,0,"0"),t(e,92,0,"Agent Id"),t(e,96,0,"Total amount of collected green Items"),t(e,100,0,"Total amount of collected red Items"),t(e,104,0,"Amount of collected green Items per second"),t(e,108,0,"Amount of collected red Items per second"),t(e,112,0,"Wall detection punishment per second"),t(e,116,0,"Agent detection punishment per second"),t(e,124,0,n.stats.rewards),t(e,138,0,"before","Logs the current state into your browsers console."),t(e,142,0,!n.isPausedPlotting),t(e,145,0,n.isPausedPlotting),t(e,149,0,"above","Shows the rewards and punishments of the Agents over time.")},function(t,e){var n=e.component;t(e,1,0,l._15(e,2)._toolbarRows.length,!l._15(e,2)._toolbarRows.length),t(e,31,0,l._15(e,33).vertical),t(e,42,0,l._15(e,43).disabled||null),t(e,56,0,l._15(e,58).vertical),t(e,61,0,!l._15(e,62).buttonToggleGroup&&!l._15(e,62).buttonToggleGroupMultiple,l._15(e,62).checked,l._15(e,62).disabled,l._15(e,62).id),t(e,66,0,!l._15(e,67).buttonToggleGroup&&!l._15(e,67).buttonToggleGroupMultiple,l._15(e,67).checked,l._15(e,67).disabled,l._15(e,67).id),t(e,70,0,!l._15(e,71).buttonToggleGroup&&!l._15(e,71).buttonToggleGroupMultiple,l._15(e,71).checked,l._15(e,71).disabled,l._15(e,71).id),t(e,74,0,!l._15(e,75).buttonToggleGroup&&!l._15(e,75).buttonToggleGroupMultiple,l._15(e,75).checked,l._15(e,75).disabled,l._15(e,75).id),t(e,81,0,l._6(1,"",n.width,""),l._6(1,"",n.height,"")),t(e,131,0,l._15(e,133).vertical),t(e,136,0,l._15(e,137).disabled||null)})}var zo=l.Z("app-simulation",Io,function(t){return l._26(0,[(t()(),l._3(0,0,null,null,1,"app-simulation",[],null,null,null,Lo,Mo)),l._2(1,114688,null,0,Io,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]);let Ho=0;class Uo{constructor(t,e,n){this.accordion=t,this._changeDetectorRef=e,this._expansionDispatcher=n,this.closed=new l.m,this.opened=new l.m,this.destroyed=new l.m,this.expandedChange=new l.m,this.id=`cdk-accordion-child-${Ho++}`,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=(()=>{}),this._removeUniqueSelectionListener=n.listen((t,e)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===e&&this.id!==t&&(this.expanded=!1)})}get expanded(){return this._expanded}set expanded(t){t=r(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=r(t)}ngOnDestroy(){this.destroyed.emit(),this._removeUniqueSelectionListener()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}}class Bo{}Zs("indicatorRotate",[ei("collapsed",ti({transform:"rotate(0deg)"})),ei("expanded",ti({transform:"rotate(180deg)"})),ni("expanded <=> collapsed",Ys("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),Zs("expansionHeight",[ei("collapsed",ti({height:"{{collapsedHeight}}"}),{params:{collapsedHeight:"48px"}}),ei("expanded",ti({height:"{{expandedHeight}}"}),{params:{expandedHeight:"64px"}}),ni("expanded <=> collapsed",Ys("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),Zs("bodyExpansion",[ei("collapsed",ti({height:"0px",visibility:"hidden"})),ei("expanded",ti({height:"*",visibility:"visible"})),ni("expanded <=> collapsed",Ys("225ms cubic-bezier(0.4,0.0,0.2,1)"))]);let $o=0;class Wo extends Uo{constructor(t,e,n,l){super(t,e,n),this._viewContainerRef=l,this._hideToggle=!1,this._inputChanges=new St.a,this._headerId=`mat-expansion-panel-header-${$o++}`,this.accordion=t}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=r(t)}_getHideToggle(){return this.accordion?this.accordion.hideToggle:this.hideToggle}_hasSpacing(){return!!this.accordion&&"default"===(this.expanded?this.accordion.displayMode:this._getExpandedState())}_getExpandedState(){return this.expanded?"expanded":"collapsed"}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(Ns(null),Rt(()=>this.expanded&&!this._portal),h(1)).subscribe(()=>{this._portal=new Fe(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_bodyAnimation(t){const e=t.element.classList,{phaseName:n,toState:l}=t;"done"===n&&"expanded"===l?e.add("mat-expanded"):"start"===n&&"collapsed"===l&&e.remove("mat-expanded")}}class Go{constructor(t,e,n,l){this.panel=t,this._element=e,this._focusMonitor=n,this._changeDetectorRef=l,this._parentChangeSubscription=Et.a.EMPTY,this._parentChangeSubscription=Object(Se.a)(t.opened,t.closed,t._inputChanges.pipe(Rt(t=>!(!t.hideToggle&&!t.disabled)))).subscribe(()=>this._changeDetectorRef.markForCheck()),n.monitor(e.nativeElement)}_toggle(){this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_keydown(t){switch(t.keyCode){case Tt:case kt:t.preventDefault(),this._toggle();break;default:return}}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element.nativeElement)}}class qo{}class Qo{}class Ko{}var Jo=l._1({encapsulation:2,styles:[".mat-expansion-panel{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);box-sizing:content-box;display:block;margin:0;transition:margin 225ms cubic-bezier(.4,0,.2,1)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-expansion-panel-content{overflow:hidden}.mat-expansion-panel-content.mat-expanded{overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion .mat-expansion-panel-spacing:first-child{margin-top:0}.mat-accordion .mat-expansion-panel-spacing:last-child{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button{margin-left:0;margin-right:8px}"],data:{animation:[{type:7,name:"bodyExpansion",definitions:[{type:0,name:"collapsed",styles:{type:6,styles:{height:"0px",visibility:"hidden"},offset:null},options:void 0},{type:0,name:"expanded",styles:{type:6,styles:{height:"*",visibility:"visible"},offset:null},options:void 0},{type:1,expr:"expanded <=> collapsed",animation:{type:4,styles:null,timings:"225ms cubic-bezier(0.4,0.0,0.2,1)"},options:null}],options:{}}]}});function Zo(t){return l._26(0,[(t()(),l.Y(0,null,null,0))],null,null)}function Yo(t){return l._26(2,[l._14(null,0),(t()(),l._3(1,0,[["body",1]],null,5,"div",[["class","mat-expansion-panel-content"],["role","region"]],[[24,"@bodyExpansion",0],[1,"aria-labelledby",0],[8,"id",0]],[[null,"@bodyExpansion.done"],[null,"@bodyExpansion.start"]],function(t,e,n){var l=!0,s=t.component;return"@bodyExpansion.done"===e&&(l=!1!==s._bodyAnimation(n)&&l),"@bodyExpansion.start"===e&&(l=!1!==s._bodyAnimation(n)&&l),l},null,null)),(t()(),l._3(2,0,null,null,3,"div",[["class","mat-expansion-panel-body"]],null,null,null,null,null)),l._14(null,1),(t()(),l.Y(16777216,null,null,1,null,Zo)),l._2(5,212992,null,0,He,[l.j,l.M],{portal:[0,"portal"]},null),l._14(null,2)],function(t,e){t(e,5,0,e.component._portal)},function(t,e){var n=e.component;t(e,1,0,n._getExpandedState(),n._headerId,n.id)})}var Xo=l._1({encapsulation:2,styles:[".mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:0}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-description,.mat-expansion-panel-header-title{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-description,[dir=rtl] .mat-expansion-panel-header-title{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:'';display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}"],data:{animation:[{type:7,name:"indicatorRotate",definitions:[{type:0,name:"collapsed",styles:{type:6,styles:{transform:"rotate(0deg)"},offset:null},options:void 0},{type:0,name:"expanded",styles:{type:6,styles:{transform:"rotate(180deg)"},offset:null},options:void 0},{type:1,expr:"expanded <=> collapsed",animation:{type:4,styles:null,timings:"225ms cubic-bezier(0.4,0.0,0.2,1)"},options:null}],options:{}},{type:7,name:"expansionHeight",definitions:[{type:0,name:"collapsed",styles:{type:6,styles:{height:"{{collapsedHeight}}"},offset:null},options:{params:{collapsedHeight:"48px"}}},{type:0,name:"expanded",styles:{type:6,styles:{height:"{{expandedHeight}}"},offset:null},options:{params:{expandedHeight:"64px"}}},{type:1,expr:"expanded <=> collapsed",animation:{type:4,styles:null,timings:"225ms cubic-bezier(0.4,0.0,0.2,1)"},options:null}],options:{}}]}});function ta(t){return l._26(0,[(t()(),l._3(0,0,null,null,0,"span",[["class","mat-expansion-indicator"]],[[24,"@indicatorRotate",0]],null,null,null,null))],null,function(t,e){t(e,0,0,e.component._getExpandedState())})}function ea(t){return l._26(2,[(t()(),l._3(0,0,null,null,3,"span",[["class","mat-content"]],null,null,null,null,null)),l._14(null,0),l._14(null,1),l._14(null,2),(t()(),l.Y(16777216,null,null,1,null,ta)),l._2(5,16384,null,0,H,[l.M,l.J],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,5,0,e.component._showToggle())},null)}function na(t){return`${t||""}`}function la(t){return"string"==typeof t?parseInt(t,10):t}class sa{constructor(t){this._element=t,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=la(t)}get colspan(){return this._colspan}set colspan(t){this._colspan=la(t)}_setStyle(t,e){this._element.nativeElement.style[t]=e}}class ia{constructor(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(t=>this._trackTile(t))}get rowCount(){return this.rowIndex+1}get rowspan(){let t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}_trackTile(t){let e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new ra(this.rowIndex,e)}_findMatchingGap(t){if(t>this.tracker.length)throw Error(`mat-grid-list: tile with colspan ${t} is wider than `+`grid with cols="${this.tracker.length}".`);let e=-1,n=-1;do{this.columnIndex+t>this.tracker.length?this._nextRow():-1!=(e=this.tracker.indexOf(0,this.columnIndex))?(n=this._findGapEndIndex(e),this.columnIndex=e+1):this._nextRow()}while(n-e<t);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let n=0;n<e.colspan;n++)this.tracker[t+n]=e.rowspan}}class ra{constructor(t,e){this.row=t,this.col=e}}class oa{constructor(){this._rows=0,this._rowspan=0}init(t,e,n,l){this._gutterSize=da(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=n,this._direction=l}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":ha(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,n){let l=100/this._cols,s=(this._cols-1)/this._cols;this.setColStyles(t,n,l,s),this.setRowStyles(t,e,l,s)}setColStyles(t,e,n,l){let s=this.getBaseTileSize(n,l);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(s,e)),t._setStyle("width",ha(this.getTileSize(s,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class aa extends oa{constructor(t){super(),this.fixedRowHeight=t}init(t,e,n,l){super.init(t,e,n,l),this.fixedRowHeight=da(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",ha(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",ha(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class ua extends oa{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,n,l){this.baseTileHeight=this.getBaseTileSize(n/this.rowHeightRatio,l),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",ha(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",ha(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");if(2!==e.length)throw Error(`mat-grid-list: invalid ratio given for row-height: "${t}"`);this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class ca extends oa{setRowStyles(t,e){let n=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(n,e)),t._setStyle("height",ha(this.getTileSize(n,t.rowspan)))}reset(t){t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function ha(t){return`calc(${t})`}function da(t){return t.match(/px|em|rem/)?t:t+"px"}const pa="fit";class ma{constructor(t,e){this._element=t,this._dir=e,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=la(t)}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=na(t)}set rowHeight(t){const e=na(t);e!==this._rowHeight&&(this._rowHeight=e,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){if(!this.cols)throw Error('mat-grid-list: must pass in number of columns. Example: <mat-grid-list cols="3">')}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler=t===pa?new ca:t&&t.indexOf(":")>-1?new ua(t):new aa(t)}_layoutTiles(){const t=new ia(this.cols,this._tiles);this._tileStyler.init(this.gutterSize,t,this.cols,this._dir?this._dir.value:"ltr"),this._tiles.forEach((e,n)=>{const l=t.positions[n];this._tileStyler.setStyle(e,l.row,l.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}class ga{}var fa=l._1({encapsulation:2,styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-footer,.mat-grid-tile .mat-grid-tile-header{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-footer>*,.mat-grid-tile .mat-grid-tile-header>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-tile-footer.mat-2-line,.mat-grid-tile .mat-grid-tile-header.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}"],data:{}});function _a(t){return l._26(2,[(t()(),l._3(0,0,null,null,1,"div",[],null,null,null,null,null)),l._14(null,0)],null,null)}var ya=l._1({encapsulation:2,styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-footer,.mat-grid-tile .mat-grid-tile-header{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-footer>*,.mat-grid-tile .mat-grid-tile-header>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-tile-footer.mat-2-line,.mat-grid-tile .mat-grid-tile-header.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}"],data:{}});function ba(t){return l._26(2,[(t()(),l._3(0,0,null,null,1,"figure",[["class","mat-figure"]],null,null,null,null,null)),l._14(null,0)],null,null)}class wa{}var va=l._1({encapsulation:0,styles:[["li[_ngcontent-%COMP%]{margin-top:10px}li[_ngcontent-%COMP%]:first-child{margin-top:0}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:none;border-collapse:collapse}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:10px 5px;display:table-cell;text-align:center;vertical-align:middle}table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{-ms-flex-line-pack:center;align-content:center;font-size:14px;font-weight:lighter;line-height:1.5;border:0;border-radius:0}table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{-ms-flex-line-pack:center;align-content:center;font-size:14px;font-weight:700;line-height:1.5;border-bottom:1px solid #d0d0d0}table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:hover{-webkit-transition:background-color .25s ease;transition:background-color .25s ease;background-color:#f2f2f2}"]],data:{}});function xa(t){return l._26(0,[(t()(),l._3(0,0,null,null,13,"mat-toolbar",[["class","second-toolbar mat-toolbar"],["color","primary"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,Di,Ni)),l._2(1,4243456,null,1,Ri,[l.k,g,Ct],{color:[0,"color"]},null),l._22(603979776,1,{_toolbarRows:1}),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(4,0,null,1,1,"mat-toolbar-row",[["class","mat-toolbar-row"]],null,null,null,null,null)),l._2(5,16384,[[1,4]],0,Mi,[],null,null),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(7,0,null,1,5,"mat-toolbar-row",[["class","mat-toolbar-row"]],null,null,null,null,null)),l._2(8,16384,[[1,4]],0,Mi,[],null,null),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(10,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Explanation"])),(t()(),l._24(-1,null,["\n  "])),(t()(),l._24(-1,0,["\n"])),(t()(),l._24(-1,null,["\n"])),(t()(),l._3(15,0,null,null,793,"mat-card",[["class","mat-card"]],null,null,null,Ui,Hi)),l._2(16,49152,null,0,Fi,[],null,null),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(18,0,null,0,6,"mat-card-header",[["class","mat-card-header"]],null,null,null,$i,Bi)),l._2(19,49152,null,0,Li,[],null,null),(t()(),l._24(-1,2,["\n    "])),(t()(),l._3(21,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),l._2(22,16384,null,0,ji,[],null,null),(t()(),l._24(-1,null,["Explanation"])),(t()(),l._24(-1,2,["\n  "])),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(26,0,null,0,781,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l._2(27,16384,null,0,Vi,[],null,null),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(29,16777216,null,null,56,"mat-expansion-panel",[["class","mat-expansion-panel"]],[[2,"mat-expanded",null],[2,"mat-expansion-panel-spacing",null]],null,null,Yo,Jo)),l._2(30,1753088,null,1,Wo,[[8,null],l.h,Xr,l.M],null,null),l._22(335544320,2,{_lazyContent:0}),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(33,0,null,0,18,"mat-expansion-panel-header",[["class","mat-expansion-panel-header"],["role","button"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-controls",0],[1,"aria-expanded",0],[1,"aria-disabled",0],[2,"mat-expanded",null],[40,"@expansionHeight",0]],[[null,"click"],[null,"keydown"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==l._15(t,34)._toggle()&&s),"keydown"===e&&(s=!1!==l._15(t,34)._keydown(n)&&s),s},ea,Xo)),l._2(34,180224,null,0,Go,[Wo,l.k,ie,l.h],null,null),l._18(35,{collapsedHeight:0,expandedHeight:1}),l._18(36,{value:0,params:1}),(t()(),l._24(-1,2,["\n        "])),(t()(),l._3(38,0,null,0,5,"mat-panel-title",[["class","mat-expansion-panel-header-title"]],null,null,null,null,null)),l._2(39,16384,null,0,Qo,[],null,null),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(41,0,null,null,1,"div",[["style","width: 185px;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["World composition"])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._24(-1,2,["\n        "])),(t()(),l._3(45,0,null,1,5,"mat-panel-description",[["class","mat-expansion-panel-header-description"],["style","align-content: left;"]],null,null,null,null,null)),l._2(46,16384,null,0,qo,[],null,null),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(48,0,null,null,1,"div",[["style","width: 300px;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Description of the world components"])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._24(-1,2,["\n      "])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(53,0,null,1,7,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        The canvases in the Tabs "])),(t()(),l._3(55,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Pre-Trained"])),(t()(),l._24(-1,null,[" and "])),(t()(),l._3(58,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Simulation"])),(t()(),l._24(-1,null,[" show a 2-dimensional world with two agents navigating around and roughly 50 items floating randomly around in it.\n      "])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(62,0,null,1,7,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,['\n        Both agents are composed with different sensory but with an identical dimensioned "brain" (DQN-Solver).\n        One of the agents has a '])),(t()(),l._3(64,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),l._24(-1,null,["ray-based"])),(t()(),l._24(-1,null,[" sensory and the other one has a "])),(t()(),l._3(67,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),l._24(-1,null,["field-based"])),(t()(),l._24(-1,null,[" sensory.\n        Either sensory enables the agents to detect objects (e.g. items, walls and other agents) in their environment.\n        On collision with an item, the agents are either rewarded or punished, depending on their respective valuation.\n        Based on these incentivizing feedbacks, the agents ultimate goal is to learn to avoid the harmful items and collect the beneficial ones by accelerating either towards or away from the items accordingly.\n        Additionally to the rewards and punishments based on experienced collisions with the items, the agents will experience punishments grounded on their perception of walls and other rivaling agents. \n      "])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(71,0,null,1,13,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        In the "])),(t()(),l._3(73,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Pre-Trained"])),(t()(),l._24(-1,null,["-Section you will find two pre-trained agents from a former simulation run.\n        The "])),(t()(),l._3(76,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Simulation"])),(t()(),l._24(-1,null,["-Section shows two freshly initialized agents, that are to be trained during a simulation run.\n        As it can be observed, the pre-trained agents are already pretty good in contrast to the freshly initialized agents at collecting the beneficial items ("])),(t()(),l._3(79,0,null,null,1,"font",[["color","green"]],null,null,null,null,null)),(t()(),l._24(-1,null,["green"])),(t()(),l._24(-1,null,[") and avoiding the harmful ones ("])),(t()(),l._3(82,0,null,null,1,"font",[["color","red"]],null,null,null,null,null)),(t()(),l._24(-1,null,["red"])),(t()(),l._24(-1,null,[").\n        The environment logic ensures that new items are spawned randomly, should an item be consumed by an agent.\n        This means, an item has a random type, a random location and a random speed.\n      "])),(t()(),l._24(-1,1,["\n    "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(87,16777216,null,null,64,"mat-expansion-panel",[["class","mat-expansion-panel"]],[[2,"mat-expanded",null],[2,"mat-expansion-panel-spacing",null]],null,null,Yo,Jo)),l._2(88,1753088,null,1,Wo,[[8,null],l.h,Xr,l.M],null,null),l._22(335544320,3,{_lazyContent:0}),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(91,0,null,0,18,"mat-expansion-panel-header",[["class","mat-expansion-panel-header"],["role","button"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-controls",0],[1,"aria-expanded",0],[1,"aria-disabled",0],[2,"mat-expanded",null],[40,"@expansionHeight",0]],[[null,"click"],[null,"keydown"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==l._15(t,92)._toggle()&&s),"keydown"===e&&(s=!1!==l._15(t,92)._keydown(n)&&s),s},ea,Xo)),l._2(92,180224,null,0,Go,[Wo,l.k,ie,l.h],null,null),l._18(93,{collapsedHeight:0,expandedHeight:1}),l._18(94,{value:0,params:1}),(t()(),l._24(-1,2,["\n        "])),(t()(),l._3(96,0,null,0,5,"mat-panel-title",[["class","mat-expansion-panel-header-title"]],null,null,null,null,null)),l._2(97,16384,null,0,Qo,[],null,null),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(99,0,null,null,1,"div",[["style","width: 185px;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Project Structure"])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._24(-1,2,["\n        "])),(t()(),l._3(103,0,null,1,5,"mat-panel-description",[["class","mat-expansion-panel-header-description"],["style","align-content: left;"]],null,null,null,null,null)),l._2(104,16384,null,0,qo,[],null,null),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(106,0,null,null,1,"div",[["style","width: 300px;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Description of the project dependencies"])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._24(-1,2,["\n      "])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(111,0,null,1,9,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        The project is structured into several components.\n        The frontend view, which you can currently see on this website is located in the "])),(t()(),l._3(113,0,null,null,2,"a",[["href","https://github.com/mvrahden/learning-agents/"]],null,null,null,null,null)),(t()(),l._3(114,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Learning Agents"])),(t()(),l._24(-1,null,[" repository.\n        This frontend view contains the whole simulation control and the utilities to visualize the logic of the model.\n        The model is located in the "])),(t()(),l._3(117,0,null,null,2,"a",[["href","https://github.com/mvrahden/learning-agents-model/"]],null,null,null,null,null)),(t()(),l._3(118,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Learning Agents Model"])),(t()(),l._24(-1,null,[" repository.\n        It contains the logic for the behaviors and states of each world component, be it an agent, an item or a wall.\n        With all the sensory, the inference and the actioning the agents are the world components harboring a gross of the logic.\n        The whole logic for the perception, the reward and punishment calculation and the actioning is located within this repository.\n      "])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(122,0,null,1,28,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        In contrast the logic for the inference is located in the "])),(t()(),l._3(124,0,null,null,2,"a",[["href","https://github.com/mvrahden/reinforce-js/"]],null,null,null,null,null)),(t()(),l._3(125,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["reinforce-js"])),(t()(),l._24(-1,null,[" library.\n        This inference logic is based on the "])),(t()(),l._3(128,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["DQN-Method"])),(t()(),l._24(-1,null,[" presented by "])),(t()(),l._3(131,0,null,null,2,"a",[["href","https://www.nature.com/articles/nature14236"]],null,null,null,null,null)),(t()(),l._3(132,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Mnih et al. (2015)"])),(t()(),l._24(-1,null,[" in the research paper "])),(t()(),l._3(135,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),l._24(-1,null,['"Human-level control through deep reinforcement learning"'])),(t()(),l._24(-1,null,[", which itself is based on "])),(t()(),l._3(138,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["neural networks"])),(t()(),l._24(-1,null,[" in combination with "])),(t()(),l._3(141,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["reinforcement learning"])),(t()(),l._24(-1,null,[".\n        The "])),(t()(),l._3(144,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["reinforce-js"])),(t()(),l._24(-1,null,[" library itself makes use of the "])),(t()(),l._3(147,0,null,null,2,"a",[["href","https://github.com/mvrahden/recurrent-js/"]],null,null,null,null,null)),(t()(),l._3(148,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["recurrent-js"])),(t()(),l._24(-1,null,[" library to generate and train the neural networks.\n      "])),(t()(),l._24(-1,1,["\n    "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(153,16777216,null,null,46,"mat-expansion-panel",[["class","mat-expansion-panel"]],[[2,"mat-expanded",null],[2,"mat-expansion-panel-spacing",null]],null,null,Yo,Jo)),l._2(154,1753088,null,1,Wo,[[8,null],l.h,Xr,l.M],null,null),l._22(335544320,4,{_lazyContent:0}),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(157,0,null,0,18,"mat-expansion-panel-header",[["class","mat-expansion-panel-header"],["role","button"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-controls",0],[1,"aria-expanded",0],[1,"aria-disabled",0],[2,"mat-expanded",null],[40,"@expansionHeight",0]],[[null,"click"],[null,"keydown"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==l._15(t,158)._toggle()&&s),"keydown"===e&&(s=!1!==l._15(t,158)._keydown(n)&&s),s},ea,Xo)),l._2(158,180224,null,0,Go,[Wo,l.k,ie,l.h],null,null),l._18(159,{collapsedHeight:0,expandedHeight:1}),l._18(160,{value:0,params:1}),(t()(),l._24(-1,2,["\n        "])),(t()(),l._3(162,0,null,0,5,"mat-panel-title",[["class","mat-expansion-panel-header-title"]],null,null,null,null,null)),l._2(163,16384,null,0,Qo,[],null,null),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(165,0,null,null,1,"div",[["style","width: 185px;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Simulation"])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._24(-1,2,["\n        "])),(t()(),l._3(169,0,null,1,5,"mat-panel-description",[["class","mat-expansion-panel-header-description"],["style","align-content: left;"]],null,null,null,null,null)),l._2(170,16384,null,0,qo,[],null,null),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(172,0,null,null,1,"div",[["style","width: 300px;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Description of the simulation sequence"])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._24(-1,2,["\n      "])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(177,0,null,1,18,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        The simulation sequence is configured according to the simulation process of the "])),(t()(),l._3(179,0,null,null,3,"a",[["href","https://www.nature.com/articles/nature14236"]],null,null,null,null,null)),(t()(),l._3(180,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Mnih et al. (2015)"])),(t()(),l._24(-1,null,[' - "Human-level control through deep reinforcement learning"'])),(t()(),l._24(-1,null,[" research paper.\n        It is split into two phases a first phase which we will call "])),(t()(),l._3(184,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Trainings Mode"])),(t()(),l._24(-1,null,[" and a second phase which we'll call "])),(t()(),l._3(187,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Evaluation Mode"])),(t()(),l._24(-1,null,[".\n        The trainings mode is automatically initialized as the simulation panel is opened.\n        It is a standardized mode which tries to provide equal training conditions for all simulations.\n        In this mode the item population is "])),(t()(),l._3(190,0,null,null,1,"u",[],null,null,null,null,null)),(t()(),l._24(-1,null,["actively controlled"])),(t()(),l._24(-1,null,[" to be somewhat evenly distributed.\n        During this mode the agents inference mechanism is configured to "])),(t()(),l._3(193,0,null,null,1,"u",[],null,null,null,null,null)),(t()(),l._24(-1,null,["explore"])),(t()(),l._24(-1,null,[" their environments state space \u2013 meaning the agents will have a high but over time decaying degree of random navigation behaviors.\n        This exploration vs. exploitation decay is linear over time, enforced via the hyperparameter configuration of the individual agents.\n      "])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(197,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        After 2.5 million iterations (with 24 iterations per second at normal speed and \u2248216 iterations per second at fast speed) the simulation automatically switches the environment and the agents into evaluation mode.\n        During the evaluation mode the agents will have a toned down exploration value, perhaps around 5%.\n        This ensures that most of the exposed behavior will be according to what the neural network of each agent will have approximated, hence it will expose what it has learned to predict.\n      "])),(t()(),l._24(-1,1,["\n    "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(201,16777216,null,null,462,"mat-expansion-panel",[["class","mat-expansion-panel"]],[[2,"mat-expanded",null],[2,"mat-expansion-panel-spacing",null]],null,null,Yo,Jo)),l._2(202,1753088,null,1,Wo,[[8,null],l.h,Xr,l.M],null,null),l._22(335544320,5,{_lazyContent:0}),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(205,0,null,0,18,"mat-expansion-panel-header",[["class","mat-expansion-panel-header"],["role","button"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-controls",0],[1,"aria-expanded",0],[1,"aria-disabled",0],[2,"mat-expanded",null],[40,"@expansionHeight",0]],[[null,"click"],[null,"keydown"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==l._15(t,206)._toggle()&&s),"keydown"===e&&(s=!1!==l._15(t,206)._keydown(n)&&s),s},ea,Xo)),l._2(206,180224,null,0,Go,[Wo,l.k,ie,l.h],null,null),l._18(207,{collapsedHeight:0,expandedHeight:1}),l._18(208,{value:0,params:1}),(t()(),l._24(-1,2,["\n        "])),(t()(),l._3(210,0,null,0,5,"mat-panel-title",[["class","mat-expansion-panel-header-title"]],null,null,null,null,null)),l._2(211,16384,null,0,Qo,[],null,null),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(213,0,null,null,1,"div",[["style","width: 185px;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Hyperparameter"])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._24(-1,2,["\n        "])),(t()(),l._3(217,0,null,1,5,"mat-panel-description",[["class","mat-expansion-panel-header-description"],["style","align-content: left;"]],null,null,null,null,null)),l._2(218,16384,null,0,qo,[],null,null),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(220,0,null,null,1,"div",[["style","width: 300px;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Configuration of the hyperparameters"])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._24(-1,2,["\n      "])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(225,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        Hyperparameters are a set of constants, that are used to configure the initial state of an agents inference mechanism.\n        In the following list, we provide an overview of the used hyperparameter configuration during this simulation.\n      "])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(228,0,null,1,1,"h4",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Parameters Depending on the Environment"])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(231,0,null,1,63,"div",[["id","data-table"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(233,0,null,null,60,"table",[["class","highlight"],["width","100%"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(235,0,null,null,16,"thead",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(237,0,null,null,13,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(239,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Symbol"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(242,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Name"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(245,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Value"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(248,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Description"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(253,0,null,null,39,"tbody",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(255,0,null,null,17,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(257,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),l._3(258,0,null,null,3,"i",[],null,null,null,null,null)),(t()(),l._24(-1,null,["n"])),(t()(),l._3(260,0,null,null,1,"sub",[],null,null,null,null,null)),(t()(),l._24(-1,null,["s"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(263,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(264,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["numberOfStates"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(267,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(-1,null,["152"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(270,0,null,null,1,"td",[["style","text-align: left;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Perceptable Parameters and size of input layer"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(274,0,null,null,17,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(276,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),l._3(277,0,null,null,3,"i",[],null,null,null,null,null)),(t()(),l._24(-1,null,["n"])),(t()(),l._3(279,0,null,null,1,"sub",[],null,null,null,null,null)),(t()(),l._24(-1,null,["a"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(282,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(283,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["numberOfActions"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(286,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(-1,null,["4"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(289,0,null,null,1,"td",[["style","text-align: left;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Available executable Actions for Agents"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._24(-1,null,["\n      "])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(296,0,null,1,1,"h4",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Parameters defining the overall Inference Accuracy"])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(299,0,null,1,57,"div",[["id","data-table"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(301,0,null,null,54,"table",[["class","highlight"],["width","100%"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(303,0,null,null,16,"thead",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(305,0,null,null,13,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(307,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Symbol"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(310,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Name"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(313,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Value"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(316,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Description"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(321,0,null,null,33,"tbody",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(323,0,null,null,17,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(325,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),l._3(326,0,null,null,3,"i",[],null,null,null,null,null)),(t()(),l._24(-1,null,["n"])),(t()(),l._3(328,0,null,null,1,"sub",[],null,null,null,null,null)),(t()(),l._24(-1,null,["h"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(331,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(332,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["numberOfHiddenUnits"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(335,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(-1,null,["100"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(338,0,null,null,1,"td",[["style","text-align: left;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Dimension of neural network approximator"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(342,0,null,null,11,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(344,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(345,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),l._3(346,0,null,null,0,"sub",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(348,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(350,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(352,0,null,null,0,"td",[["style","text-align: left;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n            "])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._24(-1,null,["\n      "])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(358,0,null,1,1,"h4",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Parameters defining the Decision Behavior"])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(361,0,null,1,114,"div",[["id","data-table"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(363,0,null,null,111,"table",[["class","highlight"],["width","100%"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(365,0,null,null,16,"thead",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(367,0,null,null,13,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(369,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Symbol"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(372,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Name"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(375,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Value"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(378,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Description"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(383,0,null,null,90,"tbody",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(385,0,null,null,17,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(387,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),l._3(388,0,null,null,3,"i",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\u03b5"])),(t()(),l._3(390,0,null,null,1,"sub",[],null,null,null,null,null)),(t()(),l._24(-1,null,["max"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(393,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(394,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["epsilonMax"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(397,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(-1,null,["1.00"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(400,0,null,null,1,"td",[["style","text-align: left;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Upper bound of exploration during training"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(404,0,null,null,17,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(406,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),l._3(407,0,null,null,3,"i",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\u03b5"])),(t()(),l._3(409,0,null,null,1,"sub",[],null,null,null,null,null)),(t()(),l._24(-1,null,["min"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(412,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(413,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["epsilonMax"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(416,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(-1,null,["0.10"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(419,0,null,null,1,"td",[["style","text-align: left;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Lower bound of exploration during training"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(423,0,null,null,17,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(425,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),l._3(426,0,null,null,3,"i",[],null,null,null,null,null)),(t()(),l._24(-1,null,["t"])),(t()(),l._3(428,0,null,null,1,"sub",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\u03b5"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(431,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(432,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["epsilonDecayPeriod"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(435,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(-1,null,["1e6"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(438,0,null,null,1,"td",[["style","text-align: left;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Duration of exploration-decay"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(442,0,null,null,15,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(444,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(445,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\u03b5"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(448,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(449,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["epsilon"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(452,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(-1,null,["0.05"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(455,0,null,null,1,"td",[["style","text-align: left;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Static exploration during evaluation mode"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(459,0,null,null,13,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(461,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(463,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(464,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["trainingMode"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(467,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(-1,null,["true"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(470,0,null,null,1,"td",[["style","text-align: left;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Toggle training and evaluation mode"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._24(-1,null,["\n      "])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(477,0,null,1,1,"h4",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Parameters defining the Learning Behavior"])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(480,0,null,1,182,"div",[["id","data-table"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(482,0,null,null,179,"table",[["class","highlight"],["width","100%"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(484,0,null,null,16,"thead",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(486,0,null,null,13,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(488,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Symbol"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(491,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Name"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(494,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Value"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(497,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Description"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(502,0,null,null,158,"tbody",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(504,0,null,null,15,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(506,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(507,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\u03b3"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(510,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(511,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["gamma"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(514,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(-1,null,["0.95"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(517,0,null,null,1,"td",[["style","text-align: left;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Discount factor of the Bellman equation"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(521,0,null,null,15,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(523,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(524,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\u03b1"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(527,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(528,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["alpha"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(531,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(-1,null,["0.01"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(534,0,null,null,1,"td",[["style","text-align: left;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Discount factor for the neural network update"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(538,0,null,null,16,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(540,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(541,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),l._3(542,0,null,null,0,"sub",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(544,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(545,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["doLossClipping"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(548,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(549,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["true"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(552,0,null,null,1,"td",[["style","text-align: left;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Toggle loss clipping"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(556,0,null,null,17,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(558,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),l._3(559,0,null,null,3,"i",[],null,null,null,null,null)),(t()(),l._24(-1,null,["L"])),(t()(),l._3(561,0,null,null,1,"sub",[],null,null,null,null,null)),(t()(),l._24(-1,null,["clamp"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(564,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(565,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["lossClamp"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(568,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(-1,null,["1.00"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(571,0,null,null,1,"td",[["style","text-align: left;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Clamp for loss value, for learning stabilization"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(575,0,null,null,16,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(577,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(578,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),l._3(579,0,null,null,0,"sub",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(581,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(582,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["doRewardClipping"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(585,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(586,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["true"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(589,0,null,null,1,"td",[["style","text-align: left;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Toggle reward clipping"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(593,0,null,null,17,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(595,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),l._3(596,0,null,null,3,"i",[],null,null,null,null,null)),(t()(),l._24(-1,null,["r"])),(t()(),l._3(598,0,null,null,1,"sub",[],null,null,null,null,null)),(t()(),l._24(-1,null,["clamp"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(601,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(602,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["rewardClamp"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(605,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(-1,null,["1.00"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(608,0,null,null,1,"td",[["style","text-align: left;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Clamp for reward value, for learning stabilization"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(612,0,null,null,17,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(614,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),l._3(615,0,null,null,3,"i",[],null,null,null,null,null)),(t()(),l._24(-1,null,["n"])),(t()(),l._3(617,0,null,null,1,"sub",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Exp"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(620,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(621,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["experienceSize"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(624,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(-1,null,["1e6"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(627,0,null,null,1,"td",[["style","text-align: left;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Size of the experience memory"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(631,0,null,null,13,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(633,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(635,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(636,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["keepExperience-Interval"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(639,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(-1,null,["25"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(642,0,null,null,1,"td",[["style","text-align: left;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Interval for memorizing experiences"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(646,0,null,null,13,"tr",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(648,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(650,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l._3(651,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["replaySteps"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(654,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l._24(-1,null,["10"])),(t()(),l._24(-1,null,["\n              "])),(t()(),l._3(657,0,null,null,1,"td",[["style","text-align: left;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Amount of memory replay steps"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._24(-1,null,["\n      "])),(t()(),l._24(-1,1,["\n    "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(665,16777216,null,null,141,"mat-expansion-panel",[["class","mat-expansion-panel"]],[[2,"mat-expanded",null],[2,"mat-expansion-panel-spacing",null]],null,null,Yo,Jo)),l._2(666,1753088,null,1,Wo,[[8,null],l.h,Xr,l.M],null,null),l._22(335544320,6,{_lazyContent:0}),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(669,0,null,0,18,"mat-expansion-panel-header",[["class","mat-expansion-panel-header"],["role","button"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-controls",0],[1,"aria-expanded",0],[1,"aria-disabled",0],[2,"mat-expanded",null],[40,"@expansionHeight",0]],[[null,"click"],[null,"keydown"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==l._15(t,670)._toggle()&&s),"keydown"===e&&(s=!1!==l._15(t,670)._keydown(n)&&s),s},ea,Xo)),l._2(670,180224,null,0,Go,[Wo,l.k,ie,l.h],null,null),l._18(671,{collapsedHeight:0,expandedHeight:1}),l._18(672,{value:0,params:1}),(t()(),l._24(-1,2,["\n        "])),(t()(),l._3(674,0,null,0,5,"mat-panel-title",[["class","mat-expansion-panel-header-title"]],null,null,null,null,null)),l._2(675,16384,null,0,Qo,[],null,null),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(677,0,null,null,1,"div",[["style","width: 185px;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Simulation Results"])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._24(-1,2,["\n        "])),(t()(),l._3(681,0,null,1,5,"mat-panel-description",[["class","mat-expansion-panel-header-description"],["style","align-content: left;"]],null,null,null,null,null)),l._2(682,16384,null,0,qo,[],null,null),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(684,0,null,null,1,"div",[["style","width: 300px;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Summary of Simulation Results"])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._24(-1,2,["\n      "])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(689,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        The simulation in total endures 10 million iterations.\n        During the simulation several performance measures are captured.\n        For example as in figure 1. and 2. shown the development of the total consumption of items of both agents.\n        On the x-Axis one can find the number of iterations in millions.\n        On the y-Axis one can find the number of consumed items in thousands.\n      "])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(692,0,null,1,29,"mat-grid-list",[["class","mat-grid-list"],["cols","2"],["rowHeight","55px"]],null,null,null,_a,fa)),l._2(693,2211840,null,1,ma,[l.k,[2,Pe]],{cols:[0,"cols"],rowHeight:[1,"rowHeight"]},null),l._22(603979776,7,{_tiles:1}),(t()(),l._24(-1,0,["\n        "])),(t()(),l._3(696,0,null,0,4,"mat-grid-tile",[["class","mat-grid-tile"],["colspan","1"],["rowspan","4"],["style","align-content:center;"]],null,null,null,ba,ya)),l._2(697,49152,[[7,4]],0,sa,[l.k],{rowspan:[0,"rowspan"],colspan:[1,"colspan"]},null),(t()(),l._24(-1,0,["\n          "])),(t()(),l._3(699,0,null,0,0,"img",[["src","./assets/showcase-eval-01-items.png"]],null,null,null,null,null)),(t()(),l._24(-1,0,["\n        "])),(t()(),l._24(-1,0,["\n        "])),(t()(),l._3(702,0,null,0,4,"mat-grid-tile",[["class","mat-grid-tile"],["colspan","1"],["rowspan","4"],["style","align-content:center;"]],null,null,null,ba,ya)),l._2(703,49152,[[7,4]],0,sa,[l.k],{rowspan:[0,"rowspan"],colspan:[1,"colspan"]},null),(t()(),l._24(-1,0,["\n          "])),(t()(),l._3(705,0,null,0,0,"img",[["src","./assets/showcase-eval-02-items.png"]],null,null,null,null,null)),(t()(),l._24(-1,0,["\n        "])),(t()(),l._24(-1,0,["\n        "])),(t()(),l._3(708,0,null,0,5,"mat-grid-tile",[["class","mat-grid-tile"],["colspan","1"],["rowspan","1"],["style","text-align:center;"]],null,null,null,ba,ya)),l._2(709,49152,[[7,4]],0,sa,[l.k],{rowspan:[0,"rowspan"],colspan:[1,"colspan"]},null),(t()(),l._24(-1,0,["\n          "])),(t()(),l._3(711,0,null,0,1,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n            Fig. 1.) Item consumption of agent 1 over time\n          "])),(t()(),l._24(-1,0,["\n        "])),(t()(),l._24(-1,0,["\n        "])),(t()(),l._3(715,0,null,0,5,"mat-grid-tile",[["class","mat-grid-tile"],["colspan","1"],["rowspan","1"],["style","text-align:center;"]],null,null,null,ba,ya)),l._2(716,49152,[[7,4]],0,sa,[l.k],{rowspan:[0,"rowspan"],colspan:[1,"colspan"]},null),(t()(),l._24(-1,0,["\n          "])),(t()(),l._3(718,0,null,0,1,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n            Fig. 2.) Item consumption of agent 2 over time\n          "])),(t()(),l._24(-1,0,["\n        "])),(t()(),l._24(-1,0,["\n      "])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(723,0,null,1,10,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        The colored lines represent the measurements under the environmental boundary condition of an actively "])),(t()(),l._3(725,0,null,null,1,"u",[],null,null,null,null,null)),(t()(),l._24(-1,null,["balanced"])),(t()(),l._24(-1,null,[" item population (as shown in figure 5) \u2013 meaning that the population is being consciously controlled to be balanced.\n        Whereas the dashed lines are representing the measurements under item "])),(t()(),l._3(728,0,null,null,1,"u",[],null,null,null,null,null)),(t()(),l._24(-1,null,["scarcity"])),(t()(),l._24(-1,null,[" (uncontrolled; as shown in figure 6).\n        The higher the green line the better, the lower the red line the better.\n        One can observe that the performance of both agents regarding the avoidance of the harmful ("])),(t()(),l._3(731,0,null,null,1,"font",[["color","red"]],null,null,null,null,null)),(t()(),l._24(-1,null,["red"])),(t()(),l._24(-1,null,[") items is getting even better under the condition of scarcity.\n      "])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(735,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        Figure 3. and 4. present the measurements of the detection punishments in thousands for each agent.\n        It is clearly observable, that in all figures there is a learning curve.\n        The lower all lines the better.\n      "])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(738,0,null,1,29,"mat-grid-list",[["class","mat-grid-list"],["cols","2"],["rowHeight","55px"]],null,null,null,_a,fa)),l._2(739,2211840,null,1,ma,[l.k,[2,Pe]],{cols:[0,"cols"],rowHeight:[1,"rowHeight"]},null),l._22(603979776,8,{_tiles:1}),(t()(),l._24(-1,0,["\n        "])),(t()(),l._3(742,0,null,0,4,"mat-grid-tile",[["class","mat-grid-tile"],["colspan","1"],["rowspan","4"],["style","align-content:center;"]],null,null,null,ba,ya)),l._2(743,49152,[[8,4]],0,sa,[l.k],{rowspan:[0,"rowspan"],colspan:[1,"colspan"]},null),(t()(),l._24(-1,0,["\n          "])),(t()(),l._3(745,0,null,0,0,"img",[["src","./assets/showcase-eval-01-agents-walls.png"]],null,null,null,null,null)),(t()(),l._24(-1,0,["\n        "])),(t()(),l._24(-1,0,["\n        "])),(t()(),l._3(748,0,null,0,4,"mat-grid-tile",[["class","mat-grid-tile"],["colspan","1"],["rowspan","4"],["style","align-content:center;"]],null,null,null,ba,ya)),l._2(749,49152,[[8,4]],0,sa,[l.k],{rowspan:[0,"rowspan"],colspan:[1,"colspan"]},null),(t()(),l._24(-1,0,["\n          "])),(t()(),l._3(751,0,null,0,0,"img",[["src","./assets/showcase-eval-02-agents-walls.png"]],null,null,null,null,null)),(t()(),l._24(-1,0,["\n        "])),(t()(),l._24(-1,0,["\n        "])),(t()(),l._3(754,0,null,0,5,"mat-grid-tile",[["class","mat-grid-tile"],["colspan","1"],["rowspan","1"],["style","text-align:center;"]],null,null,null,ba,ya)),l._2(755,49152,[[8,4]],0,sa,[l.k],{rowspan:[0,"rowspan"],colspan:[1,"colspan"]},null),(t()(),l._24(-1,0,["\n          "])),(t()(),l._3(757,0,null,0,1,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n            Fig. 3.) Detection punishments of agent 1 over time\n          "])),(t()(),l._24(-1,0,["\n        "])),(t()(),l._24(-1,0,["\n        "])),(t()(),l._3(761,0,null,0,5,"mat-grid-tile",[["class","mat-grid-tile"],["colspan","1"],["rowspan","1"],["style","text-align:center;"]],null,null,null,ba,ya)),l._2(762,49152,[[8,4]],0,sa,[l.k],{rowspan:[0,"rowspan"],colspan:[1,"colspan"]},null),(t()(),l._24(-1,0,["\n          "])),(t()(),l._3(764,0,null,0,1,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n            Fig. 4.) Detection punishments of agent 2 over time\n          "])),(t()(),l._24(-1,0,["\n        "])),(t()(),l._24(-1,0,["\n      "])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(769,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        Even here it is seen, that the learning under the scarcity condition is always outperforming the learning under controlled item population.\n        The explanation for this tendency is simple:\n        In the scarcity scenario, the population of the beneficial items instantaneously decreases to a very small amount.\n        This leads to an excessive exposure of the agents with harmful items, leading them to learn even better to avoid these kind of items.\n        Since now there are few beneficial items on the field and a lot of harmful items the agents are not experiencing a lot of rewards.\n        Hence, the agents can now distinguish even better the source of the rewards and punishments, leading them to also learn better to avoid wall detection.\n      "])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(772,0,null,1,33,"mat-grid-list",[["class","mat-grid-list"],["cols","2"],["rowHeight","55px"]],null,null,null,_a,fa)),l._2(773,2211840,null,1,ma,[l.k,[2,Pe]],{cols:[0,"cols"],rowHeight:[1,"rowHeight"]},null),l._22(603979776,9,{_tiles:1}),(t()(),l._24(-1,0,["\n        "])),(t()(),l._3(776,0,null,0,4,"mat-grid-tile",[["class","mat-grid-tile"],["colspan","1"],["rowspan","4"],["style","align-content:center;"]],null,null,null,ba,ya)),l._2(777,49152,[[9,4]],0,sa,[l.k],{rowspan:[0,"rowspan"],colspan:[1,"colspan"]},null),(t()(),l._24(-1,0,["\n          "])),(t()(),l._3(779,0,null,0,0,"img",[["src","./assets/showcase-eval-stable.png"]],null,null,null,null,null)),(t()(),l._24(-1,0,["\n        "])),(t()(),l._24(-1,0,["\n        "])),(t()(),l._3(782,0,null,0,4,"mat-grid-tile",[["class","mat-grid-tile"],["colspan","1"],["rowspan","4"],["style","align-content:center;"]],null,null,null,ba,ya)),l._2(783,49152,[[9,4]],0,sa,[l.k],{rowspan:[0,"rowspan"],colspan:[1,"colspan"]},null),(t()(),l._24(-1,0,["\n          "])),(t()(),l._3(785,0,null,0,0,"img",[["src","./assets/showcase-eval-scarce.png"]],null,null,null,null,null)),(t()(),l._24(-1,0,["\n        "])),(t()(),l._24(-1,0,["\n        "])),(t()(),l._3(788,0,null,0,7,"mat-grid-tile",[["class","mat-grid-tile"],["colspan","1"],["rowspan","1"],["style","text-align:center;"]],null,null,null,ba,ya)),l._2(789,49152,[[9,4]],0,sa,[l.k],{rowspan:[0,"rowspan"],colspan:[1,"colspan"]},null),(t()(),l._24(-1,0,["\n          "])),(t()(),l._3(791,0,null,0,3,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n            Fig. 5.) Development of item population"])),(t()(),l._3(793,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),l._24(-1,null,["over time under controlled\n          "])),(t()(),l._24(-1,0,["\n        "])),(t()(),l._24(-1,0,["\n        "])),(t()(),l._3(797,0,null,0,7,"mat-grid-tile",[["class","mat-grid-tile"],["colspan","1"],["rowspan","1"],["style","text-align:center;"]],null,null,null,ba,ya)),l._2(798,49152,[[9,4]],0,sa,[l.k],{rowspan:[0,"rowspan"],colspan:[1,"colspan"]},null),(t()(),l._24(-1,0,["\n          "])),(t()(),l._3(800,0,null,0,3,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n            Fig. 6.) Development of item population"])),(t()(),l._3(802,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),l._24(-1,null,["over time under scarcity\n          "])),(t()(),l._24(-1,0,["\n        "])),(t()(),l._24(-1,0,["\n      "])),(t()(),l._24(-1,1,["\n    "])),(t()(),l._24(-1,null,["\n  "])),(t()(),l._24(-1,0,["\n"])),(t()(),l._24(-1,null,["\n"]))],function(t,e){t(e,1,0,"primary"),t(e,693,0,"2","55px"),t(e,697,0,"4","1"),t(e,703,0,"4","1"),t(e,709,0,"1","1"),t(e,716,0,"1","1"),t(e,739,0,"2","55px"),t(e,743,0,"4","1"),t(e,749,0,"4","1"),t(e,755,0,"1","1"),t(e,762,0,"1","1"),t(e,773,0,"2","55px"),t(e,777,0,"4","1"),t(e,783,0,"4","1"),t(e,789,0,"1","1"),t(e,798,0,"1","1")},function(t,e){t(e,0,0,l._15(e,1)._toolbarRows.length,!l._15(e,1)._toolbarRows.length),t(e,29,0,l._15(e,30).expanded,l._15(e,30)._hasSpacing()),t(e,33,0,l._15(e,34).panel._headerId,l._15(e,34).panel.disabled?-1:0,l._15(e,34)._getPanelId(),l._15(e,34)._isExpanded(),l._15(e,34).panel.disabled,l._15(e,34)._isExpanded(),t(e,36,0,l._15(e,34)._getExpandedState(),t(e,35,0,l._15(e,34).collapsedHeight,l._15(e,34).expandedHeight))),t(e,87,0,l._15(e,88).expanded,l._15(e,88)._hasSpacing()),t(e,91,0,l._15(e,92).panel._headerId,l._15(e,92).panel.disabled?-1:0,l._15(e,92)._getPanelId(),l._15(e,92)._isExpanded(),l._15(e,92).panel.disabled,l._15(e,92)._isExpanded(),t(e,94,0,l._15(e,92)._getExpandedState(),t(e,93,0,l._15(e,92).collapsedHeight,l._15(e,92).expandedHeight))),t(e,153,0,l._15(e,154).expanded,l._15(e,154)._hasSpacing()),t(e,157,0,l._15(e,158).panel._headerId,l._15(e,158).panel.disabled?-1:0,l._15(e,158)._getPanelId(),l._15(e,158)._isExpanded(),l._15(e,158).panel.disabled,l._15(e,158)._isExpanded(),t(e,160,0,l._15(e,158)._getExpandedState(),t(e,159,0,l._15(e,158).collapsedHeight,l._15(e,158).expandedHeight))),t(e,201,0,l._15(e,202).expanded,l._15(e,202)._hasSpacing()),t(e,205,0,l._15(e,206).panel._headerId,l._15(e,206).panel.disabled?-1:0,l._15(e,206)._getPanelId(),l._15(e,206)._isExpanded(),l._15(e,206).panel.disabled,l._15(e,206)._isExpanded(),t(e,208,0,l._15(e,206)._getExpandedState(),t(e,207,0,l._15(e,206).collapsedHeight,l._15(e,206).expandedHeight))),t(e,665,0,l._15(e,666).expanded,l._15(e,666)._hasSpacing()),t(e,669,0,l._15(e,670).panel._headerId,l._15(e,670).panel.disabled?-1:0,l._15(e,670)._getPanelId(),l._15(e,670)._isExpanded(),l._15(e,670).panel.disabled,l._15(e,670)._isExpanded(),t(e,672,0,l._15(e,670)._getExpandedState(),t(e,671,0,l._15(e,670).collapsedHeight,l._15(e,670).expandedHeight)))})}var Ca=l.Z("app-explanation",wa,function(t){return l._26(0,[(t()(),l._3(0,0,null,null,1,"app-explanation",[],null,null,null,xa,va)),l._2(1,49152,null,0,wa,[],null,null)],null,null)},{},{},[]);class Sa{}var Ea=l._1({encapsulation:0,styles:[["li[_ngcontent-%COMP%]{margin-top:10px}li[_ngcontent-%COMP%]:first-child{margin-top:0}"]],data:{}});function ka(t){return l._26(0,[(t()(),l._3(0,0,null,null,13,"mat-toolbar",[["class","second-toolbar mat-toolbar"],["color","primary"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,Di,Ni)),l._2(1,4243456,null,1,Ri,[l.k,g,Ct],{color:[0,"color"]},null),l._22(603979776,1,{_toolbarRows:1}),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(4,0,null,1,1,"mat-toolbar-row",[["class","mat-toolbar-row"]],null,null,null,null,null)),l._2(5,16384,[[1,4]],0,Mi,[],null,null),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(7,0,null,1,5,"mat-toolbar-row",[["class","mat-toolbar-row"]],null,null,null,null,null)),l._2(8,16384,[[1,4]],0,Mi,[],null,null),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(10,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),l._24(-1,null,["About"])),(t()(),l._24(-1,null,["\n  "])),(t()(),l._24(-1,0,["\n"])),(t()(),l._24(-1,null,["\n"])),(t()(),l._3(15,0,null,null,51,"mat-card",[["class","mat-card"],["id","about-panel"]],null,null,null,Ui,Hi)),l._2(16,49152,null,0,Fi,[],null,null),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(18,0,null,0,6,"mat-card-header",[["class","mat-card-header"]],null,null,null,$i,Bi)),l._2(19,49152,null,0,Li,[],null,null),(t()(),l._24(-1,2,["\n    "])),(t()(),l._3(21,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),l._2(22,16384,null,0,ji,[],null,null),(t()(),l._24(-1,null,["About"])),(t()(),l._24(-1,2,["\n  "])),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(26,0,null,0,39,"mat-card-content",[["class","mat-card-content"],["id","about-content"]],null,null,null,null,null)),l._2(27,16384,null,0,Vi,[],null,null),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(29,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,['\n      It is shown an environment which is an extended version of the "Waterworld" example of the Stanford University CS group \u2013 more specific by Andrej Karpathy.\n      You\'ll find multiple pages, each with different content.\n    '])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(32,0,null,null,26,"ol",[["style","line-height: 1.15;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(34,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),l._3(35,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Pre-Trained"])),(t()(),l._24(-1,null,[": This page shows two agents which were trained in a simulation run."])),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(39,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),l._3(40,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Simulation"])),(t()(),l._24(-1,null,[": The simulation environment offers the ability to run individual simulations."])),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(44,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),l._3(45,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Explanation"])),(t()(),l._24(-1,null,[": This page offers explanatory content regarding the logics and technical background of the simulation."])),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(49,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),l._3(50,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["DQN-Method"])),(t()(),l._24(-1,null,[": This page offers even more insight into how the agents inference mechanism, namely the DQN-Method, is implemented."])),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(54,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),l._3(55,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["About"])),(t()(),l._24(-1,null,[": This page offers an overview of the Dependencies of this project."])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(60,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n      The content of this website is for educational purposes only.\n    "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(63,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,['\n      This project shows the simulation environment, the gained pre-trained agents, an explanation of the whole simulation and project construction, hyperparameters and the presentation of the simulation results.\n      It is also shown how the DQN-Method is working in principle.\n      To make yourself an impression the source code of all dependent project modules please see the following section "Dependencies".\n    '])),(t()(),l._24(-1,null,["\n  "])),(t()(),l._24(-1,0,["\n"])),(t()(),l._24(-1,null,["\n"])),(t()(),l._3(68,0,null,null,65,"mat-card",[["class","mat-card"],["id","license-panel"]],null,null,null,Ui,Hi)),l._2(69,49152,null,0,Fi,[],null,null),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(71,0,null,0,6,"mat-card-header",[["class","mat-card-header"]],null,null,null,$i,Bi)),l._2(72,49152,null,0,Li,[],null,null),(t()(),l._24(-1,2,["\n    "])),(t()(),l._3(74,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),l._2(75,16384,null,0,ji,[],null,null),(t()(),l._24(-1,null,["Dependencies"])),(t()(),l._24(-1,2,["\n  "])),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(79,0,null,0,53,"mat-card-content",[["class","mat-card-content"],["id","about-content"]],null,null,null,null,null)),l._2(80,16384,null,0,Vi,[],null,null),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(82,0,null,null,49,"ol",[["style","line-height: 1.15;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(84,0,null,null,5,"li",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(86,0,null,null,2,"a",[["href","https://github.com/mvrahden/learning-agents"]],null,null,null,null,null)),(t()(),l._3(87,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Learning Agents"])),(t()(),l._24(-1,null,["\n              \u2013 Implementation of the Simulation Flow Control and the Frontend View\n      "])),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(91,0,null,null,5,"li",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(93,0,null,null,2,"a",[["href","https://github.com/mvrahden/learning-agents-model"]],null,null,null,null,null)),(t()(),l._3(94,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Learning Agents Model"])),(t()(),l._24(-1,null,["\n              \u2013 Implementation of the entities and their individual logics involved in the Simulation\n      "])),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(98,0,null,null,8,"li",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(100,0,null,null,2,"a",[["href","https://github.com/mvrahden/reinforce-js"]],null,null,null,null,null)),(t()(),l._3(101,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["reinforce-js"])),(t()(),l._24(-1,null,["\n              \u2013 Implementation of the DQN-Solver (available via "])),(t()(),l._3(104,0,null,null,1,"a",[["href","https://www.npmjs.com/package/reinforce-js"]],null,null,null,null,null)),(t()(),l._24(-1,null,["@npm"])),(t()(),l._24(-1,null,[")\n      "])),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(108,0,null,null,8,"li",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(110,0,null,null,2,"a",[["href","https://github.com/mvrahden/recurrent-js"]],null,null,null,null,null)),(t()(),l._3(111,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["recurrent-js"])),(t()(),l._24(-1,null,["\n              \u2013 Implementation of neural networks graph model and matrix operations (available via\n              "])),(t()(),l._3(114,0,null,null,1,"a",[["href","https://www.npmjs.com/package/recurrent-js"]],null,null,null,null,null)),(t()(),l._24(-1,null,["@npm"])),(t()(),l._24(-1,null,[")\n      "])),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(118,0,null,null,5,"li",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(120,0,null,null,2,"a",[["href","https://angular.io/"]],null,null,null,null,null)),(t()(),l._3(121,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Angular"])),(t()(),l._24(-1,null,["\n              \u2013 Mobile & Desktop Frontend Framework\n      "])),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(125,0,null,null,5,"li",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(127,0,null,null,2,"a",[["href","https://material.angular.io/"]],null,null,null,null,null)),(t()(),l._3(128,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Angular Material"])),(t()(),l._24(-1,null,["\n              \u2013 Material Design Components for the Angular Frontend Framework\n      "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._24(-1,null,["\n  "])),(t()(),l._24(-1,0,["\n"])),(t()(),l._24(-1,null,["\n"])),(t()(),l._3(135,0,null,null,23,"mat-card",[["class","mat-card"],["id","license-panel"]],null,null,null,Ui,Hi)),l._2(136,49152,null,0,Fi,[],null,null),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(138,0,null,0,6,"mat-card-header",[["class","mat-card-header"]],null,null,null,$i,Bi)),l._2(139,49152,null,0,Li,[],null,null),(t()(),l._24(-1,2,["\n    "])),(t()(),l._3(141,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),l._2(142,16384,null,0,ji,[],null,null),(t()(),l._24(-1,null,["License"])),(t()(),l._24(-1,2,["\n  "])),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(146,0,null,0,11,"mat-card-content",[["class","mat-card-content"],["id","about-content"],["style","text-align:justify"]],null,null,null,null,null)),l._2(147,16384,null,0,Vi,[],null,null),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(149,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n      The MIT License Copyright (c) 2017 Menno van Rahden\n    "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(152,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,['\n      Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation\n      files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy,\n      modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software\n      is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be\n      included in all copies or substantial portions of the Software.\n    '])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(155,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,['\n      THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n      OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS\n      BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT\n      OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n    '])),(t()(),l._24(-1,null,["\n  "])),(t()(),l._24(-1,0,["\n"])),(t()(),l._24(-1,null,["\n"]))],function(t,e){t(e,1,0,"primary")},function(t,e){t(e,0,0,l._15(e,1)._toolbarRows.length,!l._15(e,1)._toolbarRows.length)})}var Ta=l.Z("app-about",Sa,function(t){return l._26(0,[(t()(),l._3(0,0,null,null,1,"app-about",[],null,null,null,ka,Ea)),l._2(1,49152,null,0,Sa,[],null,null)],null,null)},{},{},[]);class Oa{}var Aa=l._1({encapsulation:0,styles:[["li[_ngcontent-%COMP%]{margin-top:10px}li[_ngcontent-%COMP%]:first-child{margin-top:0}"]],data:{}});function Ia(t){return l._26(0,[(t()(),l._3(0,0,null,null,13,"mat-toolbar",[["class","second-toolbar mat-toolbar"],["color","primary"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,Di,Ni)),l._2(1,4243456,null,1,Ri,[l.k,g,Ct],{color:[0,"color"]},null),l._22(603979776,1,{_toolbarRows:1}),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(4,0,null,1,1,"mat-toolbar-row",[["class","mat-toolbar-row"]],null,null,null,null,null)),l._2(5,16384,[[1,4]],0,Mi,[],null,null),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(7,0,null,1,5,"mat-toolbar-row",[["class","mat-toolbar-row"]],null,null,null,null,null)),l._2(8,16384,[[1,4]],0,Mi,[],null,null),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(10,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),l._24(-1,null,["DQN-Method"])),(t()(),l._24(-1,null,["\n  "])),(t()(),l._24(-1,0,["\n"])),(t()(),l._24(-1,null,["\n"])),(t()(),l._3(15,0,null,null,262,"mat-card",[["class","mat-card"]],null,null,null,Ui,Hi)),l._2(16,49152,null,0,Fi,[],null,null),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(18,0,null,0,6,"mat-card-header",[["class","mat-card-header"]],null,null,null,$i,Bi)),l._2(19,49152,null,0,Li,[],null,null),(t()(),l._24(-1,2,["\n    "])),(t()(),l._3(21,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),l._2(22,16384,null,0,ji,[],null,null),(t()(),l._24(-1,null,["DQN-Method"])),(t()(),l._24(-1,2,["\n  "])),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(26,0,null,0,250,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l._2(27,16384,null,0,Vi,[],null,null),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(29,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n      The "])),(t()(),l._3(31,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["DQNSolver"])),(t()(),l._24(-1,null,[" allows to take actions in an environment and adapt it's decision making over time through environmental feedback.\n    "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(35,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),l._24(-1,null,["Class Structure"])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(38,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n      The following UML-Class diagram shows the composition of the Solver:\n    "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(41,0,null,null,6,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(43,0,null,null,3,"a",[["href","https://github.com/mvrahden/reinforce-js/blob/master/docs/img/dqn-solver-uml.svg"],["target","_blank"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(45,0,null,null,0,"img",[["height","250px"],["src","https://rawgit.com/mvrahden/reinforce-js/master/docs/img/dqn-solver-uml.svg"],["style","max-width:100%;"],["width","550px"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n      "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(49,0,null,null,7,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n      The construction of a solver requires instances of the Classes "])),(t()(),l._3(51,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["DQNEnv"])),(t()(),l._24(-1,null,[" and "])),(t()(),l._3(54,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["DQNOpt"])),(t()(),l._24(-1,null,[".\n      These instances provide all necessary information about the environment and the decision-making and learning of the Agent.\n    "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(58,16777216,null,null,134,"mat-expansion-panel",[["class","mat-expansion-panel"]],[[2,"mat-expanded",null],[2,"mat-expansion-panel-spacing",null]],null,null,Yo,Jo)),l._2(59,1753088,null,1,Wo,[[8,null],l.h,Xr,l.M],null,null),l._22(335544320,2,{_lazyContent:0}),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(62,0,null,0,18,"mat-expansion-panel-header",[["class","mat-expansion-panel-header"],["role","button"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-controls",0],[1,"aria-expanded",0],[1,"aria-disabled",0],[2,"mat-expanded",null],[40,"@expansionHeight",0]],[[null,"click"],[null,"keydown"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==l._15(t,63)._toggle()&&s),"keydown"===e&&(s=!1!==l._15(t,63)._keydown(n)&&s),s},ea,Xo)),l._2(63,180224,null,0,Go,[Wo,l.k,ie,l.h],null,null),l._18(64,{collapsedHeight:0,expandedHeight:1}),l._18(65,{value:0,params:1}),(t()(),l._24(-1,2,["\n        "])),(t()(),l._3(67,0,null,0,5,"mat-panel-title",[["class","mat-expansion-panel-header-title"]],null,null,null,null,null)),l._2(68,16384,null,0,Qo,[],null,null),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(70,0,null,null,1,"div",[["style","width: 185px;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Hyperparameter"])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._24(-1,2,["\n        "])),(t()(),l._3(74,0,null,1,5,"mat-panel-description",[["class","mat-expansion-panel-header-description"],["style","align-content: left;"]],null,null,null,null,null)),l._2(75,16384,null,0,qo,[],null,null),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(77,0,null,null,1,"div",[["style","width: 300px;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Description of the hyperparameter"])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._24(-1,2,["\n      "])),(t()(),l._24(-1,1,["\n      "])),(t()(),l._3(82,0,null,1,109,"ul",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(84,0,null,null,20,"li",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(86,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),l._24(-1,null,["DQNEnv"])),(t()(),l._24(-1,null,[" holds information about the environment.\n          "])),(t()(),l._3(89,0,null,null,14,"ul",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(91,0,null,null,6,"li",[],null,null,null,null,null)),(t()(),l._3(92,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["numberOfStates"])),(t()(),l._24(-1,null,[" describes the length of the Vector ("])),(t()(),l._3(95,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),l._24(-1,null,["s"])),(t()(),l._24(-1,null,[") of observations"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(99,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),l._3(100,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["numberOfActions"])),(t()(),l._24(-1,null,[" describes the number of potential actions to choose from"])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(106,0,null,null,84,"li",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n          "])),(t()(),l._3(108,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),l._24(-1,null,["DQNOpt"])),(t()(),l._24(-1,null,[" holds all the hyperparamters for the "])),(t()(),l._3(111,0,null,null,1,"em",[],null,null,null,null,null)),(t()(),l._24(-1,null,["learning"])),(t()(),l._24(-1,null,[" and "])),(t()(),l._3(114,0,null,null,1,"em",[],null,null,null,null,null)),(t()(),l._24(-1,null,["decision making"])),(t()(),l._24(-1,null,[".\n          "])),(t()(),l._3(117,0,null,null,72,"ul",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(119,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),l._3(120,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["numberOfHiddenUnits"])),(t()(),l._24(-1,null,[": amount of hidden units in the hidden layer of the neural network"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(124,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),l._3(125,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["trainingMode"])),(t()(),l._24(-1,null,[": mode of training, defines the explorative behaviour of the solver (decaying or stable)"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(129,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),l._3(130,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["epsilon"])),(t()(),l._24(-1,null,[": static exploration rate (during non-training mode)"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(134,0,null,null,9,"li",[],null,null,null,null,null)),(t()(),l._3(135,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["epsilonMax"])),(t()(),l._24(-1,null,[", "])),(t()(),l._3(138,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["epsilonMin"])),(t()(),l._24(-1,null,[", "])),(t()(),l._3(141,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["epsilonDecayPeriod"])),(t()(),l._24(-1,null,[": linear decay of exploration during training mode"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(145,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),l._3(146,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["alpha"])),(t()(),l._24(-1,null,[": discount factor for the network update"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(150,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),l._3(151,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["gamma"])),(t()(),l._24(-1,null,[": discount factor for the Bellmann function"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(155,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),l._3(156,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["doLossClipping"])),(t()(),l._24(-1,null,[": controll flag for the clipping of the loss function during learning"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(160,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),l._3(161,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["lossClamp"])),(t()(),l._24(-1,null,[": the size of the loss clipping"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(165,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),l._3(166,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["doRewardClipping"])),(t()(),l._24(-1,null,[": controll flag for the clipping of the injected reward"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(170,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),l._3(171,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["rewardClamp"])),(t()(),l._24(-1,null,[": the size of the reward clipping"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(175,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),l._3(176,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["experienceSize"])),(t()(),l._24(-1,null,[": size of the replay memory"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(180,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),l._3(181,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["replayInterval"])),(t()(),l._24(-1,null,[": interval of memory replay"])),(t()(),l._24(-1,null,["\n            "])),(t()(),l._3(185,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),l._3(186,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["replaySteps"])),(t()(),l._24(-1,null,[": size of the replay sample"])),(t()(),l._24(-1,null,["\n          "])),(t()(),l._24(-1,null,["\n        "])),(t()(),l._24(-1,null,["\n      "])),(t()(),l._24(-1,1,["\n    "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(194,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),l._24(-1,null,["State-Action-Reward Scheme"])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(197,0,null,null,22,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n      The solver provides primarily two methods.\n      The "])),(t()(),l._3(199,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["decide"])),(t()(),l._24(-1,null,["-method allows for the decision making and the "])),(t()(),l._3(202,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["learn"])),(t()(),l._24(-1,null,["-method enables the adaptive learning of the solver.\n      To decide upon an action the solver needs a vector ("])),(t()(),l._3(205,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["s: Array<number>"])),(t()(),l._24(-1,null,[") of current observations (states) and it then returns the "])),(t()(),l._3(208,0,null,null,1,"u",[],null,null,null,null,null)),(t()(),l._24(-1,null,["index"])),(t()(),l._24(-1,null,[" of the action ("])),(t()(),l._3(211,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["a: number"])),(t()(),l._24(-1,null,[") to be executed.\n      After the action was executed the solver takes an integer reward ("])),(t()(),l._3(214,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["r: number"])),(t()(),l._24(-1,null,[") to "])),(t()(),l._3(217,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["learn"])),(t()(),l._24(-1,null,[" from the effectivity of the action.\n    "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(221,0,null,null,13,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n      The appended scheme gives a brief overview of the concept of the solver.\n      As seen, the "])),(t()(),l._3(223,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["DQNSolver"])),(t()(),l._24(-1,null,[" is constructed with a set of hyperparameters defined via "])),(t()(),l._3(226,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["DQNOpt"])),(t()(),l._24(-1,null,[" and the description of the environment defined by "])),(t()(),l._3(229,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),l._24(-1,null,["DQNEnv"])),(t()(),l._24(-1,null,[".\n      The solver is then enabled to make decisions based on a set of observations ("])),(t()(),l._3(232,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),l._24(-1,null,["s"])),(t()(),l._24(-1,null,[").\n      The decision making can then be influenced by providing a reward value.\n    "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(236,0,null,null,22,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n      Assuming the solver has decided and learned at least once, the "])),(t()(),l._3(238,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),l._24(-1,null,["s"])),(t()(),l._24(-1,null,["tate and "])),(t()(),l._3(241,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),l._24(-1,null,["a"])),(t()(),l._24(-1,null,["ction of the current iteration plus the "])),(t()(),l._3(244,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),l._24(-1,null,["r"])),(t()(),l._24(-1,null,["eward, "])),(t()(),l._3(247,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),l._24(-1,null,["s"])),(t()(),l._24(-1,null,["tate and "])),(t()(),l._3(250,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),l._24(-1,null,["a"])),(t()(),l._24(-1,null,["ction of the last iteration resolve into an experience (called sarsa-tuple) for the replay memory.\n      When aiming for a stable learning, the clipping of the "])),(t()(),l._3(253,0,null,null,1,"em",[],null,null,null,null,null)),(t()(),l._24(-1,null,["reward"])),(t()(),l._24(-1,null,[" and "])),(t()(),l._3(256,0,null,null,1,"em",[],null,null,null,null,null)),(t()(),l._24(-1,null,["loss"])),(t()(),l._24(-1,null,[" is recommended.\n    "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(260,0,null,null,6,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(262,0,null,null,3,"a",[["href","https://github.com/mvrahden/reinforce-js/blob/master/docs/img/dqn-solver.svg"],["target","_blank"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n        "])),(t()(),l._3(264,0,null,null,0,"img",[["height","420px"],["src","https://rawgit.com/mvrahden/reinforce-js/master/docs/img/dqn-solver.svg"],["style","max-width:100%;"],["width","600px"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n      "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(268,0,null,null,7,"p",[],null,null,null,null,null)),(t()(),l._24(-1,null,["For further information please consult the research paper of\n      "])),(t()(),l._3(270,0,null,null,4,"a",[["href","http://www.nature.com/articles/nature14236"],["rel","nofollow"]],null,null,null,null,null)),(t()(),l._24(-1,null,["Mnih et al. (2015)\n        "])),(t()(),l._3(272,0,null,null,1,"em",[],null,null,null,null,null)),(t()(),l._24(-1,null,['"Human-level control through deep reinforcement learning"'])),(t()(),l._24(-1,null,["\n      "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._24(-1,null,["\n  "])),(t()(),l._24(-1,0,["\n"])),(t()(),l._24(-1,null,["\n"]))],function(t,e){t(e,1,0,"primary")},function(t,e){t(e,0,0,l._15(e,1)._toolbarRows.length,!l._15(e,1)._toolbarRows.length),t(e,58,0,l._15(e,59).expanded,l._15(e,59)._hasSpacing()),t(e,62,0,l._15(e,63).panel._headerId,l._15(e,63).panel.disabled?-1:0,l._15(e,63)._getPanelId(),l._15(e,63)._isExpanded(),l._15(e,63).panel.disabled,l._15(e,63)._isExpanded(),t(e,65,0,l._15(e,63)._getExpandedState(),t(e,64,0,l._15(e,63).collapsedHeight,l._15(e,63).expandedHeight)))})}var Ma=l.Z("app-about",Oa,function(t){return l._26(0,[(t()(),l._3(0,0,null,null,1,"app-about",[],null,null,null,Ia,Aa)),l._2(1,49152,null,0,Oa,[],null,null)],null,null)},{},{},[]),Ra=n("7nan");class Pa extends St.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ra.a;return this._value}next(t){super.next(this._value=t)}}var Na=n("XLJA");function Da(t,e){return function(t,e){return Object(Na.a)(t,e,1)}(t,e)(this)}function Va(t,e,n=Number.POSITIVE_INFINITY){return Object(Na.a)(t,e,n)(this)}class ja{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Fa(t,this.selector,this.caught))}}class Fa extends ge.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle(),this.add(Object(fe.a)(this,e))}}}function La(t){return function(t){return function(e){const n=new ja(t),l=e.lift(n);return n.caught=l}}(t)(this)}function za(){return Ps()(this)}class Ha extends Error{constructor(){const t=super("no elements in sequence");this.name=t.name="EmptyError",this.stack=t.stack,this.message=t.message}}class Ua{constructor(t,e,n,l){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=l}call(t,e){return e.subscribe(new Ba(t,this.predicate,this.resultSelector,this.defaultValue,this.source))}}class Ba extends a.a{constructor(t,e,n,l,s){super(t),this.predicate=e,this.resultSelector=n,this.defaultValue=l,this.source=s,this.index=0,this.hasCompleted=!1,this._emitted=!1}_next(t){const e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)}_tryPredicate(t,e){let n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}n&&this._emit(t,e)}_emit(t,e){this.resultSelector?this._tryResultSelector(t,e):this._emitFinal(t)}_tryResultSelector(t,e){let n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(n)}_emitFinal(t){const e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)}_complete(){const t=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||t.error(new Ha):(t.next(this.defaultValue),t.complete())}}function $a(t,e,n){return function(t,e,n){return l=>l.lift(new Ua(t,e,n,l))}(t,e,n)(this)}class Wa{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Ga(t,this.predicate,this.thisArg,this.source))}}class Ga extends a.a{constructor(t,e,n,l){super(t),this.predicate=e,this.thisArg=n,this.source=l,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function qa(t,e){return function(t,e){return n=>n.lift(new Wa(t,e,n))}(t,e)(this)}class Qa{constructor(t,e,n,l){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=l}call(t,e){return e.subscribe(new Ka(t,this.predicate,this.resultSelector,this.defaultValue,this.source))}}class Ka extends a.a{constructor(t,e,n,l,s){super(t),this.predicate=e,this.resultSelector=n,this.defaultValue=l,this.source=s,this.hasValue=!1,this.index=0,"undefined"!=typeof l&&(this.lastValue=l,this.hasValue=!0)}_next(t){const e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}}_tryPredicate(t,e){let n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(n){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}}_tryResultSelector(t,e){let n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=n,this.hasValue=!0}_complete(){const t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new Ha)}}function Ja(t,e,n){return function(t,e,n){return l=>l.lift(new Qa(t,e,n,l))}(t,e,n)(this)}function Za(t=Number.POSITIVE_INFINITY){return Object(Rs.a)(t)(this)}function Ya(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(l){return l.lift(new Xa(t,e,n))}}class Xa{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new tu(t,this.accumulator,this.seed,this.hasSeed))}}class tu extends a.a{constructor(t,e,n,l){super(t),this.accumulator=e,this._seed=n,this.hasSeed=l,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(t){this.destination.error(t)}this.seed=n,this.destination.next(n)}}function eu(t){return function(e){return 0===t?new c.a:e.lift(new nu(t))}}class nu{constructor(t){if(this.total=t,this.total<0)throw new u}call(t,e){return e.subscribe(new lu(t,this.total))}}class lu extends a.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,l=this.count++;e.length<n?e.push(t):e[l%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,l=this.ring;for(let s=0;s<n;s++){const s=e++%n;t.next(l[s])}}t.complete()}}class su{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new iu(t,this.defaultValue))}}class iu extends a.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ru=n("7VlU");function ou(t,e){return arguments.length>=2?function(n){return Object(ru.a)(Ya(t,e),eu(1),function(t=null){return e=>e.lift(new su(t))}(e))(n)}:function(e){return Object(ru.a)(Ya((e,n,l)=>t(e,n,l+1)),eu(1))(e)}}class au{constructor(t,e){this.id=t,this.url=e}}class uu extends au{toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cu extends au{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hu extends au{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class du extends au{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pu extends au{constructor(t,e,n,l){super(t,e),this.urlAfterRedirects=n,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mu extends au{constructor(t,e,n,l){super(t,e),this.urlAfterRedirects=n,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gu extends au{constructor(t,e,n,l,s){super(t,e),this.urlAfterRedirects=n,this.state=l,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fu extends au{constructor(t,e,n,l){super(t,e),this.urlAfterRedirects=n,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _u extends au{constructor(t,e,n,l){super(t,e),this.urlAfterRedirects=n,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yu{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bu{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wu{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vu{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xu{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cu{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}const Su="primary";class Eu{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ku(t){return new Eu(t)}const Tu="ngNavigationCancelingError";function Ou(t,e,n){const l=n.path.split("/");if(l.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||l.length<t.length))return null;const s={};for(let i=0;i<l.length;i++){const e=l[i],n=t[i];if(e.startsWith(":"))s[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,l.length),posParams:s}}class Au{constructor(t,e){this.routes=t,this.module=e}}function Iu(t,e=""){for(let n=0;n<t.length;n++){const l=t[n];Mu(l,Ru(e,l))}}function Mu(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&t.outlet&&t.outlet!==Su)throw new Error(`Invalid configuration of route '${e}': a componentless route cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Iu(t.children,e)}function Ru(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Pu(t){const e=t.children&&t.children.map(Pu);return e?Object.assign({},t,{children:e}):Object.assign({},t)}function Nu(t,e){const n=Object.keys(t),l=Object.keys(e);if(n.length!=l.length)return!1;let s;for(let i=0;i<n.length;i++)if(t[s=n[i]]!==e[s])return!1;return!0}function Du(t){return Array.prototype.concat.apply([],t)}function Vu(t){return t.length>0?t[t.length-1]:null}function ju(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Fu(t){const e=Za.call(t);return qa.call(e,t=>!0===t)}function Lu(t){return Object(l._8)(t)?t:Object(l._9)(t)?Qi(Promise.resolve(t)):Lt(t)}function zu(t,e,n){return n?function(t,e){return Nu(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!$u(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const l in n.children){if(!e.children[l])return!1;if(!t(e.children[l],n.children[l]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,l,s){if(n.segments.length>s.length){return!!$u(n.segments.slice(0,s.length),s)&&!l.hasChildren()}if(n.segments.length===s.length){if(!$u(n.segments,s))return!1;for(const e in l.children){if(!n.children[e])return!1;if(!t(n.children[e],l.children[e]))return!1}return!0}{const t=s.slice(0,n.segments.length),i=s.slice(n.segments.length);return!!$u(n.segments,t)&&!!n.children[Su]&&e(n.children[Su],l,i)}}(e,n,n.segments)}(t.root,e.root)}class Hu{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ku(this.queryParams)),this._queryParamMap}toString(){return Qu.serialize(this)}}class Uu{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ju(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ku(this)}}class Bu{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ku(this.parameters)),this._parameterMap}toString(){return ec(this)}}function $u(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Wu(t,e){let n=[];return ju(t.children,(t,l)=>{l===Su&&(n=n.concat(e(t,l)))}),ju(t.children,(t,l)=>{l!==Su&&(n=n.concat(e(t,l)))}),n}class Gu{}class qu{parse(t){const e=new rc(t);return new Hu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${`/${function t(e,n){if(!e.hasChildren())return Ku(e);if(n){const n=e.children[Su]?t(e.children[Su],!1):"",l=[];return ju(e.children,(e,n)=>{n!==Su&&l.push(`${n}:${t(e,!1)}`)}),l.length>0?`${n}(${l.join("//")})`:n}{const n=Wu(e,(n,l)=>l===Su?[t(e.children[Su],!1)]:[`${l}:${t(n,!1)}`]);return`${Ku(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Zu(e)}=${Zu(t)}`).join("&"):`${Zu(e)}=${Zu(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${encodeURI(t.fragment)}`:""}`}}const Qu=new qu;function Ku(t){return t.segments.map(t=>ec(t)).join("/")}function Ju(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zu(t){return Ju(t).replace(/%3B/gi,";")}function Yu(t){return Ju(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xu(t){return decodeURIComponent(t)}function tc(t){return Xu(t.replace(/\+/g,"%20"))}function ec(t){return`${Yu(t.path)}${function(t){return Object.keys(t).map(e=>`;${Yu(e)}=${Yu(t[e])}`).join("")}(t.parameters)}`}const nc=/^[^\/()?;=&#]+/;function lc(t){const e=t.match(nc);return e?e[0]:""}const sc=/^[^=?&#]+/,ic=/^[^?&#]+/;class rc{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Uu([],{}):new Uu([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Su]=new Uu(t,e)),n}parseSegment(){const t=lc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Bu(Xu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=lc(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=lc(this.remaining);t&&this.capture(n=t)}t[Xu(e)]=Xu(n)}parseQueryParam(t){const e=function(t){const e=t.match(sc);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(ic);return e?e[0]:""}(this.remaining);t&&this.capture(n=t)}const l=tc(e),s=tc(n);if(t.hasOwnProperty(l)){let e=t[l];Array.isArray(e)||(t[l]=e=[e]),e.push(s)}else t[l]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=lc(this.remaining),l=this.remaining[n.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let s=void 0;n.indexOf(":")>-1?(s=n.substr(0,n.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Su);const i=this.parseChildren();e[s]=1===Object.keys(i).length?i[Su]:new Uu([],i),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class oc{constructor(t){this.segmentGroup=t||null}}class ac{constructor(t){this.urlTree=t}}function uc(t){return new ae.a(e=>e.error(new oc(t)))}function cc(t){return new ae.a(e=>e.error(new ac(t)))}function hc(t){return new ae.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class dc{constructor(t,e,n,s,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=s,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(l.v)}apply(){const t=this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Su),e=Ki.call(t,t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment));return La.call(e,t=>{if(t instanceof ac)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof oc)throw this.noMatchError(t);throw t})}match(t){const e=this.expandSegmentGroup(this.ngModule,this.config,t.root,Su),n=Ki.call(e,e=>this.createUrlTree(e,t.queryParams,t.fragment));return La.call(n,t=>{if(t instanceof oc)throw this.noMatchError(t);throw t})}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const l=t.segments.length>0?new Uu([],{[Su]:t}):t;return new Hu(l,e,n)}expandSegmentGroup(t,e,n,l){return 0===n.segments.length&&n.hasChildren()?Ki.call(this.expandChildren(t,e,n),t=>new Uu([],t)):this.expandSegment(t,n,e,n.segments,l,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Lt({});const n=[],l=[],s={};ju(t,(t,i)=>{const r=Ki.call(e(i,t),t=>s[i]=t);i===Su?n.push(r):l.push(r)});const i=za.call(Lt(...n,...l)),r=Ja.call(i);return Ki.call(r,()=>s)}(n.children,(n,l)=>this.expandSegmentGroup(t,e,l,n))}expandSegment(t,e,n,l,s,i){const r=Lt(...n),o=Ki.call(r,r=>{const o=this.expandSegmentAgainstRoute(t,e,n,r,l,s,i);return La.call(o,t=>{if(t instanceof oc)return Lt(null);throw t})}),a=za.call(o),u=$a.call(a,t=>!!t);return La.call(u,(t,n)=>{if(t instanceof Ha||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,l,s))return Lt(new Uu([],{}));throw new oc(e)}throw t})}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,l,s,i,r){return fc(l)!==i?uc(e):void 0===l.redirectTo?this.matchSegmentAgainstRoute(t,e,l,s):r&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,l,s,i):uc(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,l,s,i){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,l,i):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,l,s,i)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,l){const s=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?cc(s):Va.call(this.lineralizeSegments(n,s),n=>{const s=new Uu(n,{});return this.expandSegment(t,s,e,n,l,!1)})}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,l,s,i){const{matched:r,consumedSegments:o,lastChild:a,positionalParamSegments:u}=pc(e,l,s);if(!r)return uc(e);const c=this.applyRedirectCommands(o,l.redirectTo,u);return l.redirectTo.startsWith("/")?cc(c):Va.call(this.lineralizeSegments(l,c),l=>this.expandSegment(t,e,n,l.concat(s.slice(a)),i,!1))}matchSegmentAgainstRoute(t,e,n,l){if("**"===n.path)return n.loadChildren?Ki.call(this.configLoader.load(t.injector,n),t=>(n._loadedConfig=t,new Uu(l,{}))):Lt(new Uu(l,{}));const{matched:s,consumedSegments:i,lastChild:r}=pc(e,n,l);if(!s)return uc(e);const o=l.slice(r),a=this.getChildConfig(t,n);return Va.call(a,t=>{const n=t.module,l=t.routes,{segmentGroup:s,slicedSegments:r}=function(t,e,n,l){return n.length>0&&function(t,e,n){return l.some(n=>gc(t,e,n)&&fc(n)!==Su)}(t,n)?{segmentGroup:mc(new Uu(e,function(t,e){const n={};n[Su]=e;for(const l of t)""===l.path&&fc(l)!==Su&&(n[fc(l)]=new Uu([],{}));return n}(l,new Uu(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return l.some(n=>gc(t,e,n))}(t,n)?{segmentGroup:mc(new Uu(t.segments,function(t,e,n,l){const s={};for(const i of n)gc(t,e,i)&&!l[fc(i)]&&(s[fc(i)]=new Uu([],{}));return Object.assign({},l,s)}(t,n,l,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,i,o,l);if(0===r.length&&s.hasChildren()){const t=this.expandChildren(n,l,s);return Ki.call(t,t=>new Uu(i,t))}if(0===l.length&&0===r.length)return Lt(new Uu(i,{}));const a=this.expandSegment(n,s,l,r,Su,!0);return Ki.call(a,t=>new Uu(i.concat(t.segments),t.children))})}getChildConfig(t,e){return e.children?Lt(new Au(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Lt(e._loadedConfig):Va.call(function(t,e){const n=e.canLoad;return n&&0!==n.length?Fu(Ki.call(Ms(n),n=>{const l=t.get(n);return Lu(l.canLoad?l.canLoad(e):l(e))})):Lt(!0)}(t.injector,e),n=>n?Ki.call(this.configLoader.load(t.injector,e),t=>(e._loadedConfig=t,t)):function(t){return new ae.a(e=>e.error(function(t){const e=Error("NavigationCancelingError: "+t);return e[Tu]=!0,e}(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e)):Lt(new Au([],t))}lineralizeSegments(t,e){let n=[],l=e.root;for(;;){if(n=n.concat(l.segments),0===l.numberOfChildren)return Lt(n);if(l.numberOfChildren>1||!l.children[Su])return hc(t.redirectTo);l=l.children[Su]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,l){const s=this.createSegmentGroup(t,e.root,n,l);return new Hu(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return ju(t,(t,l)=>{if("string"==typeof t&&t.startsWith(":")){const s=t.substring(1);n[l]=e[s]}else n[l]=t}),n}createSegmentGroup(t,e,n,l){const s=this.createSegments(t,e.segments,n,l);let i={};return ju(e.children,(e,s)=>{i[s]=this.createSegmentGroup(t,e,n,l)}),new Uu(s,i)}createSegments(t,e,n,l){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,l):this.findOrReturn(e,n))}findPosParam(t,e,n){const l=n[e.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return l}findOrReturn(t,e){let n=0;for(const l of e){if(l.path===t.path)return e.splice(n),l;n++}return t}}function pc(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const l=(e.matcher||Ou)(n,t,e);return l?{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,positionalParamSegments:l.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function mc(t){if(1===t.numberOfChildren&&t.children[Su]){const e=t.children[Su];return new Uu(t.segments.concat(e.segments),e.children)}return t}function gc(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function fc(t){return t.outlet||Su}class _c{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=yc(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=yc(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=bc(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return bc(t,this._root).map(t=>t.value)}}function yc(t,e){if(t===e.value)return e;for(const n of e.children){const e=yc(t,n);if(e)return e}return null}function bc(t,e){if(t===e.value)return[e];for(const n of e.children){const l=bc(t,n);if(l.length)return l.unshift(e),l}return[]}class wc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function vc(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class xc extends _c{constructor(t,e){super(t),this.snapshot=e,Oc(this,t)}toString(){return this.snapshot.toString()}}function Cc(t,e){const n=function(t,e){const n=new kc([],{},{},"",{},Su,e,null,t.root,-1,{});return new Tc("",new wc(n,[]))}(t,e),l=new Pa([new Bu("",{})]),s=new Pa({}),i=new Pa({}),r=new Pa({}),o=new Pa(""),a=new Sc(l,s,r,o,i,Su,e,n.root);return a.snapshot=n.root,new xc(new wc(a,[]),n)}class Sc{constructor(t,e,n,l,s,i,r,o){this.url=t,this.params=e,this.queryParams=n,this.fragment=l,this.data=s,this.outlet=i,this.component=r,this._futureSnapshot=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ki.call(this.params,t=>ku(t))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ki.call(this.queryParams,t=>ku(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ec(t,e="emptyOnly"){const n=t.pathFromRoot;let l=0;if("always"!==e)for(l=n.length-1;l>=1;){const t=n[l],e=n[l-1];if(t.routeConfig&&""===t.routeConfig.path)l--;else{if(e.component)break;l--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(l))}class kc{constructor(t,e,n,l,s,i,r,o,a,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=l,this.data=s,this.outlet=i,this.component=r,this.routeConfig=o,this._urlSegment=a,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ku(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ku(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Tc extends _c{constructor(t,e){super(e),this.url=t,Oc(this,e)}toString(){return Ac(this._root)}}function Oc(t,e){e.value._routerState=t,e.children.forEach(e=>Oc(t,e))}function Ac(t){const e=t.children.length>0?` { ${t.children.map(Ac).join(", ")} } `:"";return`${t.value}${e}`}function Ic(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Nu(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Nu(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Nu(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Nu(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Mc(t,e){return Nu(t.params,e.params)&&function(t,e){return $u(t,e)&&t.every((t,n)=>Nu(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Mc(t.parent,e.parent))}function Rc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Pc(t,e,n,l,s){let i={};return l&&ju(l,(t,e)=>{i[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Hu(n.root===t?e:function t(e,n,l){const s={};return ju(e.children,(e,i)=>{s[i]=e===n?l:t(e,n,l)}),new Uu(e.segments,s)}(n.root,t,e),i,s)}class Nc{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Rc(n[0]))throw new Error("Root segment cannot have matrix parameters");const l=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(l&&l!==Vu(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dc{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Vc(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Su]:`${t}`}function jc(t,e,n){if(t||(t=new Uu([],{})),0===t.segments.length&&t.hasChildren())return Fc(t,e,n);const l=function(t,e,n){let l=0,s=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;s<t.segments.length;){if(l>=n.length)return i;const e=t.segments[s],r=Vc(n[l]),o=l<n.length-1?n[l+1]:null;if(s>0&&void 0===r)break;if(r&&o&&"object"==typeof o&&void 0===o.outlets){if(!Uc(r,o,e))return i;l+=2}else{if(!Uc(r,{},e))return i;l++}s++}return{match:!0,pathIndex:s,commandIndex:l}}(t,e,n),s=n.slice(l.commandIndex);if(l.match&&l.pathIndex<t.segments.length){const e=new Uu(t.segments.slice(0,l.pathIndex),{});return e.children[Su]=new Uu(t.segments.slice(l.pathIndex),t.children),Fc(e,0,s)}return l.match&&0===s.length?new Uu(t.segments,{}):l.match&&!t.hasChildren()?Lc(t,e,n):l.match?Fc(t,0,s):Lc(t,e,n)}function Fc(t,e,n){if(0===n.length)return new Uu(t.segments,{});{const l=function(t){return"object"!=typeof t[0]?{[Su]:t}:void 0===t[0].outlets?{[Su]:t}:t[0].outlets}(n),s={};return ju(l,(n,l)=>{null!==n&&(s[l]=jc(t.children[l],e,n))}),ju(t.children,(t,e)=>{void 0===l[e]&&(s[e]=t)}),new Uu(t.segments,s)}}function Lc(t,e,n){const l=t.segments.slice(0,e);let s=0;for(;s<n.length;){if("object"==typeof n[s]&&void 0!==n[s].outlets){const t=zc(n[s].outlets);return new Uu(l,t)}if(0===s&&Rc(n[0])){l.push(new Bu(t.segments[e].path,n[0])),s++;continue}const i=Vc(n[s]),r=s<n.length-1?n[s+1]:null;i&&r&&Rc(r)?(l.push(new Bu(i,Hc(r))),s+=2):(l.push(new Bu(i,{})),s++)}return new Uu(l,{})}function zc(t){const e={};return ju(t,(t,n)=>{null!==t&&(e[n]=Lc(new Uu([],{}),0,t))}),e}function Hc(t){const e={};return ju(t,(t,n)=>e[n]=`${t}`),e}function Uc(t,e,n){return t==n.path&&Nu(e,n.parameters)}class Bc{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class $c{constructor(t,e){this.component=t,this.route=e}}class Wc{constructor(t,e,n,l){this.future=t,this.curr=e,this.moduleInjector=n,this.forwardEvent=l,this.canActivateChecks=[],this.canDeactivateChecks=[]}initialize(t){const e=this.future._root;this.setupChildRouteGuards(e,this.curr?this.curr._root:null,t,[e.value])}checkGuards(){if(!this.isDeactivating()&&!this.isActivating())return Lt(!0);const t=this.runCanDeactivateChecks();return Va.call(t,t=>t?this.runCanActivateChecks():Lt(!1))}resolveData(t){if(!this.isActivating())return Lt(null);const e=Ms(this.canActivateChecks),n=Da.call(e,e=>this.runResolve(e.route,t));return(function(t,e){return arguments.length>=2?ou(t,e)(this):ou(t)(this)}).call(n,(t,e)=>t)}isDeactivating(){return 0!==this.canDeactivateChecks.length}isActivating(){return 0!==this.canActivateChecks.length}setupChildRouteGuards(t,e,n,l){const s=vc(e);t.children.forEach(t=>{this.setupRouteGuards(t,s[t.value.outlet],n,l.concat([t.value])),delete s[t.value.outlet]}),ju(s,(t,e)=>this.deactivateRouteAndItsChildren(t,n.getContext(e)))}setupRouteGuards(t,e,n,l){const s=t.value,i=e?e.value:null,r=n?n.getContext(t.value.outlet):null;if(i&&s.routeConfig===i.routeConfig){const o=this.shouldRunGuardsAndResolvers(i,s,s.routeConfig.runGuardsAndResolvers);o?this.canActivateChecks.push(new Bc(l)):(s.data=i.data,s._resolvedData=i._resolvedData),this.setupChildRouteGuards(t,e,s.component?r?r.children:null:n,l),o&&this.canDeactivateChecks.push(new $c(r.outlet.component,i))}else i&&this.deactivateRouteAndItsChildren(e,r),this.canActivateChecks.push(new Bc(l)),this.setupChildRouteGuards(t,null,s.component?r?r.children:null:n,l)}shouldRunGuardsAndResolvers(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!Mc(t,e)||!Nu(t.queryParams,e.queryParams);case"paramsChange":default:return!Mc(t,e)}}deactivateRouteAndItsChildren(t,e){const n=vc(t),l=t.value;ju(n,(t,n)=>{this.deactivateRouteAndItsChildren(t,l.component?e?e.children.getContext(n):null:e)}),this.canDeactivateChecks.push(new $c(l.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,l))}runCanDeactivateChecks(){const t=Ms(this.canDeactivateChecks),e=Va.call(t,t=>this.runCanDeactivate(t.component,t.route));return qa.call(e,t=>!0===t)}runCanActivateChecks(){const t=Ms(this.canActivateChecks),e=Da.call(t,t=>Fu(Ms([this.fireChildActivationStart(t.route.parent),this.fireActivationStart(t.route),this.runCanActivateChild(t.path),this.runCanActivate(t.route)])));return qa.call(e,t=>!0===t)}fireActivationStart(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new xu(t)),Lt(!0)}fireChildActivationStart(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new wu(t)),Lt(!0)}runCanActivate(t){const e=t.routeConfig?t.routeConfig.canActivate:null;return e&&0!==e.length?Fu(Ki.call(Ms(e),e=>{const n=this.getToken(e,t);let l;return l=Lu(n.canActivate?n.canActivate(t,this.future):n(t,this.future)),$a.call(l)})):Lt(!0)}runCanActivateChild(t){const e=t[t.length-1],n=t.slice(0,t.length-1).reverse().map(t=>this.extractCanActivateChild(t)).filter(t=>null!==t);return Fu(Ki.call(Ms(n),t=>Fu(Ki.call(Ms(t.guards),n=>{const l=this.getToken(n,t.node);let s;return s=Lu(l.canActivateChild?l.canActivateChild(e,this.future):l(e,this.future)),$a.call(s)}))))}extractCanActivateChild(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}runCanDeactivate(t,e){const n=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!n||0===n.length)return Lt(!0);const l=Va.call(Ms(n),n=>{const l=this.getToken(n,e);let s;return s=Lu(l.canDeactivate?l.canDeactivate(t,e,this.curr,this.future):l(t,e,this.curr,this.future)),$a.call(s)});return qa.call(l,t=>!0===t)}runResolve(t,e){return Ki.call(this.resolveNode(t._resolve,t),n=>(t._resolvedData=n,t.data=Object.assign({},t.data,Ec(t,e).resolve),null))}resolveNode(t,e){const n=Object.keys(t);if(0===n.length)return Lt({});if(1===n.length){const l=n[0];return Ki.call(this.getResolver(t[l],e),t=>({[l]:t}))}const l={},s=Va.call(Ms(n),n=>Ki.call(this.getResolver(t[n],e),t=>(l[n]=t,t)));return Ki.call(Ja.call(s),()=>l)}getResolver(t,e){const n=this.getToken(t,e);return Lu(n.resolve?n.resolve(e,this.future):n(e,this.future))}getToken(t,e){const n=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(n?n.module.injector:this.moduleInjector).get(t)}}class Gc{}class qc{constructor(t,e,n,l,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=l,this.paramsInheritanceStrategy=s}recognize(){try{const t=Jc(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,Su),n=new kc([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},Su,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new wc(n,e),s=new Tc(this.url,l);return this.inheritParamsAndData(s._root),Lt(s)}catch(t){return new ae.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Ec(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Wu(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};n.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),l=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${l}'.`)}e[t.value.outlet]=t.value})}(),n.sort((t,e)=>t.value.outlet===Su?-1:e.value.outlet===Su?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,l){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,l)}catch(t){if(!(t instanceof Gc))throw t}if(this.noLeftoversInUrl(e,n,l))return[];throw new Gc}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,l){if(t.redirectTo)throw new Gc;if((t.outlet||Su)!==l)throw new Gc;let s,i=[],r=[];if("**"===t.path){const i=n.length>0?Vu(n).parameters:{};s=new kc(n,i,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,Xc(t),l,t.component,t,Qc(e),Kc(e)+n.length,th(t))}else{const o=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Gc;return{consumedSegments:[],lastChild:0,parameters:{}}}const l=(e.matcher||Ou)(n,t,e);if(!l)throw new Gc;const s={};ju(l.posParams,(t,e)=>{s[e]=t.path});const i=l.consumed.length>0?Object.assign({},s,l.consumed[l.consumed.length-1].parameters):s;return{consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:i}}(e,t,n);i=o.consumedSegments,r=n.slice(o.lastChild),s=new kc(i,o.parameters,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,Xc(t),l,t.component,t,Qc(e),Kc(e)+i.length,th(t))}const o=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:a,slicedSegments:u}=Jc(e,i,r,o);if(0===u.length&&a.hasChildren()){const t=this.processChildren(o,a);return[new wc(s,t)]}if(0===o.length&&0===u.length)return[new wc(s,[])];const c=this.processSegment(o,a,u,Su);return[new wc(s,c)]}}function Qc(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Kc(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Jc(t,e,n,l){if(n.length>0&&function(t,e,n){return l.some(n=>Zc(t,e,n)&&Yc(n)!==Su)}(t,n)){const s=new Uu(e,function(t,e,n,l){const s={};s[Su]=l,l._sourceSegment=t,l._segmentIndexShift=e.length;for(const i of n)if(""===i.path&&Yc(i)!==Su){const n=new Uu([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,s[Yc(i)]=n}return s}(t,e,l,new Uu(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return l.some(n=>Zc(t,e,n))}(t,n)){const s=new Uu(t.segments,function(t,e,n,l){const s={};for(const i of n)if(Zc(t,e,i)&&!l[Yc(i)]){const e=new Uu([],{});e._sourceSegment=t,e._segmentIndexShift=t.segments.length,s[Yc(i)]=e}return Object.assign({},l,s)}(t,n,l,t.children));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Uu(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Zc(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Yc(t){return t.outlet||Su}function Xc(t){return t.data||{}}function th(t){return t.resolve||{}}class eh{}class nh{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const lh=new l.o("ROUTES");class sh{constructor(t,e,n,l){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=l}load(t,e){this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren);return Ki.call(n,n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const l=n.create(t);return new Au(Du(l.injector.get(lh)).map(Pu),l)})}loadModuleFactory(t){return"string"==typeof t?Qi(this.loader.load(t)):Va.call(Lu(t()),t=>t instanceof l.t?Lt(t):Qi(this.compiler.compileModuleAsync(t)))}}class ih{}class rh{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function oh(t){throw t}function ah(t){return Lt(null)}class uh{constructor(t,e,n,s,i,r,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=s,this.config=a,this.navigations=new Pa(null),this.navigationId=0,this.events=new St.a,this.errorHandler=oh,this.navigated=!1,this.hooks={beforePreactivation:ah,afterPreactivation:ah},this.urlHandlingStrategy=new rh,this.routeReuseStrategy=new nh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.ngModule=i.get(l.v),this.resetConfig(a),this.currentUrlTree=new Hu(new Uu([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new sh(r,o,t=>this.triggerEvent(new yu(t)),t=>this.triggerEvent(new bu(t))),this.routerState=Cc(this.currentUrlTree,this.rootComponentType),this.processNavigations()}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.urlSerializer.parse(t.url),n="popstate"===t.type?"popstate":"hashchange";setTimeout(()=>{this.scheduleNavigation(e,n,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}triggerEvent(t){this.events.next(t)}resetConfig(t){Iu(t),this.config=t.map(Pu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:s,fragment:i,preserveQueryParams:r,queryParamsHandling:o,preserveFragment:a}=e;Object(l.T)()&&r&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i;let h=null;if(o)switch(o){case"merge":h=Object.assign({},this.currentUrlTree.queryParams,s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}else h=r?this.currentUrlTree.queryParams:s||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,l,s){if(0===n.length)return Pc(e.root,e.root,e,l,s);const i=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Nc(!0,0,t);let e=0,n=!1;const l=t.reduce((t,l,s)=>{if("object"==typeof l&&null!=l){if(l.outlets){const e={};return ju(l.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(l.segmentPath)return[...t,l.segmentPath]}return"string"!=typeof l?[...t,l]:0===s?(l.split("/").forEach((l,s)=>{0==s&&"."===l||(0==s&&""===l?n=!0:".."===l?e++:""!=l&&t.push(l))}),t):[...t,l]},[]);return new Nc(n,e,l)}(n);if(i.toRoot())return Pc(e.root,new Uu([],{}),e,l,s);const r=function(t,n,l){if(t.isAbsolute)return new Dc(e.root,!0,0);if(-1===l.snapshot._lastPathIndex)return new Dc(l.snapshot._urlSegment,!0,0);const s=Rc(t.commands[0])?0:1;return function(e,n,i){let r=l.snapshot._urlSegment,o=l.snapshot._lastPathIndex+s,a=t.numberOfDoubleDots;for(;a>o;){if(a-=o,!(r=r.parent))throw new Error("Invalid number of '../'");o=r.segments.length}return new Dc(r,!1,o-a)}()}(i,0,t),o=r.processChildren?Fc(r.segmentGroup,r.index,i.commands):jc(r.segmentGroup,r.index,i.commands);return Pc(r.segmentGroup,o,e,l,s)}(u,this.currentUrlTree,t,h,c)}navigateByUrl(t,e={skipLocationChange:!1}){const n=t instanceof Hu?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){return this.urlSerializer.parse(t)}isActive(t,e){if(t instanceof Hu)return zu(this.currentUrlTree,t,e);const n=this.urlSerializer.parse(t);return zu(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const l=t[n];return null!==l&&void 0!==l&&(e[n]=l),e},{})}processNavigations(){Da.call(this.navigations,t=>t?(this.executeScheduledNavigation(t),t.promise.catch(()=>{})):Lt(null)).subscribe(()=>{})}scheduleNavigation(t,e,n){const l=this.navigations.value;if(l&&"imperative"!==e&&"imperative"===l.source&&l.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(l&&"hashchange"==e&&"popstate"===l.source&&l.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(l&&"popstate"==e&&"hashchange"===l.source&&l.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s=null,i=null;const r=new Promise((t,e)=>{s=t,i=e}),o=++this.navigationId;return this.navigations.next({id:o,source:e,rawUrl:t,extras:n,resolve:s,reject:i,promise:r}),r.catch(t=>Promise.reject(t))}executeScheduledNavigation({id:t,rawUrl:e,extras:n,resolve:l,reject:s}){const i=this.urlHandlingStrategy.extract(e),r=!this.navigated||i.toString()!==this.currentUrlTree.toString();("reload"===this.onSameUrlNavigation||r)&&this.urlHandlingStrategy.shouldProcessUrl(e)?(this.events.next(new uu(t,this.serializeUrl(i))),Promise.resolve().then(l=>this.runNavigate(i,e,!!n.skipLocationChange,!!n.replaceUrl,t,null)).then(l,s)):r&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.events.next(new uu(t,this.serializeUrl(i))),Promise.resolve().then(n=>this.runNavigate(i,e,!1,!1,t,Cc(i,this.rootComponentType).snapshot)).then(l,s)):(this.rawUrlTree=e,l(null))}runNavigate(t,e,n,l,s,i){return s!==this.navigationId?(this.events.next(new hu(s,this.serializeUrl(t),`Navigation ID ${s} is not equal to the current navigation id ${this.navigationId}`)),Promise.resolve(!1)):new Promise((r,o)=>{let a;if(i)a=Lt({appliedUrl:t,snapshot:i});else{const e=function(e,n,l,s,i){return new dc(e,n,l,t,i).apply()}(this.ngModule.injector,this.configLoader,this.urlSerializer,0,this.config);a=Va.call(e,e=>Ki.call(function(t,e,n,l,s="emptyOnly"){return new qc(t,e,n,l,s).recognize()}(this.rootComponentType,this.config,e,this.serializeUrl(e),this.paramsInheritanceStrategy),n=>(this.events.next(new pu(s,this.serializeUrl(t),this.serializeUrl(e),n)),{appliedUrl:e,snapshot:n})))}const u=Va.call(a,t=>Ki.call(this.hooks.beforePreactivation(t.snapshot),()=>t));let c;const h=Ki.call(u,({appliedUrl:t,snapshot:e})=>((c=new Wc(e,this.routerState.snapshot,this.ngModule.injector,t=>this.triggerEvent(t))).initialize(this.rootContexts),{appliedUrl:t,snapshot:e})),d=Va.call(h,({appliedUrl:e,snapshot:n})=>this.navigationId!==s?Lt(!1):(this.triggerEvent(new mu(s,this.serializeUrl(t),e,n)),Ki.call(c.checkGuards(),l=>(this.triggerEvent(new gu(s,this.serializeUrl(t),e,n,l)),{appliedUrl:e,snapshot:n,shouldActivate:l})))),p=Va.call(d,e=>this.navigationId!==s?Lt(!1):e.shouldActivate&&c.isActivating()?(this.triggerEvent(new fu(s,this.serializeUrl(t),e.appliedUrl,e.snapshot)),Ki.call(c.resolveData(this.paramsInheritanceStrategy),()=>(this.triggerEvent(new _u(s,this.serializeUrl(t),e.appliedUrl,e.snapshot)),e))):Lt(e)),m=Va.call(p,t=>Ki.call(this.hooks.afterPreactivation(t.snapshot),()=>t)),g=Ki.call(m,({appliedUrl:t,snapshot:e,shouldActivate:n})=>n?{appliedUrl:t,state:function(t,e,n){const l=function t(e,n,l){if(l&&e.shouldReuseRoute(n.value,l.value.snapshot)){const s=l.value;s._futureSnapshot=n.value;const i=function(e,n,l){return n.children.map(n=>{for(const s of l.children)if(e.shouldReuseRoute(s.value.snapshot,n.value))return t(e,n,s);return t(e,n)})}(e,n,l);return new wc(s,i)}if(e.retrieve(n.value)){const t=e.retrieve(n.value).route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let l=0;l<e.children.length;++l)t(e.children[l],n.children[l])}(n,t),t}{const l=function(t){return new Sc(new Pa(t.url),new Pa(t.params),new Pa(t.queryParams),new Pa(t.fragment),new Pa(t.data),t.outlet,t.component,t)}(n.value),s=n.children.map(n=>t(e,n));return new wc(l,s)}}(t,e._root,n?n._root:void 0);return new xc(l,e)}(this.routeReuseStrategy,e,this.routerState),shouldActivate:n}:{appliedUrl:t,state:null,shouldActivate:n});this.activateRoutes(g,this.routerState,this.currentUrlTree,s,t,e,n,l,r,o)})}activateRoutes(t,e,n,l,s,i,r,o,a,u){let c;t.forEach(({appliedUrl:t,state:n,shouldActivate:s})=>{if(s&&l===this.navigationId){if(this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i),this.routerState=n,!r){const t=this.urlSerializer.serialize(this.rawUrlTree);this.location.isCurrentPathEqualTo(t)||o?this.location.replaceState(t):this.location.go(t)}new ch(this.routeReuseStrategy,n,e,t=>this.triggerEvent(t)).activate(this.rootContexts),c=!0}else c=!1}).then(()=>{c?(this.navigated=!0,this.events.next(new cu(l,this.serializeUrl(s),this.serializeUrl(this.currentUrlTree))),a(!0)):(this.resetUrlToCurrentUrlTree(),this.events.next(new hu(l,this.serializeUrl(s),"")),a(!1))},t=>{if(t&&t[Tu])this.navigated=!0,this.resetStateAndUrl(e,n,i),this.events.next(new hu(l,this.serializeUrl(s),t.message)),a(!1);else{this.resetStateAndUrl(e,n,i),this.events.next(new du(l,this.serializeUrl(s),t));try{a(this.errorHandler(t))}catch(t){u(t)}}})}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree))}}class ch{constructor(t,e,n,l){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=l}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ic(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const l=vc(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,l[e],n),delete l[e]}),ju(l,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const l=t.value,s=e?e.value:null;if(l===s)if(l.component){const s=n.getContext(l.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,n);else s&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),l=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:l})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const l=vc(t),s=t.value.component?n.children:e;ju(l,(t,e)=>this.deactivateRouteAndItsChildren(t,s)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const l=vc(e);t.children.forEach(t=>{this.activateRoutes(t,l[t.value.outlet],n),this.forwardEvent(new Cu(t.value.snapshot))}),t.children.length&&this.forwardEvent(new vu(t.value.snapshot))}activateRoutes(t,e,n){const l=t.value,s=e?e.value:null;if(Ic(l),l===s)if(l.component){const s=n.getOrCreateContext(l.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,n);else if(l.component){const e=n.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const t=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),hh(t.route)}else{const n=function(t){for(let e=l.snapshot.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(),s=n?n.module.componentFactoryResolver:null;e.route=l,e.resolver=s,e.outlet&&e.outlet.activateWith(l,s),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function hh(t){Ic(t.value),t.children.forEach(hh)}class dh{constructor(t,e,n,l,s){this.router=t,this.route=e,this.commands=[],null==n&&l.setAttribute(s.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(l.T)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:ph(this.skipLocationChange),replaceUrl:ph(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ph(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ph(this.preserveFragment)})}}function ph(t){return""===t||!!t}class mh{constructor(t,e,n,l){this.router=t,this.element=e,this.renderer=n,this.cdr=l,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof cu&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))}}class gh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new fh,this.attachRef=null}}class fh{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new gh,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class _h{constructor(t,e,n,s,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.m,this.deactivateEvents=new l.m,this.name=s||Su,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),l=this.parentContexts.getOrCreateContext(this.name).children,s=new yh(t,l,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class yh{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Sc?this.route:t===fh?this.childContexts:this.parent.get(t,e)}}class bh{}class wh{preload(t,e){return La.call(e(),()=>Lt(null))}}class vh{preload(t,e){return Lt(null)}}class xh{constructor(t,e,n,l,s){this.router=t,this.injector=l,this.preloadingStrategy=s,this.loader=new sh(e,n,e=>t.triggerEvent(new yu(e)),e=>t.triggerEvent(new bu(e)))}setUpPreloading(){const t=(function(t,e){return Rt(t,e)(this)}).call(this.router.events,t=>t instanceof cu);this.subscription=Da.call(t,()=>this.preload()).subscribe(()=>{})}preload(){const t=this.injector.get(l.v);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const l of e)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const t=l._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else l.loadChildren&&!l.canLoad?n.push(this.preloadConfig(t,l)):l.children&&n.push(this.processRoutes(t,l.children));return Za.call(Ms(n))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>{const n=this.loader.load(t.injector,e);return Va.call(n,t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))})}}const Ch=new l.o("ROUTER_CONFIGURATION"),Sh=new l.o("ROUTER_FORROOT_GUARD"),Eh=[C,{provide:Gu,useClass:qu},{provide:uh,useFactory:Mh,deps:[l.g,Gu,fh,C,l.p,l.u,l.i,lh,Ch,[ih,new l.y],[eh,new l.y]]},fh,{provide:Sc,useFactory:Rh,deps:[uh]},{provide:l.u,useClass:l.H},xh,vh,wh,{provide:Ch,useValue:{enableTracing:!1}}];function kh(){return new l.w("Router",uh)}class Th{constructor(t,e){}static forRoot(t,e){return{ngModule:Th,providers:[Eh,Ih(t),{provide:Sh,useFactory:Ah,deps:[[uh,new l.y,new l.G]]},{provide:Ch,useValue:e||{}},{provide:v,useFactory:Oh,deps:[b,[new l.n(x),new l.y],Ch]},{provide:bh,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:vh},{provide:l.w,multi:!0,useFactory:kh},[Ph,{provide:l.d,multi:!0,useFactory:Nh,deps:[Ph]},{provide:Vh,useFactory:Dh,deps:[Ph]},{provide:l.b,multi:!0,useExisting:Vh}]]}}static forChild(t){return{ngModule:Th,providers:[Ih(t)]}}}function Oh(t,e,n={}){return n.useHash?new E(t,e):new k(t,e)}function Ah(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ih(t){return[{provide:l.a,multi:!0,useValue:t},{provide:lh,multi:!0,useValue:t}]}function Mh(t,e,n,l,s,i,r,o,a={},u,c){const h=new uh(null,e,n,l,s,i,r,Du(o));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),a.errorHandler&&(h.errorHandler=a.errorHandler),a.enableTracing){const t=fn();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(h.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=a.paramsInheritanceStrategy),h}function Rh(t){return t.routerState.root}class Ph{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new St.a}appInitializer(){return this.injector.get(w,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(uh),l=this.injector.get(Ch);if(this.isLegacyDisabled(l)||this.isLegacyEnabled(l))t(!0);else if("disabled"===l.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==l.initialNavigation)throw new Error(`Invalid initialNavigation options: '${l.initialNavigation}'`);n.hooks.afterPreactivation=(()=>this.initNavigation?Lt(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone)),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Ch),n=this.injector.get(xh),s=this.injector.get(uh),i=this.injector.get(l.g);t===i.components[0]&&(this.isLegacyEnabled(e)?s.initialNavigation():this.isLegacyDisabled(e)&&s.setUpLocationChangeListener(),n.setUpPreloading(),s.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function Nh(t){return t.appInitializer.bind(t)}function Dh(t){return t.bootstrapListener.bind(t)}const Vh=new l.o("Router Initializer");new l.L("5.2.9");var jh=l._1({encapsulation:0,styles:[["#nav-bar-panel[_ngcontent-%COMP%]{background-color:#ccc;padding:0;margin:0}.button-logo[_ngcontent-%COMP%]{vertical-align:middle;height:26px;margin:0 4px 3px 0}.flex-spacer[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}"]],data:{}});function Fh(t){return l._26(0,[(t()(),l._3(0,0,null,null,6,"button",[["mat-button",""],["routerLinkActive",""]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==l._15(t,2).onClick()&&s),s},Ti,ki)),l._2(1,180224,null,0,Ci,[l.k,g,ie],null,null),l._2(2,16384,[[2,4]],0,dh,[uh,Sc,[8,null],l.B,l.k],{routerLink:[0,"routerLink"]},null),l._2(3,1720320,[["rla",4]],2,mh,[uh,l.k,l.B,l.h],{routerLinkActive:[0,"routerLinkActive"]},null),l._22(603979776,2,{links:1}),l._22(603979776,3,{linksWithHrefs:1}),(t()(),l._24(6,0,["\n    ","\n    "]))],function(t,e){t(e,2,0,e.context.$implicit.route),t(e,3,0,"")},function(t,e){t(e,0,0,l._15(e,1).disabled||null),t(e,6,0,e.context.$implicit.label)})}function Lh(t){return l._26(0,[(t()(),l._3(0,0,null,null,26,"mat-toolbar",[["class","mat-elevation-z6 mat-toolbar"],["color","primary"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,Di,Ni)),l._2(1,4243456,null,1,Ri,[l.k,g,Ct],{color:[0,"color"]},null),l._22(603979776,1,{_toolbarRows:1}),(t()(),l._24(-1,0,["\n  "])),(t()(),l._3(4,0,null,1,21,"mat-toolbar-row",[["class","mat-toolbar-row"]],null,null,null,null,null)),l._2(5,16384,[[1,4]],0,Mi,[],null,null),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(7,0,null,null,3,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(9,0,null,null,0,"img",[["class","button-logo"],["src","./assets/learning-agents-logo.png"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n    "])),(t()(),l._24(-1,null,["\n    "])),(t()(),l.Y(16777216,null,null,1,null,Fh)),l._2(13,802816,null,0,L,[l.M,l.J,l.q],{ngForOf:[0,"ngForOf"]},null),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(15,0,null,null,0,"div",[["class","flex-spacer"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n    "])),(t()(),l._3(17,0,null,null,7,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n      "])),(t()(),l._3(19,0,null,null,4,"a",[["href","https://github.com/mvrahden/learning-agents/"],["mat-button",""]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0]],[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==l._15(t,20)._haltDisabledEvents(n)&&s),s},Ai,Oi)),l._2(20,180224,null,0,Si,[g,ie,l.k],null,null),(t()(),l._24(-1,0,["\n        "])),(t()(),l._3(22,0,null,0,0,"img",[["class","button-logo"],["src","./assets/github-circle-white-transparent.svg"]],null,null,null,null,null)),(t()(),l._24(-1,0,["\n        GitHub"])),(t()(),l._24(-1,null,["\n    "])),(t()(),l._24(-1,null,["\n  "])),(t()(),l._24(-1,0,["\n"])),(t()(),l._24(-1,null,["\n"])),(t()(),l._3(28,0,null,null,4,"div",[["id","app-content"],["style","position: relative;"]],null,null,null,null,null)),(t()(),l._24(-1,null,["\n  "])),(t()(),l._3(30,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),l._2(31,212992,null,0,_h,[fh,l.M,l.j,[8,null],l.h],null,null),(t()(),l._24(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,1,0,"primary"),t(e,13,0,n.links),t(e,31,0)},function(t,e){t(e,0,0,l._15(e,1)._toolbarRows.length,!l._15(e,1)._toolbarRows.length),t(e,19,0,l._15(e,20).disabled?-1:0,l._15(e,20).disabled||null,l._15(e,20).disabled.toString())})}var zh=l.Z("app-root",i,function(t){return l._26(0,[(t()(),l._3(0,0,null,null,1,"app-root",[],null,null,null,Lh,jh)),l._2(1,49152,null,0,i,[],null,null)],null,null)},{},{},[]);function Hh(t){switch(t.length){case 0:return new si;case 1:return t[0];default:return new ii(t)}}function Uh(t,e,n,l,s={},i={}){const r=[],o=[];let a=-1,u=null;if(l.forEach(t=>{const n=t.offset,l=n==a,c=l&&u||{};Object.keys(t).forEach(n=>{let l=n,o=t[n];if("offset"!==n)switch(l=e.normalizePropertyName(l,r),o){case ri:o=s[n];break;case Js:o=i[n];break;default:o=e.normalizeStyleValue(n,l,o,r)}c[l]=o}),l||o.push(c),u=c,a=n}),r.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${r.join(t)}`)}return o}function Bh(t,e,n,l){switch(e){case"start":t.onStart(()=>l(n&&$h(n,"start",t.totalTime)));break;case"done":t.onDone(()=>l(n&&$h(n,"done",t.totalTime)));break;case"destroy":t.onDestroy(()=>l(n&&$h(n,"destroy",t.totalTime)))}}function $h(t,e,n){const l=Wh(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,void 0==n?t.totalTime:n),s=t._data;return null!=s&&(l._data=s),l}function Wh(t,e,n,l,s="",i=0){return{element:t,triggerName:e,fromState:n,toState:l,phaseName:s,totalTime:i}}function Gh(t,e,n){let l;return t instanceof Map?(l=t.get(e))||t.set(e,l=n):(l=t[e])||(l=t[e]=n),l}function qh(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Qh=(t,e)=>!1,Kh=(t,e)=>!1,Jh=(t,e,n)=>[];if("undefined"!=typeof Element){if(Qh=((t,e)=>t.contains(e)),Element.prototype.matches)Kh=((t,e)=>t.matches(e));else{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;e&&(Kh=((t,n)=>e.apply(t,[n])))}Jh=((t,e,n)=>{let l=[];if(n)l.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&l.push(n)}return l})}let Zh=null,Yh=!1;function Xh(){return"undefined"!=typeof document?document.body:null}const td=Kh,ed=Qh,nd=Jh;class ld{validateStyleProperty(t){return function(t){Zh||(Zh=Xh()||{},Yh=!!Zh.style&&"WebkitAppearance"in Zh.style);let e=!0;return Zh.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in Zh.style)&&Yh&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Zh.style),e}(t)}matchesElement(t,e){return td(t,e)}containsElement(t,e){return ed(t,e)}query(t,e,n){return nd(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,l,s,i=[]){return new si}}class sd{}sd.NOOP=new ld;const id=1e3,rd="{{",od="ng-enter",ad="ng-leave",ud="ng-trigger",cd=".ng-trigger",hd="ng-animating",dd=".ng-animating";function pd(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:md(parseFloat(e[1]),e[2])}function md(t,e){switch(e){case"s":return t*id;default:return t}}function gd(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let l,s=0,i="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};l=md(parseFloat(n[1]),n[2]);const r=n[3];null!=r&&(s=md(Math.floor(parseFloat(r)),n[4]));const o=n[5];o&&(i=o)}else l=t;if(!n){let n=!1,i=e.length;l<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),s<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(i,0,`The provided timing value "${t}" is invalid.`)}return{duration:l,delay:s,easing:i}}(t,e,n)}function fd(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function _d(t,e,n={}){if(e)for(let l in t)n[l]=t[l];else fd(t,n);return n}function yd(t,e){t.style&&Object.keys(e).forEach(n=>{const l=kd(n);t.style[l]=e[n]})}function bd(t,e){t.style&&Object.keys(e).forEach(e=>{const n=kd(e);t.style[n]=""})}function wd(t){return Array.isArray(t)?1==t.length?t[0]:Xs(t):t}const vd=new RegExp(`${rd}\\s*(.+?)\\s*}}`,"g");function xd(t){let e=[];if("string"==typeof t){const n=t.toString();let l;for(;l=vd.exec(n);)e.push(l[1]);vd.lastIndex=0}return e}function Cd(t,e,n){const l=t.toString(),s=l.replace(vd,(t,l)=>{let s=e[l];return e.hasOwnProperty(l)||(n.push(`Please provide a value for the animation param ${l}`),s=""),s.toString()});return s==l?t:s}function Sd(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Ed=/-+([a-z0-9])/g;function kd(t){return t.replace(Ed,(...t)=>t[1].toUpperCase())}function Td(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}const Od="*",Ad=new Set(["true","1"]),Id=new Set(["false","0"]);function Md(t,e){const n=Ad.has(t)||Id.has(t),l=Ad.has(e)||Id.has(e);return(s,i)=>{let r=t==Od||t==s,o=e==Od||e==i;return!r&&n&&"boolean"==typeof s&&(r=s?Ad.has(t):Id.has(t)),!o&&l&&"boolean"==typeof i&&(o=i?Ad.has(e):Id.has(e)),r&&o}}const Rd=":self",Pd=new RegExp(`s*${Rd}s*,?`,"g");function Nd(t,e,n){return new Vd(t).build(e,n)}const Dd="";class Vd{constructor(t){this._driver=t}build(t,e){const n=new jd(e);return this._resetContextStyleTimingState(n),Td(this,wd(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=Dd,t.collectedStyles={},t.collectedStyles[Dd]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,l=e.depCount=0;const s=[],i=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,l=n.name;l.split(/\s*,\s*/).forEach(t=>{n.name=t,s.push(this.visitState(n,e))}),n.name=l}else if(1==t.type){const s=this.visitTransition(t,e);n+=s.queryCount,l+=s.depCount,i.push(s)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:s,transitions:i,queryCount:n,depCount:l,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),l=t.options&&t.options.params||null;if(n.containsDynamicStyles){const s=new Set,i=l||{};if(n.styles.forEach(t=>{if(Fd(t)){const e=t;Object.keys(e).forEach(t=>{xd(e[t]).forEach(t=>{i.hasOwnProperty(t)||s.add(t)})})}}),s.size){const n=Sd(s.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:l?{params:l}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Td(this,wd(t.animation),e);return{type:1,matchers:function(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>(function(t,e,n){if(":"==t[0]){const l=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof l)return void e.push(l);t=l}const l=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==l||l.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const s=l[1],i=l[2],r=l[3];e.push(Md(s,r)),"<"!=i[0]||s==Od&&r==Od||e.push(Md(r,s))})(t,n,e)):n.push(t),n}(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Ld(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Td(this,t,e)),options:Ld(t.options)}}visitGroup(t,e){const n=e.currentTime;let l=0;const s=t.steps.map(t=>{e.currentTime=n;const s=Td(this,t,e);return l=Math.max(l,e.currentTime),s});return e.currentTime=l,{type:3,steps:s,options:Ld(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return zd(gd(t,e).duration,0,"");const l=t;if(l.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=zd(0,0,"");return t.dynamic=!0,t.strValue=l,t}return zd((n=n||gd(l,e)).duration,n.delay,n.easing)}(t.timings,e.errors);let l;e.currentAnimateTimings=n;let s=t.styles?t.styles:ti({});if(5==s.type)l=this.visitKeyframes(s,e);else{let s=t.styles,i=!1;if(!s){i=!0;const t={};n.easing&&(t.easing=n.easing),s=ti(t)}e.currentTime+=n.duration+n.delay;const r=this.visitStyle(s,e);r.isEmptyStep=i,l=r}return e.currentAnimateTimings=null,{type:4,timings:n,style:l,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Js?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let l=!1,s=null;return n.forEach(t=>{if(Fd(t)){const e=t,n=e.easing;if(n&&(s=n,delete e.easing),!l)for(let t in e)if(e[t].toString().indexOf(rd)>=0){l=!0;break}}}),{type:6,styles:n,easing:s,offset:t.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let l=e.currentTime,s=e.currentTime;n&&s>0&&(s-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const i=e.collectedStyles[e.currentQuerySelector],r=i[n];let o=!0;r&&(s!=l&&s>=r.startTime&&l<=r.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${r.startTime}ms" and "${r.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${l}ms"`),o=!1),s=r.startTime),o&&(i[n]={startTime:s,endTime:l}),e.options&&function(l,s,i){const r=e.options.params||{},o=xd(t[n]);o.length&&o.forEach(t=>{r.hasOwnProperty(t)||i.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(0,0,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let l=0;const s=[];let i=!1,r=!1,o=0;const a=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let a=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Fd(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Fd(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=a&&(l++,u=n.offset=a),r=r||u<0||u>1,i=i||u<o,o=u,s.push(u),n});r&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),i&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let c=0;l>0&&l<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(c=1/(u-1));const h=u-1,d=e.currentTime,p=e.currentAnimateTimings,m=p.duration;return a.forEach((t,l)=>{const i=c>0?l==h?1:c*l:s[l],r=i*m;e.currentTime=d+p.delay+r,p.duration=r,this._validateStyleAst(t,e),t.offset=i,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Td(this,wd(t.animation),e),options:Ld(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ld(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ld(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,l=t.options||{};e.queryCount++,e.currentQuery=t;const[s,i]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>t==Rd);return e&&(t=t.replace(Pd,"")),[t=t.replace(/@\*/g,cd).replace(/@\w+/g,t=>cd+"-"+t.substr(1)).replace(/:animating/g,dd),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+s:s,Gh(e.collectedStyles,e.currentQuerySelector,{});const r=Td(this,wd(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:s,limit:l.limit||0,optional:!!l.optional,includeSelf:i,animation:r,originalSelector:t.selector,options:Ld(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:gd(t.timings,e.errors,!0);return{type:12,animation:Td(this,wd(t.animation),e),timings:n,options:null}}}class jd{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Fd(t){return!Array.isArray(t)&&"object"==typeof t}function Ld(t){return t?(t=fd(t)).params&&(t.params=function(t){return t?fd(t):null}(t.params)):t={},t}function zd(t,e,n){return{duration:t,delay:e,easing:n}}function Hd(t,e,n,l,s,i,r=null,o=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:l,duration:s,delay:i,totalTime:s+i,easing:r,subTimeline:o}}class Ud{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Bd=1,$d=new RegExp(":enter","g"),Wd=new RegExp(":leave","g");function Gd(t,e,n,l,s,i={},r={},o,a,u=[]){return(new qd).buildKeyframes(t,e,n,l,s,i,r,o,a,u)}class qd{buildKeyframes(t,e,n,l,s,i,r,o,a,u=[]){a=a||new Ud;const c=new Kd(t,e,a,l,s,u,[]);c.options=o,c.currentTimeline.setStyles([i],null,c.errors,o),Td(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(r).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([r],null,c.errors,o)}return h.length?h.map(t=>t.buildKeyframes()):[Hd(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const l=e.createSubContext(t.options),s=e.currentTimeline.currentTime,i=this._visitSubInstructions(n,l,l.options);s!=i&&e.transformIntoNewTimeline(i)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let l=e.currentTimeline.currentTime;const s=null!=n.duration?pd(n.duration):null,i=null!=n.delay?pd(n.delay):null;return 0!==s&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,s,i);l=Math.max(l,n.duration+n.delay)}),l}visitReference(t,e){e.updateOptions(t.options,!0),Td(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let l=e;const s=t.options;if(s&&(s.params||s.delay)&&((l=e.createSubContext(s)).transformIntoNewTimeline(),null!=s.delay)){6==l.previousNode.type&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=Qd);const t=pd(s.delay);l.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Td(this,t,l)),l.currentTimeline.applyStylesToKeyframe(),l.subContextCount>n&&l.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let l=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?pd(t.options.delay):0;t.steps.forEach(i=>{const r=e.createSubContext(t.options);s&&r.delayNextStep(s),Td(this,i,r),l=Math.max(l,r.currentTimeline.currentTime),n.push(r.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(l),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return gd(e.params?Cd(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),l=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),l.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(n.duration),this.visitStyle(s,e),l.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,l=e.currentAnimateTimings;!l&&n.getCurrentStyleProperties().length&&n.forwardFrame();const s=l&&l.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(s):n.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,l=e.currentTimeline.duration,s=n.duration,i=e.createSubContext().currentTimeline;i.easing=n.easing,t.styles.forEach(t=>{i.forwardTime((t.offset||0)*s),i.setStyles(t.styles,t.easing,e.errors,e.options),i.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(i),e.transformIntoNewTimeline(l+s),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,l=t.options||{},s=l.delay?pd(l.delay):0;s&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Qd);let i=n;const r=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!l.optional,e.errors);e.currentQueryTotal=r.length;let o=null;r.forEach((n,l)=>{e.currentQueryIndex=l;const r=e.createSubContext(t.options,n);s&&r.delayNextStep(s),n===e.element&&(o=r.currentTimeline),Td(this,t.animation,r),r.currentTimeline.applyStylesToKeyframe(),i=Math.max(i,r.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(i),o&&(e.currentTimeline.mergeTimelineCollectedStyles(o),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,l=e.currentTimeline,s=t.timings,i=Math.abs(s.duration),r=i*(e.currentQueryTotal-1);let o=i*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":o=r-o;break;case"full":o=n.currentStaggerTime}const a=e.currentTimeline;o&&a.delayNextStep(o);const u=a.currentTime;Td(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=l.currentTime-u+(l.startTime-n.currentTimeline.startTime)}}const Qd={};class Kd{constructor(t,e,n,l,s,i,r,o){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=l,this._leaveClassName=s,this.errors=i,this.timelines=r,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=o||new Jd(this._driver,e,0),r.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let l=this.options;null!=n.duration&&(l.duration=pd(n.duration)),null!=n.delay&&(l.delay=pd(n.delay));const s=n.params;if(s){let t=l.params;t||(t=this.options.params={}),Object.keys(s).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Cd(s[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const l=e||this.element,s=new Kd(this._driver,l,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(l,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Qd,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const l={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},s=new Zd(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,l,t.stretchStartingKeyframe);return this.timelines.push(s),l}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,l,s,i){let r=[];if(l&&r.push(this.element),t.length>0){t=(t=t.replace($d,"."+this._enterClassName)).replace(Wd,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),r.push(...e)}return s||0!=r.length||i.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),r}}class Jd{constructor(t,e,n,l){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=l,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Jd(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Bd,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Js,this._currentKeyframe[t]=Js}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,l){e&&(this._previousKeyframe.easing=e);const s=l&&l.params||{},i=function(t,e){const n={};let l;return t.forEach(t=>{"*"===t?(l=l||Object.keys(e)).forEach(t=>{n[t]=Js}):_d(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(i).forEach(t=>{const e=Cd(i[t],s,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Js),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],l=t._styleSummary[e];(!n||l.time>n.time)&&this._updateStyle(e,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let l=[];this._keyframes.forEach((s,i)=>{const r=_d(s,!0);Object.keys(r).forEach(n=>{const l=r[n];l==ri?t.add(n):l==Js&&e.add(n)}),n||(r.offset=i/this.duration),l.push(r)});const s=t.size?Sd(t.values()):[],i=e.size?Sd(e.values()):[];if(n){const t=l[0],e=fd(t);t.offset=0,e.offset=1,l=[t,e]}return Hd(this.element,l,s,i,this.duration,this.startTime,this.easing,!1)}}class Zd extends Jd{constructor(t,e,n,l,s,i,r=!1){super(t,e,i.delay),this.element=e,this.keyframes=n,this.preStyleProps=l,this.postStyleProps=s,this._stretchStartingKeyframe=r,this.timings={duration:i.duration,delay:i.delay,easing:i.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:l}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],i=n+e,r=e/i,o=_d(t[0],!1);o.offset=0,s.push(o);const a=_d(t[0],!1);a.offset=Yd(r),s.push(a);const u=t.length-1;for(let l=1;l<=u;l++){let r=_d(t[l],!1);r.offset=Yd((e+r.offset*n)/i),s.push(r)}n=i,e=0,l="",t=s}return Hd(this.element,t,this.preStyleProps,this.postStyleProps,n,e,l,!0)}}function Yd(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Xd{}class tp extends Xd{normalizePropertyName(t,e){return kd(t)}normalizeStyleValue(t,e,n,l){let s="";const i=n.toString().trim();if(ep[e]&&0!==n&&"0"!==n)if("number"==typeof n)s="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&l.push(`Please provide a CSS unit value for ${t}:${n}`)}return i+s}}const ep=function(t){const e={};return"width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",").forEach(t=>e[t]=!0),e}();function np(t,e,n,l,s,i,r,o,a,u,c,h){return{type:0,element:t,triggerName:e,isRemovalTransition:s,fromState:n,fromStyles:i,toState:l,toStyles:r,timelines:o,queriedElements:a,preStyleProps:u,postStyleProps:c,errors:h}}const lp={};class sp{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e){return function(t,e,n){return t.some(t=>t(e,n))}(this.ast.matchers,t,e)}buildStyles(t,e,n){const l=this._stateStyles["*"],s=this._stateStyles[t],i=l?l.buildStyles(e,n):{};return s?s.buildStyles(e,n):i}build(t,e,n,l,s,i,r,o,a){const u=[],c=this.ast.options&&this.ast.options.params||lp,h=this.buildStyles(n,r&&r.params||lp,u),d=o&&o.params||lp,p=this.buildStyles(l,d,u),m=new Set,g=new Map,f=new Map,_="void"===l,y={params:Object.assign({},c,d)},b=Gd(t,e,this.ast.animation,s,i,h,p,y,a,u);if(u.length)return np(e,this._triggerName,n,l,_,h,p,[],[],g,f,u);b.forEach(t=>{const n=t.element,l=Gh(g,n,{});t.preStyleProps.forEach(t=>l[t]=!0);const s=Gh(f,n,{});t.postStyleProps.forEach(t=>s[t]=!0),n!==e&&m.add(n)});const w=Sd(m.values());return np(e,this._triggerName,n,l,_,h,p,b,w,g,f)}}class ip{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},l=fd(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(l[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const s=t;Object.keys(s).forEach(t=>{let i=s[t];i.length>1&&(i=Cd(i,l,e)),n[t]=i})}}),n}}class rp{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new ip(t.style,t.options&&t.options.params||{})}),op(this.states,"true","1"),op(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new sp(t,e,this.states))}),this.fallbackTransition=function(e,n){return new sp(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},n)}(0,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e){return this.transitionFactories.find(n=>n.match(t,e))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function op(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const ap=new Ud;class up{constructor(t,e){this._driver=t,this._normalizer=e,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],l=Nd(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=l}_buildPlayer(t,e,n){const l=t.element,s=Uh(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(l,s,t.duration,t.delay,t.easing,[])}create(t,e,n={}){const l=[],s=this._animations[t];let i;const r=new Map;if(s?(i=Gd(this._driver,e,s,od,ad,{},{},n,ap,l)).forEach(t=>{const e=Gh(r,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)}):(l.push("The requested animation doesn't exist or has already been destroyed"),i=[]),l.length)throw new Error(`Unable to create the animation due to the following errors: ${l.join("\n")}`);r.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Js)})});const o=Hh(i.map(t=>{const e=r.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=o,o.onDestroy(()=>this.destroy(t)),this.players.push(o),o}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,l){const s=Wh(e,"","","");return Bh(this._getPlayer(t),n,s,l),()=>{}}command(t,e,n,l){if("register"==n)return void this.register(t,l[0]);if("create"==n)return void this.create(t,e,l[0]||{});const s=this._getPlayer(t);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(l[0]));break;case"destroy":this.destroy(t)}}}const cp="ng-animate-queued",hp=".ng-animate-queued",dp="ng-animate-disabled",pp=".ng-animate-disabled",mp="ng-star-inserted",gp=".ng-star-inserted",fp=[],_p={namespaceId:"",setForRemoval:null,hasAnimation:!1,removedBeforeQueried:!1},yp={namespaceId:"",setForRemoval:null,hasAnimation:!1,removedBeforeQueried:!0},bp="__ng_removed";class wp{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function(t){return null!=t?t:null}(n?t.value:t),n){const e=fd(t);delete e.value,this.options=e}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const vp="void",xp=new wp(vp),Cp=new wp("DELETED");class Sp{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Rp(e,this._hostClassName)}listen(t,e,n,l){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=n&&"done"!=n)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);const s=Gh(this._elementListeners,t,[]),i={name:e,phase:n,callback:l};s.push(i);const r=Gh(this._engine.statesByElement,t,{});return r.hasOwnProperty(e)||(Rp(t,ud),Rp(t,ud+"-"+e),r[e]=xp),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(i);t>=0&&s.splice(t,1),this._triggers[e]||delete r[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,l=!0){const s=this._getTrigger(e),i=new kp(this.id,e,t);let r=this._engine.statesByElement.get(t);r||(Rp(t,ud),Rp(t,ud+"-"+e),this._engine.statesByElement.set(t,r={}));let o=r[e];const a=new wp(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&o&&a.absorbOptions(o.options),r[e]=a,o){if(o===Cp)return i}else o=xp;if(a.value!==vp&&o.value===a.value){if(!function(t,e){const n=Object.keys(t),l=Object.keys(e);if(n.length!=l.length)return!1;for(let s=0;s<n.length;s++){const l=n[s];if(!e.hasOwnProperty(l)||t[l]!==e[l])return!1}return!0}(o.params,a.params)){const e=[],n=s.matchStyles(o.value,o.params,e),l=s.matchStyles(a.value,a.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{bd(t,n),yd(t,l)})}return}const u=Gh(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=s.matchTransition(o.value,a.value),h=!1;if(!c){if(!l)return;c=s.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:o,toState:a,player:i,isFallbackTransition:h}),h||(Rp(t,cp),i.onStart(()=>{Pp(t,cp)})),i.onDone(()=>{let e=this.players.indexOf(i);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(i);t>=0&&n.splice(t,1)}}),this.players.push(i),u.push(i),i}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e,n=!1){this._engine.driver.query(t,cd,!0).forEach(t=>{if(t[bp])return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)})}triggerLeaveAnimation(t,e,n,l){const s=this._engine.statesByElement.get(t);if(s){const i=[];if(Object.keys(s).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,vp,l);n&&i.push(n)}}),i.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Hh(i).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const l=e.name;if(n.has(l))return;n.add(l);const s=this._triggers[l].fallbackTransition,i=this._engine.statesByElement.get(t)[l]||xp,r=new wp(vp),o=new kp(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:s,fromState:i,toState:r,player:o,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),this.triggerLeaveAnimation(t,e,!0))return;let l=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)l=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){l=!0;break}}}this.prepareLeaveAnimationListeners(t),l?n.markElementAsRemoved(this.id,t,!1,e):(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}insertNode(t,e){Rp(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const l=n.player;if(l.destroyed)return;const s=n.element,i=this._elementListeners.get(s);i&&i.forEach(e=>{if(e.name==n.triggerName){const l=Wh(s,n.triggerName,n.fromState.value,n.toState.value);l._data=t,Bh(n.player,e.phase,l,e.callback)}}),l.markedForDestroy?this._engine.afterFlush(()=>{l.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,l=e.transition.ast.depCount;return 0==n||0==l?n-l:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(e=>e.element===t)||e}}class Ep{constructor(t,e){this.driver=t,this._normalizer=e,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=((t,e)=>{})}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Sp(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let l=!1;for(let s=n;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,e)){this._namespaceList.splice(s+1,0,t),l=!0;break}l||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let l=this._namespaceLookup[t];l&&l.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let l=0;l<t.length;l++){const s=n[t[l]].namespaceId;if(s){const t=this._fetchNamespace(s);t&&e.add(t)}}}return e}trigger(t,e,n,l){return!!Tp(e)&&(this._fetchNamespace(t).trigger(e,n,l),!0)}insertNode(t,e,n,l){if(!Tp(e))return;const s=e[bp];s&&s.setForRemoval&&(s.setForRemoval=!1),t&&this._fetchNamespace(t).insertNode(e,n),l&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Rp(t,dp)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Pp(t,dp))}removeNode(t,e,n){if(!Tp(e))return void this._onRemovalComplete(e,n);const l=t?this._fetchNamespace(t):null;l?l.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n)}markElementAsRemoved(t,e,n,l){this.collectedLeaveElements.push(e),e[bp]={namespaceId:t,setForRemoval:l,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,l,s){return Tp(e)?this._fetchNamespace(t).listen(e,n,l,s):()=>{}}_buildInstruction(t,e,n,l){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,l,t.fromState.options,t.toState.options,e)}destroyInnerAnimations(t){let e=this.driver.query(t,cd,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,dd,!0)).forEach(t=>this.finishActiveQueriedAnimationOnElement(t))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()});const n=this.statesByElement.get(t);n&&Object.keys(n).forEach(t=>n[t]=Cp)}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Hh(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[bp];if(e&&e.setForRemoval){if(t[bp]=_p,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,pp)&&this.markElementAsDisabled(t,!1),this.driver.query(t,pp,!0).forEach(e=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Rp(this.collectedEnterElements[n],mp);if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Hh(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Ud,l=[],s=new Map,i=[],r=new Map,o=new Map,a=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,hp,!0);for(let n=0;n<e.length;n++)u.add(e[n])});const c=Xh(),h=Array.from(this.statesByElement.keys()),d=Ip(h,this.collectedEnterElements),p=new Map;let m=0;d.forEach((t,e)=>{const n=od+m++;p.set(e,n),t.forEach(t=>Rp(t,n))});const g=[],f=new Set,_=new Set;for(let I=0;I<this.collectedLeaveElements.length;I++){const t=this.collectedLeaveElements[I],e=t[bp];e&&e.setForRemoval&&(g.push(t),f.add(t),e.hasAnimation?this.driver.query(t,gp,!0).forEach(t=>f.add(t)):_.add(t))}const y=new Map,b=Ip(h,Array.from(f));b.forEach((t,e)=>{const n=ad+m++;y.set(e,n),t.forEach(t=>Rp(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>Pp(t,n))}),b.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>Pp(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const w=[],v=[];for(let I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(e).forEach(t=>{const e=t.player;w.push(e);const s=t.element;if(!c||!this.driver.containsElement(c,s))return void e.destroy();const u=y.get(s),h=p.get(s),d=this._buildInstruction(t,n,h,u);if(!d.errors||!d.errors.length)return t.isFallbackTransition?(e.onStart(()=>bd(s,d.fromStyles)),e.onDestroy(()=>yd(s,d.toStyles)),void l.push(e)):(d.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(s,d.timelines),i.push({instruction:d,player:e,element:s}),d.queriedElements.forEach(t=>Gh(r,t,[]).push(e)),d.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=o.get(e);t||o.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void d.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let l=a.get(e);l||a.set(e,l=new Set),n.forEach(t=>l.add(t))}));v.push(d)});if(v.length){const t=[];v.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),w.forEach(t=>t.destroy()),this.reportError(t)}const x=new Map,C=new Map;i.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,x))}),l.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Gh(x,e,[]).push(t),t.destroy()})});const S=g.filter(t=>Dp(t,o,a)),E=new Map;Ap(E,this.driver,_,a,Js).forEach(t=>{Dp(t,o,a)&&S.push(t)});const k=new Map;d.forEach((t,e)=>{Ap(k,this.driver,new Set(t),o,ri)}),S.forEach(t=>{const e=E.get(t),n=k.get(t);E.set(t,Object.assign({},e,n))});const T=[],O=[],A={};i.forEach(t=>{const{element:e,player:i,instruction:r}=t;if(n.has(e)){if(u.has(e))return i.onDestroy(()=>yd(e,r.toStyles)),void l.push(i);let t=A;if(C.size>1){let n=e;const l=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}l.push(n)}l.forEach(e=>C.set(e,t))}const n=this._buildAnimation(i.namespaceId,r,x,s,k,E);if(i.setRealPlayer(n),t===A)T.push(i);else{const e=this.playersByElement.get(t);e&&e.length&&(i.parentPlayer=Hh(e)),l.push(i)}}else bd(e,r.fromStyles),i.onDestroy(()=>yd(e,r.toStyles)),O.push(i),u.has(e)&&l.push(i)}),O.forEach(t=>{const e=s.get(t.element);if(e&&e.length){const n=Hh(e);t.setRealPlayer(n)}}),l.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let I=0;I<g.length;I++){const t=g[I],e=t[bp];if(Pp(t,ad),e&&e.hasAnimation)continue;let n=[];if(r.size){let e=r.get(t);e&&e.length&&n.push(...e);let l=this.driver.query(t,dd,!0);for(let t=0;t<l.length;t++){let e=r.get(l[t]);e&&e.length&&n.push(...e)}}const l=n.filter(t=>!t.destroyed);l.length?Np(this,t,l):this.processLeaveNode(t)}return g.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let n=!1;const l=e[bp];return l&&l.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,l,s){let i=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(i=e)}else{const e=this.playersByElement.get(t);if(e){const t=!s||s==vp;e.forEach(e=>{e.queued||(t||e.triggerName==l)&&i.push(e)})}}return(n||l)&&(i=i.filter(t=>!(n&&n!=t.namespaceId||l&&l!=t.triggerName))),i}_beforeAnimationBuild(t,e,n){const l=e.element,s=e.isRemovalTransition?void 0:t,i=e.isRemovalTransition?void 0:e.triggerName;for(const r of e.timelines){const t=r.element,o=t!==l,a=Gh(n,t,[]);this._getPreviousPlayers(t,o,s,i,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),a.push(t)})}bd(l,e.fromStyles)}_buildAnimation(t,e,n,l,s,i){const r=e.triggerName,o=e.element,a=[],u=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h[bp];if(d&&d.removedBeforeQueried)return new si;const p=h!==o,m=function(t){const e=[];return function t(e,n){for(let l=0;l<e.length;l++){const s=e[l];s instanceof ii?t(s.players,n):n.push(s)}}((n.get(h)||fp).map(t=>t.getRealPlayer()),e),e}().filter(t=>!!t.element&&t.element===h),g=s.get(h),f=i.get(h),_=Uh(0,this._normalizer,0,e.keyframes,g,f),y=this._buildPlayer(e,_,m);if(e.subTimeline&&l&&c.add(h),p){const e=new kp(t,r,h);e.setRealPlayer(y),a.push(e)}return y});a.forEach(t=>{Gh(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>(function(t,e,n){let l;if(t instanceof Map){if(l=t.get(e)){if(l.length){const t=l.indexOf(n);l.splice(t,1)}0==l.length&&t.delete(e)}}else if(l=t[e]){if(l.length){const t=l.indexOf(n);l.splice(t,1)}0==l.length&&delete t[e]}return l})(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>Rp(t,hd));const d=Hh(h);return d.onDestroy(()=>{u.forEach(t=>Pp(t,hd)),yd(o,e.toStyles)}),c.forEach(t=>{Gh(l,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new si}}class kp{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new si,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.queued=!0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Bh(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.queued=!1)}getRealPlayer(){return this._player}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Gh(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}get totalTime(){return this._player.totalTime}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Tp(t){return t&&1===t.nodeType}function Op(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Ap(t,e,n,l,s){const i=[];n.forEach(t=>i.push(Op(t)));const r=[];l.forEach((n,l)=>{const i={};n.forEach(t=>{const n=i[t]=e.computeStyle(l,t,s);n&&0!=n.length||(l[bp]=yp,r.push(l))}),t.set(l,i)});let o=0;return n.forEach(t=>Op(t,i[o++])),r}function Ip(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const l=new Set(e),s=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let i=s.get(e);if(i)return i;const r=e.parentNode;return i=n.has(r)?r:l.has(r)?1:t(r),s.set(e,i),i}(t);1!==e&&n.get(e).push(t)}),n}const Mp="$$classes";function Rp(t,e){if(t.classList)t.classList.add(e);else{let n=t[Mp];n||(n=t[Mp]={}),n[e]=!0}}function Pp(t,e){if(t.classList)t.classList.remove(e);else{let n=t[Mp];n&&delete n[e]}}function Np(t,e,n){Hh(n).onDone(()=>t.processLeaveNode(e))}function Dp(t,e,n){const l=n.get(t);if(!l)return!1;let s=e.get(t);return s?l.forEach(t=>s.add(t)):e.set(t,l),n.delete(t),!0}class Vp{constructor(t,e){this._driver=t,this._triggerCache={},this.onRemovalComplete=((t,e)=>{}),this._transitionEngine=new Ep(t,e),this._timelineEngine=new up(t,e),this._transitionEngine.onRemovalComplete=((t,e)=>this.onRemovalComplete(t,e))}registerTrigger(t,e,n,l,s){const i=t+"-"+l;let r=this._triggerCache[i];if(!r){const t=[],e=Nd(this._driver,s,t);if(t.length)throw new Error(`The animation trigger "${l}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);r=function(t,e){return new rp(t,e)}(l,e),this._triggerCache[i]=r}this._transitionEngine.registerTrigger(e,l,r)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,l){this._transitionEngine.insertNode(t,e,n,l)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,l){if("@"==n.charAt(0)){const[t,s]=qh(n);this._timelineEngine.command(t,e,s,l)}else this._transitionEngine.trigger(t,e,n,l)}listen(t,e,n,l,s){if("@"==n.charAt(0)){const[t,l]=qh(n);return this._timelineEngine.listen(t,e,l,s)}return this._transitionEngine.listen(t,e,n,l,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}class jp extends Qs{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:l.N.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Xs(t):t;return zp(this._renderer,null,e,"register",[n]),new Fp(e,this._renderer)}}class Fp extends Ks{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Lp(this._id,t,e||{},this._renderer)}}class Lp{constructor(t,e,n,l){this.id=t,this.element=e,this._renderer=l,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return zp(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function zp(t,e,n,l,s){return t.setProperty(e,`@@${n}:${l}`,s)}const Hp="@",Up="@.disabled";class Bp{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=((t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)})}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new $p("",n,this.engine),this._rendererCache.set(n,t)),t}const l=e.id,s=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(s,t),e.data.animation.forEach(e=>this.engine.registerTrigger(l,s,t,e.name,e)),new Wp(this,s,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class $p{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t){return this.delegate.selectRootElement(t)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,l){this.delegate.setAttribute(t,e,n,l)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,l){this.delegate.setStyle(t,e,n,l)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Hp&&e==Up?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Wp extends $p{constructor(t,e,n,l){super(e,n,l),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Hp?"."==e.charAt(1)&&e==Up?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Hp){const l=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let s=e.substr(1),i="";return s.charAt(0)!=Hp&&([s,i]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,l,s,i,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}class Gp extends Vp{constructor(t,e){super(t,e)}}function qp(){return new tp}function Qp(t,e,n){return new Bp(t,e,n)}class Kp{}class Jp{}var Zp=l._0(s,[i],function(t){return l._11([l._12(512,l.j,l.W,[[8,[yi,Oo,zo,Ca,Ta,Ma,zh]],[3,l.j],l.v]),l._12(5120,l.s,l._21,[[3,l.s]]),l._12(4608,D,V,[l.s,[2,N]]),l._12(5120,l.c,l._5,[]),l._12(5120,l.q,l._13,[]),l._12(5120,l.r,l._16,[]),l._12(4608,zl,Hl,[Ct]),l._12(6144,l.E,null,[zl]),l._12(4608,hl,dl,[]),l._12(5120,Fn,function(t,e,n,s,i){return[new class extends zn{constructor(t,e){super(t),this.ngZone=e,this.patchEvent()}patchEvent(){if(!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[il]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let s=n;if(!t[nl]||l.x.isInAngularZone()&&!al(e))t.addEventListener(e,s,!1);else{let n=sl[e];n||(n=sl[e]=el("ANGULAR"+e+"FALSE"));let l=t[n];const i=l&&l.length>0;l||(l=t[n]=[]);const r=al(e)?Zone.root:Zone.current;if(0===l.length)l.push({zone:r,handler:s});else{let t=!1;for(let e=0;e<l.length;e++)if(l[e].handler===s){t=!0;break}t||l.push({zone:r,handler:s})}i||t[nl](e,ul,!1)}return()=>this.removeEventListener(t,e,s)}removeEventListener(t,e,n){let l=t[ll];if(!l)return t.removeEventListener.apply(t,[e,n,!1]);let s=sl[e],i=s&&t[s];if(!i)return t.removeEventListener.apply(t,[e,n,!1]);let r=!1;for(let o=0;o<i.length;o++)if(i[o].handler===n){r=!0,i.splice(o,1);break}r?0===i.length&&l.apply(t,[e,ul,!1]):t.removeEventListener.apply(t,[e,n,!1])}}(t,e),new gl(n),new class extends zn{constructor(t,e){super(t),this._config=e}supports(t){if(!cl.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))return!1;if(!window.Hammer)throw new Error(`Hammer.js is not loaded, can not bind ${t} event`);return!0}addEventListener(t,e,n){const l=this.manager.getZone();return e=e.toLowerCase(),l.runOutsideAngular(()=>{const s=this._config.buildHammer(t),i=function(t){l.runGuarded(function(){n(t)})};return s.on(e,i),()=>s.off(e,i)})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}(s,i)]},[Ct,l.x,Ct,Ct,hl]),l._12(4608,Ln,Ln,[Fn,l.x]),l._12(135680,Un,Un,[Ct]),l._12(4608,Kn,Kn,[Ln,Un]),l._12(4608,sd,ld,[]),l._12(5120,Xd,qp,[]),l._12(4608,Vp,Gp,[sd,Xd]),l._12(5120,l.C,Qp,[Kn,Vp,l.x]),l._12(6144,Hn,null,[Un]),l._12(4608,l.K,l.K,[l.x]),l._12(4608,In,In,[Ct]),l._12(4608,Nn,Nn,[Ct]),l._12(6144,Re,null,[Ct]),l._12(4608,Pe,Pe,[[2,Re]]),l._12(4608,g,g,[]),l._12(4608,zt,zt,[g]),l._12(4608,$t,$t,[zt,l.x,Ct]),l._12(136192,Xt,te,[[3,Xt],Ct]),l._12(5120,ne,le,[[3,ne],[2,ee],Ct]),l._12(5120,ie,re,[[3,ie],l.x,g]),l._12(5120,Xr,to,[[3,Xr]]),l._12(5120,ke,Te,[[3,ke],l.x,g]),l._12(5120,Ae,Ie,[[3,Ae],g,l.x]),l._12(4608,Xe,Xe,[ke,Ae,l.x,Ct]),l._12(5120,an,un,[[3,an],Ct]),l._12(4608,sn,sn,[Ae,Ct]),l._12(5120,rn,on,[[3,rn],Ct]),l._12(4608,hn,hn,[Xe,an,l.j,sn,rn,l.g,l.p,l.x,Ct]),l._12(5120,dn,pn,[hn]),l._12(4608,Bs,Bs,[g]),l._12(135680,Ws,Ws,[Bs,l.x]),l._12(5120,ci,hi,[hn]),l._12(4608,Qs,jp,[l.C,Tn]),l._12(5120,Sc,Rh,[uh]),l._12(4608,vh,vh,[]),l._12(6144,bh,null,[vh]),l._12(135680,xh,xh,[uh,l.u,l.i,l.p,bh]),l._12(4608,wh,wh,[]),l._12(5120,Vh,Dh,[Ph]),l._12(5120,l.b,function(t){return[t]},[Vh]),l._12(512,xt,xt,[]),l._12(1024,l.l,Jl,[]),l._12(1024,l.w,function(){return[kh()]},[]),l._12(512,Ph,Ph,[l.p]),l._12(1024,l.d,function(t,e){return[function(t){return Dn("probe",jn),Dn("coreTokens",Object.assign({},Vn,(t||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>jn}(t),Nh(e)]},[[2,l.w],Ph]),l._12(512,l.e,l.e,[[2,l.d]]),l._12(131584,l.g,l.g,[l.x,l.X,l.p,l.l,l.j,l.e]),l._12(512,l.f,l.f,[l.g]),l._12(512,Zl,Zl,[[3,Zl]]),l._12(512,Ne,Ne,[]),l._12(256,ts,!0,[]),l._12(512,es,es,[[2,ts]]),l._12(512,y,y,[]),l._12(512,Pi,Pi,[]),l._12(512,zi,zi,[]),l._12(512,ss,ss,[]),l._12(512,ga,ga,[]),l._12(512,oe,oe,[]),l._12(512,Bo,Bo,[]),l._12(512,Ue,Ue,[]),l._12(512,Ko,Ko,[]),l._12(512,ds,ds,[]),l._12(512,Ei,Ei,[]),l._12(512,oo,oo,[]),l._12(512,Me,Me,[]),l._12(512,mn,mn,[]),l._12(512,qs,qs,[]),l._12(512,gi,gi,[]),l._12(512,Kp,Kp,[]),l._12(1024,Sh,Ah,[[3,uh]]),l._12(512,Gu,qu,[]),l._12(512,fh,fh,[]),l._12(256,Ch,{},[]),l._12(1024,v,Oh,[b,[2,x],Ch]),l._12(512,C,C,[v]),l._12(512,l.i,l.i,[]),l._12(512,l.u,l.H,[l.i,[2,l.I]]),l._12(1024,lh,function(){return[[{path:"",redirectTo:"/#",pathMatch:"full"},{path:"pretrained",redirectTo:"/#",pathMatch:"full"},{path:"",component:yo},{path:"simulation",component:Io},{path:"explanation",component:wa},{path:"about",component:Sa},{path:"dqn-method",component:Oa}]]},[]),l._12(1024,uh,Mh,[l.g,Gu,fh,C,l.p,l.u,l.i,lh,Ch,[2,ih],[2,eh]]),l._12(512,Th,Th,[[2,Sh],[2,uh]]),l._12(512,Jp,Jp,[]),l._12(512,s,s,[]),l._12(256,di,{showDelay:0,hideDelay:0,touchendHideDelay:1500},[])])});Object(l.Q)(),Kl().bootstrapModuleFactory(Zp)},y3s0:function(t,e,n){"use strict";var l=n("ves3"),s=n("R3ym"),i=n("XVqe"),r=n("f2Ls");class o extends l.a{constructor(t,e){super(),this.array=t,this.scheduler=e,e||1!==t.length||(this._isScalar=!0,this.value=t[0])}static create(t,e){return new o(t,e)}static of(...t){let e=t[t.length-1];Object(r.a)(e)?t.pop():e=null;const n=t.length;return n>1?new o(t,e):1===n?new s.a(t[0],e):new i.a(e)}static dispatch(t){const{array:e,index:n,count:l,subscriber:s}=t;n>=l?s.complete():(s.next(e[n]),s.closed||(t.index=n+1,this.schedule(t)))}_subscribe(t){const e=this.array,n=e.length,l=this.scheduler;if(l)return l.schedule(o.dispatch,0,{array:e,index:0,count:n,subscriber:t});for(let s=0;s<n&&!t.closed;s++)t.next(e[s]);t.complete()}}e.a=o},zOxy:function(t,e,n){"use strict";const l=function(t){let e,l=n("bbL7").a.Symbol;return"function"==typeof l?l.observable?e=l.observable:(e=l("observable"),l.observable=e):e="@@observable",e}();e.a=l},zfOv:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const l=n("7oRV"),s=n("qQPk"),i=n("mfKF");e.LSTM=class extends i.RNNModel{constructor(t){super(t)}initializeNetworkModel(){return{hidden:{input:{Wx:new Array(this.hiddenUnits.length),Wh:new Array(this.hiddenUnits.length),bh:new Array(this.hiddenUnits.length)},forget:{Wx:new Array(this.hiddenUnits.length),Wh:new Array(this.hiddenUnits.length),bh:new Array(this.hiddenUnits.length)},output:{Wx:new Array(this.hiddenUnits.length),Wh:new Array(this.hiddenUnits.length),bh:new Array(this.hiddenUnits.length)},cell:{Wx:new Array(this.hiddenUnits.length),Wh:new Array(this.hiddenUnits.length),bh:new Array(this.hiddenUnits.length)}},decoder:{Wh:null,b:null}}}isFromJSON(t){return i.RNNModel.has(t,["hidden","decoder"])&&i.RNNModel.has(t.hidden,["input","forget","output","cell"])&&i.RNNModel.has(t.input,["Wh","Wx","bh"])&&i.RNNModel.has(t.forget,["Wh","Wx","bh"])&&i.RNNModel.has(t.output,["Wh","Wx","bh"])&&i.RNNModel.has(t.cell,["Wh","Wx","bh"])&&i.RNNModel.has(t.decoder,["Wh","b"])}initializeHiddenLayerFromJSON(t){i.RNNModel.assert(t.hidden.forget&&t.hidden.forget&&t.hidden.output&&t.hidden.cell,"Wrong JSON Format to recreat Hidden Layer."),this.isValid(t.hidden.input),this.isValid(t.hidden.forget),this.isValid(t.hidden.output),this.isValid(t.hidden.cell);for(let e=0;e<t.hidden.Wh.length;e++)this.model.hidden.input.Wx=l.Mat.fromJSON(t.hidden.input.Wx),this.model.hidden.input.Wh=l.Mat.fromJSON(t.hidden.input.Wh),this.model.hidden.input.bh=l.Mat.fromJSON(t.hidden.input.bh),this.model.hidden.forget.Wx=l.Mat.fromJSON(t.hidden.Wx),this.model.hidden.forget.Wh=l.Mat.fromJSON(t.hidden.Wh),this.model.hidden.forget.bh=l.Mat.fromJSON(t.hidden.bh),this.model.hidden.output.Wx=l.Mat.fromJSON(t.hidden.Wx),this.model.hidden.output.Wh=l.Mat.fromJSON(t.hidden.Wh),this.model.hidden.output.bh=l.Mat.fromJSON(t.hidden.bh),this.model.hidden.cell.Wx=l.Mat.fromJSON(t.hidden.Wx),this.model.hidden.cell.Wh=l.Mat.fromJSON(t.hidden.Wh),this.model.hidden.cell.bh=l.Mat.fromJSON(t.hidden.hb)}isValid(t){i.RNNModel.assert(t&&!Array.isArray(t.Wx),"Wrong JSON Format to recreat Hidden Layer."),i.RNNModel.assert(t&&!Array.isArray(t.Wh),"Wrong JSON Format to recreat Hidden Layer."),i.RNNModel.assert(t&&!Array.isArray(t.bh),"Wrong JSON Format to recreat Hidden Layer.")}initializeHiddenLayer(){for(let t=0;t<this.hiddenUnits.length;t++){const e=0===t?this.inputSize:this.hiddenUnits[t-1],n=this.hiddenUnits[t];this.model.hidden.input.Wx[t]=new s.RandMat(n,e,0,.08),this.model.hidden.input.Wh[t]=new s.RandMat(n,n,0,.08),this.model.hidden.input.bh[t]=new l.Mat(n,1),this.model.hidden.forget.Wx[t]=new s.RandMat(n,e,0,.08),this.model.hidden.forget.Wh[t]=new s.RandMat(n,n,0,.08),this.model.hidden.forget.bh[t]=new l.Mat(n,1),this.model.hidden.output.Wx[t]=new s.RandMat(n,e,0,.08),this.model.hidden.output.Wh[t]=new s.RandMat(n,n,0,.08),this.model.hidden.output.bh[t]=new l.Mat(n,1),this.model.hidden.cell.Wx[t]=new s.RandMat(n,e,0,.08),this.model.hidden.cell.Wh[t]=new s.RandMat(n,n,0,.08),this.model.hidden.cell.bh[t]=new l.Mat(n,1)}}forward(t,e,n){n=n||this.graph;const l=this.getPreviousCellActivations(e),s=this.getPreviousHiddenUnitActivations(e),i=new Array,r=new Array;return this.computeHiddenLayer(t,s,l,r,i,n),{hiddenUnits:r,cells:i,output:this.computeOutput(r,n)}}computeHiddenLayer(t,e,n,l,s,i){for(let r=0;r<this.hiddenUnits.length;r++){const o=0===r?t:l[r-1],a=e[r],u=n[r],c=i.mul(this.model.hidden.input.Wx[r],o),h=i.mul(this.model.hidden.input.Wh[r],a),d=i.sigmoid(i.add(i.add(c,h),this.model.hidden.input.bh[r])),p=i.mul(this.model.hidden.forget.Wx[r],o),m=i.mul(this.model.hidden.forget.Wh[r],a),g=i.sigmoid(i.add(i.add(p,m),this.model.hidden.forget.bh[r])),f=i.mul(this.model.hidden.output.Wx[r],o),_=i.mul(this.model.hidden.output.Wh[r],a),y=i.sigmoid(i.add(i.add(f,_),this.model.hidden.output.bh[r])),b=i.mul(this.model.hidden.cell.Wx[r],o),w=i.mul(this.model.hidden.cell.Wh[r],a),v=i.tanh(i.add(i.add(b,w),this.model.hidden.cell.bh[r])),x=i.eltmul(g,u),C=i.eltmul(d,v),S=i.add(x,C),E=i.eltmul(y,i.tanh(S));s.push(S),l.push(E)}}getPreviousHiddenUnitActivations(t){let e;if(this.givenPreviousInnerState(t))e=t.hiddenUnits;else{e=new Array;for(let t=0;t<this.hiddenUnits.length;t++)e.push(new l.Mat(this.hiddenUnits[t],1))}return e}getPreviousCellActivations(t){let e;if(this.givenPreviousInnerState(t))e=t.cells;else{e=new Array;for(let t=0;t<this.hiddenUnits.length;t++)e.push(new l.Mat(this.hiddenUnits[t],1))}return e}givenPreviousInnerState(t){return t||"undefined"!=typeof t.hiddenUnits}}}},[0]);